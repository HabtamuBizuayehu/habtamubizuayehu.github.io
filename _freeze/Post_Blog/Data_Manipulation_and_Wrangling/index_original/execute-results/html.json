{
  "hash": "0f4fdedf1c745b0aef2a4aa97e17bb3f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Date Manipulation and Wrangling using R\"\ndescription: |\n  A guide for essential R techniques for data cleaning, transformation, and visualization.\nauthor: \"Habtamu Bizuayehu\"\nwebsite: \"https://habtamubizuayehu.com/\"\ngithub: \"https://github.com/HabtamuBizuayehu\"\norcid: \"https://orcid.org/0000-0002-1360-4909\"\ndate: 2025-05-20\nimage: \"treemap.png\"\nhighlight-style: github\noutput-dir: \"docs\"\ncategories: [Data management via R]\nformat: html\ntoc: true\ntoc-depth: 3\nself-contained: true\nnumber-sections: false\ncode-fold: false\ncode-tools: true\ncode-summary: \"Show the code\"\ntheme: united\nknitr: \n opts_knit: \n   warning: false\n   message: false\neditor: visual\n---\n\n# **Comprehensive Data Manipulation and Wrangling via R**\n\nThis presentation provides a comprehensive walkthrough of data manipulation and wrangling in R, covering foundational setup, core syntax, data importing, exploration, and transformation techniques. It systematically introduces essential R packages and functions for cleaning, summarizing, and visualizing data, followed by advanced topics such as working with dates and handling missing values. Practical sections on looping, writing functions, and building interactive Shiny applications are also included to enhance automation and interactivity. The presentation concludes with real-world case studies, demonstrating how to apply these techniques to healthcare and public health datasets. This guide is designed to build technical proficiency and practical confidence for effective data analysis using R.\n\n**This Presentation/Project Covers**\n\n\\- **Part I: FOUNDATIONS AND INTRODUCTION**\\\nInstalling R and RStudio, setting working directories, clearing console, loading packages, R syntax and shortcuts, R object types, Quarto and R Markdown overview.\n\n\\- **Part II: DATA LOADING AND EXPLORATION**\\\nImporting CSV/Excel data, reading datasets into R.\n\n\\- **Part III: WRANGLING WITH `dplyr`**\\\nSelecting and renaming columns, creating variables, splitting text, extracting patterns, working with factors, grouping, sorting, reshaping data.\n\n\\- **Part IV: ADVANCED WRANGLING AND INTEGRATION**\\\nHandling dates, deduplication, merging datasets, identifying and imputing missing values.\n\n\\- **Part V: DESCRIPTIVE STATISTICS AND TABULATION**\\\nSummary stats, skewness/kurtosis, frequencies, cross tabulations, exporting summaries.\n\n\\- **Part VI: DATA VISUALIZATION WITH `ggplot2`**\\\nChart components, common plots, multivariate visuals, geospatial maps, overlays, themes and labels.\n\n\\- **Part VII: SHINY APP ‚Äì BUILDING WEB APPS**\\\nUI and server structure, reactive inputs/outputs, DT tables, app deployment.\n\n------------------------------------------------------------------------\n\n## **PART I: FOUNDATIONS AND INTRODUCTION**\n\n### **1.1 Getting Started with R**\n\nThis section will cover the following contents\n\n\\- Installing R and RStudio\n\n\\- Setting working directories\n\n\\- Clearing environment and console\n\n\\- Installing and loading packages (eg `tidyverse`, `janitor`, etc.)\n\n-   **Installing R and RStudio**\n\nWhen we begin working with R, the very first step we take is installing two important tools: R itself (the engine) and RStudio (the friendly interface we use every day). I recommend that we install R first and then RStudio immediately after.\n\nTo make this clear, I have prepared a complete video tutorial that you can watch step-by-step:\n\nWathc at [AnalyticsHub YouTube](https://www.youtube.com/watch?v=wFaBBRfaABw){target=\"_blank\"}\n\nThe video, shows:\n\n-   How to Download R from the CRAN website.\n\n-   Install RStudio, which gives us a powerful yet simple environment to work in.\n\n-   Briefly explore basic options like font size, theme (dark/light mode), and code editor settings to make RStudio comfortable for coding.\n\n-   **Setting working directories\\\n    **When we work in R, it's very important that we know *where* R is reading from and saving to.\\\n    I often think of the **working directory** as the \"home folder\" where all my files live during an R session.\n\n    We can easily **check** our current working directory by typing:\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    getwd() \n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    \n    ```\n    [1] \"C:/Users/User/Desktop/Materials_ Course and proposals/VIP collection for Syntax code or project titles/R codes/Website profile Mod 2/Post_Blog/Data_Manipulation_and_Wrangling\"\n    ```\n    \n    \n    :::\n    :::\n\n\nThis command tells us exactly where R is currently looking for files.\n\nIf we want to **change** the working directory to a folder we are working on (for example, a project folder or a course material folder), we can use:\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetwd(\"C:/Users/User/Desktop/Materials_ Course and proposals/\")\n```\n:::\n\n\nAlways make sure the folder path is in **quotation marks** and I use **forward slashes `/`** or double backslashes `\\\\` when typing the path.\n\nüìå We can also set the working directory easily by clicking:\n\n> **Session ‚ûî Set Working Directory ‚ûî Choose Directory...**\n\n**üìö Note about API tokens and special folders:**\n\nIf you are using R for connecting to APIs, cloud storage, or services like GitHub, Dropbox, or Google Drive,\\\nsometimes you will need to **set a working directory** where your **API token file** is stored (for authentication).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetwd(\"C:/Users/YourName/.credentials/\") \n```\n:::\n\n\n‚ö†Ô∏è **Important**: Always make sure API tokens and confidential files are in a secure private directory.\n\n-   **Clearing environment and console**\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # Clear environment and console\n    rm(list = ls()) # To clear the environment (remove all objects in memory)\n    cat(\"\\014\") # To clear the console (like wiping a whiteboard)\n    ```\n    \n    \f\n    :::\n\n\n    Before starting fresh in any R session, I like to **clear out everything**‚Äîall variables, data, and even the clutter in the console.\n\n-   **Installing and loading packages**\n\n    We rely on a range of **packages** in R for data wrangling, visualization, dashboards, and reporting.\\\n    I typically create a vector of required packages and write a small loop to install any missing ones.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ------------------ Set CRAN Repository ------------------\n\noptions(repos = c(CRAN = \"https://cran.rstudio.com\"))\n\n# ------------------ List of required packages for Data Wrangling and Analysis ------------------\npackages <- c(\n  \"lubridate\", \"dplyr\", \"stringr\", \"zoo\", \"tsibble\", \"ggplot2\", \"plotly\", \n  \"readr\", \"readxl\", \"haven\", \"openxlsx\", \"labelled\", \"forecast\",\n  \"prettydoc\", \"janitor\", \"knitr\", \"rmarkdown\", \"yaml\", \n  \"flextable\", \"scales\", \"gt\", \"reactable\", \"DT\", \"gmodels\", \"Hmisc\",\n  \"tidyverse\", \"tidyr\", \"officer\",\n  \"shiny\", \"shinydashboard\", \"shinythemes\", \"mice\", \"shinyWidgets\", \"bslib\", \"quarto\"\n)\n\n# ------------------ Install and load packages ------------------\nfor (pkg in packages) {\n  if (!require(pkg, character.only = TRUE)) {\n    install.packages(pkg)\n  }\n}\n\n# ------------------ Load required libraries with descriptions ------------------\nlibrary(lubridate)     # Simplifies the manipulation of dates and times in R (e.g., formatting, extracting components)\nlibrary(dplyr)         # Data manipulation: filtering, summarizing, and transforming data\nlibrary(stringr)       # Simplifies string manipulation\nlibrary(tidyr)         # Data tidying: reshaping with pivot_longer, pivot_wider, etc.\nlibrary(purrr)         # Functional programming: map functions over lists/vectors\nlibrary(forcats)       # Categorical data: reordering and labeling factor levels\n\nlibrary(zoo)           # Infrastructure for time series objects\nlibrary(tsibble)       # Tidy temporal data frames and time series modeling\nlibrary(forecast)      # Forecasting functions for time series models\n\nlibrary(readr)         # Read rectangular data like CSVs\nlibrary(readxl)        # Read Excel files (.xls and .xlsx)\nlibrary(haven)         # Import data from SAS, SPSS, and Stata\nlibrary(openxlsx)      # Write to Excel with more control\nlibrary(labelled)      # Attach and work with variable labels\n\nlibrary(ggplot2)       # Create elegant data visualizations using the grammar of graphics\nlibrary(plotly)        # Interactive visualizations using ggplot2 or standalone plotly\nlibrary(scales)        # Provides scale functions for ggplot2 (e.g., log, percent)\n\nlibrary(janitor)       # Clean data: make column names nice, tabulate, etc.\nlibrary(gmodels)       # CrossTables and other classic stats tools\nlibrary(Hmisc)         # Summarization and advanced table/label handling\nlibrary(mice)           # missing data imputation\n\nlibrary(knitr)         # Dynamic report generation in R\nlibrary(rmarkdown)     # Convert R scripts to reports in various formats\nlibrary(prettydoc)     # Beautiful HTML document templates\nlibrary(yaml)          # Read and write YAML files (used in R Markdown, Quarto)\nlibrary(officer)       # Export tables and reports to Word/PowerPoint\n\nlibrary(flextable)     # Create nicely formatted tables\nlibrary(gt)            # Grammar of tables for HTML and PDF output\nlibrary(reactable)     # Interactive data tables\nlibrary(DT)            # Wrapper of JavaScript DataTables for R\n\nlibrary(shiny)         # Build interactive web applications directly from R\nlibrary(shinydashboard)# Create dashboard layouts for Shiny apps\nlibrary(shinythemes)   # Prebuilt UI themes for Shiny apps\nlibrary(shinyWidgets)  # Enhanced UI widgets for Shiny\nlibrary(bslib)         # Bootstrap themes for Shiny and rmarkdown\n\nlibrary(quarto)        # Rendering Quarto documents\n```\n:::\n\n\n### **1.2 R Syntax Symbols and Essentials**\n\n-   Operators: `<-`, `%>%`, `==`, `&`, `|`, `~`\n-   Additional Operators: `%in%`, `::`, `%<>%`, `|>`\n-   Symbols: `()`, `[]`, `{}`, `\"\"`, `#`\n-   Commenting, structure, and help functions (`?function`, `args()`)\n-   Using R scripts vs. R Markdown vs. Quarto\n\nIn this section, we walk through the fundamental syntax building blocks of R.\\\nMastering these basics helps write cleaner, more efficient, and more readable code.\n\nüîπ **Operators**\n\nIn R, operators are used to perform operations on objects and values:\n\n-   **Assignment operators** (`<-`, `=`) store values into objects.\n-   **Pipe operators** (`%>%`, `%<>%`, `|>`) allow chaining multiple commands together.\n-   **Comparison operators** (`==`, `!=`, `<`, `>`) compare values for equality or relational logic.\n-   **Logical operators** (`&`, `|`, `!`) build logical expressions (AND, OR, NOT).\n-   **Formula operator** (`~`) defines models and formulas, e.g., `y ~ x1 + x2`.\n-   **Membership operator** (`%in%`) checks whether an element belongs to a set.\n-   **Package access operator** (`::`) calls a function from a package without loading the full package.\n\nüîπ **Symbols**\n\nSymbols are special characters used in structuring R code:\n\n-   `()` : Used for function calls and setting arguments.\n-   `[]` : Indexing vectors, matrices, or data frames.\n-   `{}` : Grouping multiple expressions into a code block.\n-   `\"\"` or `''` : Define character strings.\n-   `#` : Create comments that are ignored during code execution.\n\nüîπ **Help Functions**\n\n-   `?function_name` : Access the help documentation for any function.\n\n-   `args(function_name)` : Display the arguments a function accepts.\n\n    üîπ Scripting in .R, .Rmd, .qmd\n\n    | Format | Description | Best Use Case |\n    |------------------|--------------------------|----------------------------|\n    | `.R` | Basic R script. Contains code only, no formatting or output. | Exploratory coding, testing snippets |\n    | `.Rmd` | R Markdown file. Supports code + text + output in one file. | Reproducible reports, presentations, notebooks |\n    | `.qmd` | Quarto document. Successor to R Markdown with more flexible publishing. | Polished reports, web publishing, multi-language |\n\nüìä R Syntax Essentials Summary\n\n| **Element** | **Symbol / Syntax** | **What It Does** |\n|:------------------|:------------------|:---------------------------------|\n| Assignment | `<-`, `=` | Assign a value to a variable (e.g., `x <- 5`) |\n| Pipe | `%>%`, `%<>%`, `|>` | Pass or transform results between functions |\n| Comparison | `==`, `!=`, `<`, `>` | Compare values (equal, not equal, less than, etc.) |\n| Logical | `&`, `|`, `!` | Logical conditions: AND, OR, NOT |\n| Formula | `~` | Define model formulas (e.g., `y ~ x1 + x2`) |\n| Membership Test | `%in%` | Check if an element exists within a vector |\n| Package Function Access | `::` | Call a function from a specific package without loading it |\n| Function Call | `()` | Call a function with arguments (e.g., `mean(x)`) |\n| Indexing | `[]` | Access parts of data structures (e.g., `x[1]`, `df[2,3]`) |\n| Code Block | `{}` | Group multiple lines (loops, conditionals) |\n| Strings | `\"text\"`, `'text'` | Define character strings |\n| Commenting | `#` | Insert a comment ignored by R |\n| Help Functions | `?function`, `args(function)` | Access help or check function arguments |\n| Output Format | `.R`, `.Rmd`, `.qmd` | File formats for scripting or reporting |\n\n?mean \\# Opens the help page for the 'mean' function\n\nargs(mean) \\# Lists input arguments for 'mean'\n\n### **1.3 Keyboard Shortcut and Functions**\n\nIn this section, I highlight essential RStudio shortcut keys that improve coding efficiency and simplify the workflow for scripting and reporting.\n\n| **Shortcut**       | **Action**                                   |\n|:-------------------|:---------------------------------------------|\n| `Ctrl + Z`         | Undo the last action                         |\n| `Ctrl + Shift + Z` | Redo the undone action                       |\n| `Ctrl + Enter`     | Execute the current line or selected block   |\n| `Alt + -`          | Insert assignment operator `<-`              |\n| `Ctrl + Shift + M` | Insert pipe operator `%>%`                   |\n| `Ctrl + L`         | Clear the console output                     |\n| `Ctrl + Shift + C` | Comment or uncomment selected lines          |\n| `Ctrl + Shift + S` | Source and run the entire script             |\n| `Ctrl + Alt + I`   | Insert a new R Markdown or Quarto code chunk |\n\n------------------------------------------------------------------------\n\n### **1.4. Terms and Definitions: R Objects**\n\nElement \\| Vector \\| Matrix \\| \\|Data Frame \\| Data Table \\| List \\| Factor \\| Variable \\| Object\n\nThis section provides a brief overview of foundational R data structures.\\\nFor more detailed explanations and demonstrations, refer to:\n\n-   [YouTube: AnalyticsHub](https://studio.youtube.com/channel/UCLVKP0g8GvHhOh0kn20T8eg/videos/upload?filter=%5B%5D&sort=%7B%22columnType%22%3A%22date%22%2C%22sortOrder%22%3A%22DESCENDING%22%7D)\n-   [GitHub: HabtamuBizuayehu Repositories](https://github.com/HabtamuBizuayehu?tab=repositories)\n\nUnderstanding these fundamental terms is essential for working effectively with R data analysis and wrangling.\n\nüîπ **Brief Narration of Key Terms**\n\n-   **Element**: A single piece of data, such as a number or a character.\n-   **Vector**: An ordered collection of elements of the same type (numeric, character, logical).\n-   **Matrix**: A two-dimensional collection of elements arranged by rows and columns, all of the same type.\n-   **Data Frame**: A two-dimensional table where each column can contain different types of data (numeric, character, factor).\n-   **Data Table**: A high-performance extension from the **`data.table`** package ‚Äî for very large datasets and faster manipulation.\n-   **List**: A flexible container that can hold elements of different types and structures (vectors, data frames, even other lists).\n-   **Factor**: A special type of vector used for categorical data, storing levels internally.\n-   **Variable**: A named object that holds data (vectors, lists, data frames, etc.).\n-   **Object**: A general term for any data structure stored in R.\n\n------------------------------------------------------------------------\n\n**üîç Summary Table: R Objects**\n\n| **Term** | **Definition** |\n|:----------------------|:------------------------------------------------|\n| Element | A single unit of data (e.g., `5`, `\"apple\"`) |\n| Vector | A sequence of elements of the same type |\n| Matrix | A two-dimensional collection of homogeneous elements |\n| Data Frame | A two-dimensional table with heterogeneous column types |\n| Data Table | A fast and memory-efficient data frame extension (`data.table` package) |\n| List | A flexible container for different types of elements |\n| Factor | A categorical variable with predefined levels |\n| Variable | A named object that stores data |\n| Object | Any entity stored in R (data, functions, models, etc.) |\n\n### **1.5. Quarto and R Markdown Options**\n\nThis section summarizes key chunk options and syntax used in Quarto and R Markdown.\\\nThese settings allow flexible control over code execution, output display, figure formatting, and reporting behavior.\n\n## üîç Summary: Quarto and R Markdown Chunk Options\n\n| **Feature** | **Quarto Syntax** | **Description** |\n|:------------------|:------------------|:---------------------------------|\n| Code Chunks | `{r}` | Used to write and execute R code. You can specify options like echo, results. |\n| Echoing Code | `echo: true` | Displays the code in the output (default is true). Set to `false` to hide the code. |\n| Include Code | `include: false` | Executes code but does not show the code in the final output. |\n| Evaluating Code | `eval: false` | Prevents the code from running but still displays the code in the output. |\n| Results Control | `results: 'markup'` or `results: 'asis'` | Controls how output results are displayed (formatted or raw). |\n| Message and Warnings | `message: false`, `warning: false` | Controls whether messages and warnings appear in the output. |\n| Output File Format | `output: html` | Specifies output format (html, pdf, word). Default is html. |\n| Table Output | `results: 'asis'` or `results: 'markup'` | Ensures clean table rendering for formatted output. |\n| Chunk Labeling | `# Label` | Labels help organize and reference code chunks easily. |\n| Inline Code | Your value is 2 times. | Embeds live code inside text for dynamic reporting. |\n| Caching Results | `cache: true` | Saves chunk results to avoid rerunning unchanged code. It stores the output (like objects, plots, and printed results) in a cache directory |\n| Figure Options | `fig.width: 7`, `fig.height: 5`, `fig.align: 'center'` | Adjusts figure size and alignment in output documents. |\n| Output as LaTeX | `latex: true` | Allows LaTeX formatting (mainly for PDFs and math expressions). |\n| Commenting Code | `# (within chunks)` | Standard way to comment within R code chunks. |\n\n‚û°Ô∏è Mastering these options ensures smoother report generation, cleaner outputs, and faster rendering when building professional documents in Quarto or R Markdown.\n\n## **PART II: DATA LOADING AND EXPLORATION**\n\n### **2.1 Reading and Importing Data**\n\n-   File path setup and working with `getwd()`, `paste()`\n-   `read_csv()`, `read_excel()`, `read.delim()`, `readRDS()`\n-   Reading `.tsv`, `.dta`, and `.sav` files (foreign and haven packages)\n-   Reading from ZIP Files\n\nBefore we begin analyzing data in R, we need to **bring it in** from where it's stored‚Äîyour computer, the cloud, or an online source.\n\nThere are many formats we commonly work with in public health and analytics: CSV, Excel, text files, RDS, SPSS, and others.\\\nBelow is a **summary table** of functions used to read each data type.\n\nüìä **Reading Common Data Types in R**\n\n| **Data Type** | **Function** | **Package** | **Example** |\n|------------------|------------------|------------------|-------------------|\n| CSV | `read_csv()`, `read.csv()` | readr / base | `read_csv(\"file.csv\")` |\n| Excel (.xls/.xlsx) | `read_excel()` | readxl | `read_excel(\"file.xlsx\")` |\n| Tab-separated (.tsv) | `read_tsv()` | readr | `read_tsv(\"file.tsv\")` |\n| Text (.txt) | `read.delim()` | base | `read.delim(\"file.txt\")` |\n| Stata (.dta) | `read_dta()` | haven | `read_dta(\"file.dta\")` |\n| SPSS (.sav) | `read_sav()` | haven | `read_sav(\"file.sav\")` |\n| RDS (R object) | `readRDS()` | base | `readRDS(\"object.rds\")` |\n| ZIP archives | `unzip()` | utils (base) | `unzip(\"data.zip\", exdir = \"folder\")` |\n| Online Excel/CSV | `download.file()` + reader | base + readxl | Download file, then `read_excel(temp_file)` |\n\nBefore reading files, I usually set the working directory to the folder where my files are saved. This avoids typing full file paths every time.\n\nTo combine folder names and filenames dynamically: paste(getwd(), \"my_data.csv\", sep = \"/\")\n\n**Reading Local Files**\n\nOnce you're in the right working directory, you can read in your files like below:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsetwd(\"C:/Users/User/Desktop/Materials_ Course and proposals/Course Related/DataCamp/Data/Synthetic_data\")\n\npatients <- read.csv(\"patients.csv\")\nvaccination <- read.csv(\"immunizations.csv\")\n\nmedications <- read.csv (paste(getwd(), \"medications.csv\", sep = \"/\"))\n```\n:::\n\n\nThese are **standard CSVs** and can be read using `read.csv()` from base R, or `read_csv()` from the `readr` package for cleaner output.\n\n**Reading from ZIP Files**\n\nSometimes, especially when downloading from government databases or health systems, data is compressed into `.zip` files. In R, we can easily unzip these files and extract their contents.\n\n**Set working directory to the folder where the zip file is located**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# --- Define base folder manually (safe way without setwd)\nbase_folder <- \"C:/Users/User/Desktop/Materials_ Course and proposals/Course Related/DataCamp/Data/Synthetic_data\"\n\n# --- Extract ZIP file into 'procedures' folder inside base\nunzip(file.path(base_folder, \"procedures.zip\"), exdir = file.path(base_folder, \"procedures\"))\n\n# --- List extracted files\nlist.files(file.path(base_folder, \"procedures\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"procedures\"     \"procedures.csv\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# --- Read extracted CSV\nprocedures <- read.csv(file.path(base_folder, \"procedures\", \"procedures.csv\"))\n```\n:::\n\n\n**Reading Online Files**\n\nIf the file is online, we first **download it**, save it to a **temporary file**, and then read it:\n\nIt is useful when working with **shared datasets, APIs, or GitHub repos**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Upload Online data\n\nurl <- \"https://raw.githubusercontent.com/HabtamuBizuayehu/Data-sources/main/Breast_cancer_screening.xls\"\ntemp_file <- tempfile(fileext = \".xls\")\ndownload.file(url, temp_file, mode = \"wb\")\n\nbreast_cancer_data <- read_excel(temp_file)\n```\n:::\n\n\n**2.2 Exploring Data**\n\n-   `str()`, `summary()`, `glimpse()`, `head()`, `tail()`, `count()`\n-   Viewing data: `view()`, `nrow()`, `ncol()`\n-   Cleaning variable names: `janitor::clean_names()`\n-   Creating a data dictionary\n-   Working with column names and types\n\nOnce we load data into R, it‚Äôs important to **explore it properly** before doing any analysis.\\\nThis step helps us **understand**:\n\n-   What variables we have\n\n-   How the data is structured\n\n-   If there are any issues (like missing values, wrong data types, weird names)\n\nIn this part, we'll look at some essential functions we often use at the very beginning of a project.\n\nüîç **Key Tools for Exploring Data (with Important Details and Tips)**\n\n**1. `str()`, `summary()`, `glimpse()`, `head()`, `tail()`, `count()`**\n\n-   `str(df)` shows the **structure of the entire dataset**: number of observations (rows), number of variables (columns), and data types.\n\n-   `str(df$var)` shows the **structure of a specific variable** (single column), useful to quickly check type and contents.\n\n-   `summary(df)` gives **basic descriptive statistics** for **all variables** at once.\n\n-   `summary(df$var)` gives a **summary for one specific variable**.\n\n-   `glimpse(df)` (from `dplyr`) provides a **compact sideways overview** showing each variable name, type, and preview of values.\n\n-   `head(df)` shows the **first 6 rows** of the dataset by default.\n\n-   `head(df, n = 10)` shows the **first 10 rows** (you can customize the number with `n =`).\n\n-   `tail(df)` shows the **last 6 rows** of the dataset.\n\n-   `tail(df, n = 8)` shows the **last 8 rows**.\n\n-   `count(df, var)` (from `dplyr`) **counts occurrences** of each unique value in a variable.\n\n‚û°Ô∏è Using `str(df$var)` and `summary(df$var)` is a fast way to inspect just **one column** without needing the whole dataset.\n\n------------------------------------------------------------------------\n\n**2. Viewing Data**\n\n-   `view(df)` opens an **Excel-like data viewer window** inside RStudio for easy manual exploration.\n-   `nrow(df)` returns the **number of rows**.\n-   `ncol(df)` returns the **number of columns**.\n-   `dim(df)` returns a **two-number vector**: (rows, columns).\n\n‚û°Ô∏è Use `view(df)` when you want to **sort/filter manually** without coding.\n\n------------------------------------------------------------------------\n\n**3. Cleaning Variable Names**\n\n-   `janitor::clean_names(df)` standardizes messy variable names:\n    -   Makes all names **lowercase**\n    -   **Replaces spaces and special characters** with underscores\n    -   Removes parentheses, punctuation, etc.\n\n‚û°Ô∏è Run `clean_names()` immediately after loading raw survey, registry, or administrative datasets.\n\nExample:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(patients)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Id\"                  \"BIRTHDATE\"           \"DEATHDATE\"          \n [4] \"SSN\"                 \"DRIVERS\"             \"PASSPORT\"           \n [7] \"PREFIX\"              \"FIRST\"               \"MIDDLE\"             \n[10] \"LAST\"                \"SUFFIX\"              \"MAIDEN\"             \n[13] \"MARITAL\"             \"RACE\"                \"ETHNICITY\"          \n[16] \"GENDER\"              \"BIRTHPLACE\"          \"ADDRESS\"            \n[19] \"CITY\"                \"STATE\"               \"COUNTY\"             \n[22] \"FIPS\"                \"ZIP\"                 \"LAT\"                \n[25] \"LON\"                 \"HEALTHCARE_EXPENSES\" \"HEALTHCARE_COVERAGE\"\n[28] \"INCOME\"             \n```\n\n\n:::\n\n```{.r .cell-code}\ntemp <- janitor::clean_names(patients)\ncolnames(temp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"id\"                  \"birthdate\"           \"deathdate\"          \n [4] \"ssn\"                 \"drivers\"             \"passport\"           \n [7] \"prefix\"              \"first\"               \"middle\"             \n[10] \"last\"                \"suffix\"              \"maiden\"             \n[13] \"marital\"             \"race\"                \"ethnicity\"          \n[16] \"gender\"              \"birthplace\"          \"address\"            \n[19] \"city\"                \"state\"               \"county\"             \n[22] \"fips\"                \"zip\"                 \"lat\"                \n[25] \"lon\"                 \"healthcare_expenses\" \"healthcare_coverage\"\n[28] \"income\"             \n```\n\n\n:::\n\n```{.r .cell-code}\nrm(temp)\n```\n:::\n\n\nüîç **Listing All Data Frames and Variables**\n\nTo organize and review datasets loaded in the environment, the following workflow lists all data frames and their variables:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrm (breast_cancer_data, patients)\n\n# 1. List all data frames in the environment\ndfs <- ls(envir = .GlobalEnv)[sapply(ls(envir = .GlobalEnv), function(x) is.data.frame(get(x)))]\n\n# 2. For each data frame, list its variable (column) names\ndf_variables <- lapply(dfs, function(df_name) {\n  vars <- names(get(df_name))\n  data.frame(\n    DataFrame = df_name,\n    Variable = vars,\n    stringsAsFactors = FALSE\n  )\n})\n\n# 3. Combine into one clean table\ndf_variables_all <- do.call(rbind, df_variables)\n\n# View the result\nprint(df_variables_all)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     DataFrame          Variable\n1  medications             START\n2  medications              STOP\n3  medications           PATIENT\n4  medications             PAYER\n5  medications         ENCOUNTER\n6  medications              CODE\n7  medications       DESCRIPTION\n8  medications         BASE_COST\n9  medications    PAYER_COVERAGE\n10 medications         DISPENSES\n11 medications         TOTALCOST\n12 medications        REASONCODE\n13 medications REASONDESCRIPTION\n14  procedures             START\n15  procedures              STOP\n16  procedures           PATIENT\n17  procedures         ENCOUNTER\n18  procedures            SYSTEM\n19  procedures              CODE\n20  procedures       DESCRIPTION\n21  procedures         BASE_COST\n22  procedures        REASONCODE\n23  procedures REASONDESCRIPTION\n24 vaccination              DATE\n25 vaccination           PATIENT\n26 vaccination         ENCOUNTER\n27 vaccination              CODE\n28 vaccination       DESCRIPTION\n29 vaccination         BASE_COST\n```\n\n\n:::\n\n```{.r .cell-code}\nrm (df_variables_all, df_variables) # clean working enviroment \n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n**4. Creating a Data Dictionary**\n\nA **data dictionary** is a simple but critical table that documents:\n\n-   **Variable names** (column names)\n-   **Descriptions** (what each variable represents)\n-   **Types** (numeric, character, factor)\n\n‚û°Ô∏è We can automate building a basic data dictionary by combining `names()`, `sapply()`, and `class()` functions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_dictionary <- data.frame(\n  Variable = names(patients),\n  Type = sapply(patients, class)\n)\n```\n:::\n\n\nThe dictionary can be expanded by manually adding descriptions, coding instructions, or value mappings where necessary.\n\n**5. Working with Column Names and Types**\n\n-   `names(df)` or `colnames(df)` retrieves a list of all column names.\n\n-   `class(df$var)` reveals the **data type of a specific variable**.\n\n-   `sapply(df, class)` applies `class()` across all variables and summarizes their types.\n\n-   If needed, variables can be recast to appropriate types.\n\nüìä **Summary Table: Key Functions for Exploring Data**\n\n| **Task** | **Function** | **Purpose / What It Does** |\n|:-------------------|:--------------------|:------------------------------|\n| View structure of dataset | `str(df)` | Shows structure: number of rows, columns, and variable types |\n| View structure of variable | `str(df$var)` | Shows structure/type of a specific variable |\n| Summarize statistics (dataset) | `summary(df)` | Provides summary stats (min, max, mean, NA count) for all variables |\n| Summarize statistics (variable) | `summary(df$var)` | Summary stats for a specific variable |\n| Compact structure overview | `glimpse(df)` | Quick, sideways compact view of dataset (from `dplyr`) |\n| Preview first rows | `head(df)`, `head(df, n = 10)` | Displays first 6 or specified number of rows |\n| Preview last rows | `tail(df)`, `tail(df, n = 8)` | Displays last 6 or specified number of rows |\n| Count frequencies | `count(df, var)` | Counts unique values and frequency of a specified variable |\n| Open full viewer | `view(df)` | Opens Excel-style data viewer window (RStudio) |\n| Check number of rows | `nrow(df)` | Returns number of rows (observations) |\n| Check number of columns | `ncol(df)` | Returns number of columns (variables) |\n| Check both dimensions | `dim(df)` | Returns (rows, columns) as a two-number vector |\n| Clean column names | `janitor::clean_names(df)` | Converts messy names into lowercase, underscore-separated names |\n| List variable names | `names(df)`, `colnames(df)` | Lists all column names in a data frame |\n| Check variable type | `class(df$var)` | Returns data type of a specific variable |\n| Check types for all variables | `sapply(df, class)` | Returns data types for every column in the dataset |\n| Create basic data dictionary | `data.frame(Variable = names(df), Type = sapply(df, class))` | Table summarizing variable names and types |\n| List all data frames in environment | `dfs <- ls(...)[sapply(...)]` | Identifies and lists all data frames currently loaded |\n| List all variables from all data frames | `lapply(dfs, function(x) names(get(x)))` | Creates table listing data frames and their variables |\n\nNow I can apply some of the above to my datasets (df): such as breast_cancer_data, vaccination, patients\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbreast_cancer_data_demo <- breast_cancer_data %>%\n  select(sa3name, state, year, part50_74, rate50_74)\n\n# Structure of the demo dataset\nstr(breast_cancer_data_demo)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t1364 obs. of  5 variables:\n $ sa3name  : chr  \"Queanbeyan\" \"Queanbeyan\" \"Queanbeyan\" \"Queanbeyan\" ...\n $ state    : chr  \"NSW\" \"NSW\" \"NSW\" \"NSW\" ...\n $ year     : int  201617 201718 201819 201920 201617 201718 201819 201920 201617 201718 ...\n $ part50_74: num  4875 5048 5276 5179 1850 ...\n $ rate50_74: num  60.5 60.8 61.4 58.2 59.7 ...\n```\n\n\n:::\n\n```{.r .cell-code}\n# Summary statistics for rate50_74\nsummary(breast_cancer_data_demo$rate50_74)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n   5.40   50.07   54.50   53.63   57.88   80.20     135 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Display first 10 rows\nhead(breast_cancer_data_demo, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           sa3name state   year part50_74 rate50_74\n1       Queanbeyan   NSW 201617      4875  60.50000\n2       Queanbeyan   NSW 201718      5048  60.75961\n3       Queanbeyan   NSW 201819      5276  61.43839\n4       Queanbeyan   NSW 201920      5179  58.16834\n5  Snowy Mountains   NSW 201617      1850  59.70000\n6  Snowy Mountains   NSW 201718      1910  61.54862\n7  Snowy Mountains   NSW 201819      2039  65.12912\n8  Snowy Mountains   NSW 201920      1979  62.23419\n9      South Coast   NSW 201617      9469  62.80000\n10     South Coast   NSW 201718      9565  62.94230\n```\n\n\n:::\n\n```{.r .cell-code}\n# Count number of records\ncount(breast_cancer_data_demo)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     n\n1 1364\n```\n\n\n:::\n\n```{.r .cell-code}\n# Show variable names\nnames(breast_cancer_data_demo)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"sa3name\"   \"state\"     \"year\"      \"part50_74\" \"rate50_74\"\n```\n\n\n:::\n:::\n\n\n## **PART III: WRANGLING WITH `dplyr`**\n\nIn this part, we focus on mastering core data wrangling skills using the `dplyr` package, one of the most powerful tools in R for data manipulation.\\\nWe will learn how to select, rename, create, modify, group, sort, slice, and reshape datasets.\\\nThese operations form the foundation for preparing clean, organized, and analysis-ready data.\n\nEach subsection introduces a set of essential verbs (`select()`, `mutate()`, `group_by()`, etc.) that allow for data transformation pipelines. Examples and practical applications will be provided throughout to demonstrate how to use `dplyr`.\n\n------------------------------------------------------------------------\n\n### **3.1 Selecting, Dropping, Reordering, and Renaming Variables (Columns)**\n\n-   `select()`, `rename()`, relocate()\\`\n-   Column helpers: `starts_with()`, `ends_with()`, `contains()`, `last_clos`, `matches`\n-   Allow modifying entire groups of column names by adding prefixes or suffixes\n-   Handling null/missing column names\n\nSelecting, reordering, and renaming variables is often the first step when preparing a dataset for analysis.\\\nIn `dplyr`, we use functions such as `select()`, `rename()`, and `relocate()` to organize variables, clean up data, and prepare for transformations.\\\nDropping unnecessary columns or reordering variables can make the data cleaner, faster to work with, and easier to understand.\n\nAdditional tools allow modifying groups of column names by adding prefixes or suffixes, and safely handling missing columns during selection.\n\n------------------------------------------------------------------------\n\n**üîπ Summary of Functions for Selecting, Reordering, Dropping, and Renaming**\n\n| **Task** | **Function** | **Purpose** |\n|:-----------------|:------------------------|:----------------------------|\n| Select specific columns | `select()` | Choose a subset of columns based on name or condition |\n| Rename columns | `rename()` | Rename one or multiple columns |\n| Relocate columns | `relocate()` | Move selected columns to a new position |\n| Reorder manually | `select(a, b, c, everything())` | Explicitly define column order |\n| Find columns by pattern | `starts_with()`, `ends_with()`, `contains()`, `matches()` | Select columns matching a pattern |\n| Drop single column | `select(-col1)` | Remove one variable |\n| Drop multiple columns | `select(-col1, -col2)` | Remove several variables |\n| Drop by pattern | `select(-starts_with(\"temp\"))`, `select(-contains(\"score\"))` | Remove variables based on naming patterns |\n| Add prefix to column names | `rename_with(~ paste0(\"prefix_\", .x))` | Add a prefix to selected columns |\n| Add suffix to column names | `rename_with(~ paste0(.x, \"_suffix\"))` | Add a suffix to selected columns |\n| Handle missing columns safely | `if(\"var\" %in% names(df)) {}` | Avoid errors when column does not exist |\n\n------------------------------------------------------------------------\n\n‚û°Ô∏è These techniques allow quick restructuring of datasets, improving workflow efficiency and clarity.\n\n------------------------------------------------------------------------\n\nüîπ Examples Using the `vaccination` Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Selecting specific columns manually\nbreast_selected <- breast_cancer_data %>%\n  select(sa3code, sa3name, year, part50_74, pop50_74)\n\nhead(breast_selected, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code    sa3name   year part50_74 pop50_74\n1   10102 Queanbeyan 201617      4875     8052\n2   10102 Queanbeyan 201718      5048     8309\n3   10102 Queanbeyan 201819      5276     8588\n```\n\n\n:::\n\n```{.r .cell-code}\n# Reordering columns manually (bring year, sa3name, state first)\nbc_reorder_manual <- breast_cancer_data %>%\n  select(year, sa3name, state, everything())\n\nhead(bc_reorder_manual, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    year    sa3name state sa3code sa3coden part50_74 pop50_74 rate50_74\n1 201617 Queanbeyan   NSW   10102    10102      4875     8052  60.50000\n2 201718 Queanbeyan   NSW   10102    10102      5048     8309  60.75961\n3 201819 Queanbeyan   NSW   10102    10102      5276     8588  61.43839\n  agen50_74 expct50_74 part50_69 pop50_69 rate50_69 agen50_69 expct50_69\n1         3       4428      4309     7145  60.30000         2       3929\n2         3       4553      4448     7338  60.62238         2       4013\n3         3       4706      4629     7548  61.33203         2       4113\n  part50_54 pop50_54 rate50_54 agen50_54 expct50_54 part55_59 pop55_59\n1      1284     2251  57.00000         1       1118      1188     1970\n2      1285     2306  55.72035         1       1143      1260     2030\n3      1375     2342  58.70977         1       1166      1252     2093\n  rate55_59 agen55_59 expct55_59 part60_64 pop60_64 rate60_64 agen60_64\n1  60.30000         4       1046      1012     1625  62.30000         5\n2  62.09035         4       1069      1048     1646  63.69947         5\n3  59.81504         4       1098      1105     1689  65.43657         5\n  expct60_64 part65_69 pop65_69 rate65_69 agen65_69 expct65_69 part70_74\n1        950       826     1300  63.50000         6        781       566\n2        953       855     1357  63.02558         6        812       600\n3        967       898     1426  63.00429         6        849       647\n  pop70_74 rate70_74 agen70_74 expct70_74\n1      907  62.40000         7        498\n2      971  61.79725         7        541\n3     1040  62.21032         7        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Relocating specific columns before another variable\nbc_relocate_before <- breast_cancer_data %>%\n  relocate(part50_74, pop50_74, .before = rate50_74)\n\nhead(bc_relocate_before, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden    sa3name state   year part50_74 pop50_74 rate50_74\n1   10102    10102 Queanbeyan   NSW 201617      4875     8052  60.50000\n2   10102    10102 Queanbeyan   NSW 201718      5048     8309  60.75961\n3   10102    10102 Queanbeyan   NSW 201819      5276     8588  61.43839\n  agen50_74 expct50_74 part50_69 pop50_69 rate50_69 agen50_69 expct50_69\n1         3       4428      4309     7145  60.30000         2       3929\n2         3       4553      4448     7338  60.62238         2       4013\n3         3       4706      4629     7548  61.33203         2       4113\n  part50_54 pop50_54 rate50_54 agen50_54 expct50_54 part55_59 pop55_59\n1      1284     2251  57.00000         1       1118      1188     1970\n2      1285     2306  55.72035         1       1143      1260     2030\n3      1375     2342  58.70977         1       1166      1252     2093\n  rate55_59 agen55_59 expct55_59 part60_64 pop60_64 rate60_64 agen60_64\n1  60.30000         4       1046      1012     1625  62.30000         5\n2  62.09035         4       1069      1048     1646  63.69947         5\n3  59.81504         4       1098      1105     1689  65.43657         5\n  expct60_64 part65_69 pop65_69 rate65_69 agen65_69 expct65_69 part70_74\n1        950       826     1300  63.50000         6        781       566\n2        953       855     1357  63.02558         6        812       600\n3        967       898     1426  63.00429         6        849       647\n  pop70_74 rate70_74 agen70_74 expct70_74\n1      907  62.40000         7        498\n2      971  61.79725         7        541\n3     1040  62.21032         7        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Relocating specific columns after another variable\nbc_relocate_after <- breast_cancer_data %>%\n  relocate(sa3name, state, .after = year)\n\nhead(bc_relocate_after, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden   year    sa3name state part50_74 pop50_74 rate50_74\n1   10102    10102 201617 Queanbeyan   NSW      4875     8052  60.50000\n2   10102    10102 201718 Queanbeyan   NSW      5048     8309  60.75961\n3   10102    10102 201819 Queanbeyan   NSW      5276     8588  61.43839\n  agen50_74 expct50_74 part50_69 pop50_69 rate50_69 agen50_69 expct50_69\n1         3       4428      4309     7145  60.30000         2       3929\n2         3       4553      4448     7338  60.62238         2       4013\n3         3       4706      4629     7548  61.33203         2       4113\n  part50_54 pop50_54 rate50_54 agen50_54 expct50_54 part55_59 pop55_59\n1      1284     2251  57.00000         1       1118      1188     1970\n2      1285     2306  55.72035         1       1143      1260     2030\n3      1375     2342  58.70977         1       1166      1252     2093\n  rate55_59 agen55_59 expct55_59 part60_64 pop60_64 rate60_64 agen60_64\n1  60.30000         4       1046      1012     1625  62.30000         5\n2  62.09035         4       1069      1048     1646  63.69947         5\n3  59.81504         4       1098      1105     1689  65.43657         5\n  expct60_64 part65_69 pop65_69 rate65_69 agen65_69 expct65_69 part70_74\n1        950       826     1300  63.50000         6        781       566\n2        953       855     1357  63.02558         6        812       600\n3        967       898     1426  63.00429         6        849       647\n  pop70_74 rate70_74 agen70_74 expct70_74\n1      907  62.40000         7        498\n2      971  61.79725         7        541\n3     1040  62.21032         7        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Dropping one variable\nbc_drop_one <- breast_cancer_data %>%\n  select(-expct50_74)\n\nhead(bc_drop_one, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden    sa3name state   year part50_74 pop50_74 rate50_74\n1   10102    10102 Queanbeyan   NSW 201617      4875     8052  60.50000\n2   10102    10102 Queanbeyan   NSW 201718      5048     8309  60.75961\n3   10102    10102 Queanbeyan   NSW 201819      5276     8588  61.43839\n  agen50_74 part50_69 pop50_69 rate50_69 agen50_69 expct50_69 part50_54\n1         3      4309     7145  60.30000         2       3929      1284\n2         3      4448     7338  60.62238         2       4013      1285\n3         3      4629     7548  61.33203         2       4113      1375\n  pop50_54 rate50_54 agen50_54 expct50_54 part55_59 pop55_59 rate55_59\n1     2251  57.00000         1       1118      1188     1970  60.30000\n2     2306  55.72035         1       1143      1260     2030  62.09035\n3     2342  58.70977         1       1166      1252     2093  59.81504\n  agen55_59 expct55_59 part60_64 pop60_64 rate60_64 agen60_64 expct60_64\n1         4       1046      1012     1625  62.30000         5        950\n2         4       1069      1048     1646  63.69947         5        953\n3         4       1098      1105     1689  65.43657         5        967\n  part65_69 pop65_69 rate65_69 agen65_69 expct65_69 part70_74 pop70_74\n1       826     1300  63.50000         6        781       566      907\n2       855     1357  63.02558         6        812       600      971\n3       898     1426  63.00429         6        849       647     1040\n  rate70_74 agen70_74 expct70_74\n1  62.40000         7        498\n2  61.79725         7        541\n3  62.21032         7        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Dropping multiple variables\nbc_drop_multiple <- breast_cancer_data %>%\n  select(-expct50_74, -expct50_69)\n\nhead(bc_drop_multiple, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden    sa3name state   year part50_74 pop50_74 rate50_74\n1   10102    10102 Queanbeyan   NSW 201617      4875     8052  60.50000\n2   10102    10102 Queanbeyan   NSW 201718      5048     8309  60.75961\n3   10102    10102 Queanbeyan   NSW 201819      5276     8588  61.43839\n  agen50_74 part50_69 pop50_69 rate50_69 agen50_69 part50_54 pop50_54 rate50_54\n1         3      4309     7145  60.30000         2      1284     2251  57.00000\n2         3      4448     7338  60.62238         2      1285     2306  55.72035\n3         3      4629     7548  61.33203         2      1375     2342  58.70977\n  agen50_54 expct50_54 part55_59 pop55_59 rate55_59 agen55_59 expct55_59\n1         1       1118      1188     1970  60.30000         4       1046\n2         1       1143      1260     2030  62.09035         4       1069\n3         1       1166      1252     2093  59.81504         4       1098\n  part60_64 pop60_64 rate60_64 agen60_64 expct60_64 part65_69 pop65_69\n1      1012     1625  62.30000         5        950       826     1300\n2      1048     1646  63.69947         5        953       855     1357\n3      1105     1689  65.43657         5        967       898     1426\n  rate65_69 agen65_69 expct65_69 part70_74 pop70_74 rate70_74 agen70_74\n1  63.50000         6        781       566      907  62.40000         7\n2  63.02558         6        812       600      971  61.79725         7\n3  63.00429         6        849       647     1040  62.21032         7\n  expct70_74\n1        498\n2        541\n3        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Dropping variables by pattern (e.g., columns ending with \"_69\")\nbc_drop_by_pattern <- breast_cancer_data %>%\n  select(-ends_with(\"_69\"))\n\nhead(bc_drop_by_pattern, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden    sa3name state   year part50_74 pop50_74 rate50_74\n1   10102    10102 Queanbeyan   NSW 201617      4875     8052  60.50000\n2   10102    10102 Queanbeyan   NSW 201718      5048     8309  60.75961\n3   10102    10102 Queanbeyan   NSW 201819      5276     8588  61.43839\n  agen50_74 expct50_74 part50_54 pop50_54 rate50_54 agen50_54 expct50_54\n1         3       4428      1284     2251  57.00000         1       1118\n2         3       4553      1285     2306  55.72035         1       1143\n3         3       4706      1375     2342  58.70977         1       1166\n  part55_59 pop55_59 rate55_59 agen55_59 expct55_59 part60_64 pop60_64\n1      1188     1970  60.30000         4       1046      1012     1625\n2      1260     2030  62.09035         4       1069      1048     1646\n3      1252     2093  59.81504         4       1098      1105     1689\n  rate60_64 agen60_64 expct60_64 part70_74 pop70_74 rate70_74 agen70_74\n1  62.30000         5        950       566      907  62.40000         7\n2  63.69947         5        953       600      971  61.79725         7\n3  65.43657         5        967       647     1040  62.21032         7\n  expct70_74\n1        498\n2        541\n3        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Renaming a column for clarity\nbreast_renamed <- breast_selected %>%\n  rename(SA3_Code = sa3code, SA3_Name = sa3name, Year = year)\n\nhead(breast_renamed, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  SA3_Code   SA3_Name   Year part50_74 pop50_74\n1    10102 Queanbeyan 201617      4875     8052\n2    10102 Queanbeyan 201718      5048     8309\n3    10102 Queanbeyan 201819      5276     8588\n```\n\n\n:::\n\n```{.r .cell-code}\n# Adding a prefix to all column names\nbc_prefixed <- breast_cancer_data %>%\n  rename_with(~ paste0(\"bc_\", .x))\n\nhead(bc_prefixed, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  bc_sa3code bc_sa3coden bc_sa3name bc_state bc_year bc_part50_74 bc_pop50_74\n1      10102       10102 Queanbeyan      NSW  201617         4875        8052\n2      10102       10102 Queanbeyan      NSW  201718         5048        8309\n3      10102       10102 Queanbeyan      NSW  201819         5276        8588\n  bc_rate50_74 bc_agen50_74 bc_expct50_74 bc_part50_69 bc_pop50_69 bc_rate50_69\n1     60.50000            3          4428         4309        7145     60.30000\n2     60.75961            3          4553         4448        7338     60.62238\n3     61.43839            3          4706         4629        7548     61.33203\n  bc_agen50_69 bc_expct50_69 bc_part50_54 bc_pop50_54 bc_rate50_54 bc_agen50_54\n1            2          3929         1284        2251     57.00000            1\n2            2          4013         1285        2306     55.72035            1\n3            2          4113         1375        2342     58.70977            1\n  bc_expct50_54 bc_part55_59 bc_pop55_59 bc_rate55_59 bc_agen55_59\n1          1118         1188        1970     60.30000            4\n2          1143         1260        2030     62.09035            4\n3          1166         1252        2093     59.81504            4\n  bc_expct55_59 bc_part60_64 bc_pop60_64 bc_rate60_64 bc_agen60_64\n1          1046         1012        1625     62.30000            5\n2          1069         1048        1646     63.69947            5\n3          1098         1105        1689     65.43657            5\n  bc_expct60_64 bc_part65_69 bc_pop65_69 bc_rate65_69 bc_agen65_69\n1           950          826        1300     63.50000            6\n2           953          855        1357     63.02558            6\n3           967          898        1426     63.00429            6\n  bc_expct65_69 bc_part70_74 bc_pop70_74 bc_rate70_74 bc_agen70_74\n1           781          566         907     62.40000            7\n2           812          600         971     61.79725            7\n3           849          647        1040     62.21032            7\n  bc_expct70_74\n1           498\n2           541\n3           585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Adding a suffix to all column names\nbc_suffixed <- breast_cancer_data %>%\n  rename_with(~ paste0(.x, \"_info\"))\n\nhead(bc_suffixed, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code_info sa3coden_info sa3name_info state_info year_info part50_74_info\n1        10102         10102   Queanbeyan        NSW    201617           4875\n2        10102         10102   Queanbeyan        NSW    201718           5048\n3        10102         10102   Queanbeyan        NSW    201819           5276\n  pop50_74_info rate50_74_info agen50_74_info expct50_74_info part50_69_info\n1          8052       60.50000              3            4428           4309\n2          8309       60.75961              3            4553           4448\n3          8588       61.43839              3            4706           4629\n  pop50_69_info rate50_69_info agen50_69_info expct50_69_info part50_54_info\n1          7145       60.30000              2            3929           1284\n2          7338       60.62238              2            4013           1285\n3          7548       61.33203              2            4113           1375\n  pop50_54_info rate50_54_info agen50_54_info expct50_54_info part55_59_info\n1          2251       57.00000              1            1118           1188\n2          2306       55.72035              1            1143           1260\n3          2342       58.70977              1            1166           1252\n  pop55_59_info rate55_59_info agen55_59_info expct55_59_info part60_64_info\n1          1970       60.30000              4            1046           1012\n2          2030       62.09035              4            1069           1048\n3          2093       59.81504              4            1098           1105\n  pop60_64_info rate60_64_info agen60_64_info expct60_64_info part65_69_info\n1          1625       62.30000              5             950            826\n2          1646       63.69947              5             953            855\n3          1689       65.43657              5             967            898\n  pop65_69_info rate65_69_info agen65_69_info expct65_69_info part70_74_info\n1          1300       63.50000              6             781            566\n2          1357       63.02558              6             812            600\n3          1426       63.00429              6             849            647\n  pop70_74_info rate70_74_info agen70_74_info expct70_74_info\n1           907       62.40000              7             498\n2           971       61.79725              7             541\n3          1040       62.21032              7             585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Handling missing columns safely during selection\nif (\"non_existing_column\" %in% names(breast_cancer_data)) {\n  bc_safe_select <- breast_cancer_data %>%\n    select(non_existing_column)\n  head(bc_safe_select, n = 3)\n} else {\n  message(\"Column 'non_existing_column' not found in breast_cancer_data.\")\n}\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nColumn 'non_existing_column' not found in breast_cancer_data.\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Remove all temporary objects created in this chunk\n# ....................................................\nrm(breast_selected, breast_renamed, bc_drop_one, bc_drop_multiple, bc_drop_by_pattern,\n   bc_reorder_manual, bc_relocate_before, bc_relocate_after,\n   bc_prefixed, bc_suffixed)\n```\n:::\n\n\n### **3.2 Creating and Modifying Variables (Columns)**\n\n-   `mutate()`, `transmute()`, recoding, `case_when()`, `if_else()`\n-   `str_detect(), regex(), %in%`\n-   Creating dummy/flag variables\n-   String manipulation: `strsplit()`, `sub()`, `gsub()`, `` tolower(), `janitor::clean_names()` ``\n\nCreating new variables or modifying existing ones is a key part of preparing data for analysis.\\\nIn `dplyr`, we use functions like `mutate()` and `transmute()` to add, transform, or recode variables.\\\nWe can also create conditional variables with `case_when()` or `if_else()`, and apply string operations such as splitting, replacing, or converting text.\n\nThese steps help structure the data more logically, highlight important features, or derive new indicators for analysis.\n\n------------------------------------------------------------------------\n\nüîπ **Summary of Functions for Creating and Modifying Variables**\n\n| **Task** | **Function** | **Purpose** |\n|:-------------------|:-----------------|:---------------------------------|\n| Create or modify variables | `mutate()` | Add or transform variables, keeping all columns |\n| Create new variables only | `transmute()` | Keep only new variables created |\n| Conditional variable creation | `case_when()` | Create new variables based on multiple conditions |\n| Simple conditional assignment | `if_else()` | Assign based on TRUE/FALSE logic |\n| Split strings into parts | `strsplit()` | Split a string into components |\n| Replace text (first occurrence) | `sub()` | Replace first match of a pattern |\n| Replace text (all occurrences) | `gsub()` | Replace all matches of a pattern |\n| Convert text to lowercase | `tolower()` | Standardize text to lowercase |\n| Detect text patterns | `str_detect()` | Check if a pattern exists in text |\n| Flexible pattern matching | `regex()` | Use regular expressions for complex patterns |\n| Membership check | `%in%` | Test if a value is part of a group |\n\n------------------------------------------------------------------------\n\n‚û°Ô∏è These functions allow transforming the dataset systematically to extract new features, categorize information, or clean fields.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Creating and Modifying Variables (patients dataset)\n\n# Creating a new age group variable\npatients_mutated <- patients %>%\n  mutate(age_group = if_else(BIRTHDATE <= as.Date(\"1970-01-01\"), \"Below 70\", \"70+\")) %>%\n  relocate(age_group, .after = BIRTHDATE) %>%\n  select(-Id, -DEATHDATE, -SSN, -LAT, -LON, -SUFFIX, -ZIP)\n\nhead(patients_mutated, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    BIRTHDATE age_group   DRIVERS   PASSPORT PREFIX       FIRST       MIDDLE\n1  1994-02-06       70+ S99996852 X47758697X    Mr.   Joshua658      Alvin56\n2  1968-08-06  Below 70 S99993577 X28173268X    Mr.   Bennie663             \n3  2008-12-21       70+                               Hunter736  Mckinley734\n4  1994-01-27       70+ S99995100 X83694889X   Mrs.   Carlyn477 Florencia449\n5  2019-07-27       70+                                 Robin66    Jeramy610\n6  2019-04-18       70+                               Arthur650             \n7  2013-08-10       70+                                 Caryl47     Lelia627\n8  1968-08-06  Below 70 S99911538 X37637991X    Mr.  Willian804    Shelton25\n9  2006-07-02       70+ S99943171               Ms. Domenica436             \n10 1948-05-28  Below 70 S99941458 X59458953X    Mr.  Arnulfo253    Jordan900\n            LAST   MAIDEN MARITAL  RACE   ETHNICITY GENDER\n1       Kunde533                M white nonhispanic      M\n2       Ebert178                D white nonhispanic      M\n3     Gerlach374                  white nonhispanic      M\n4  Williamson769 Rogahn59       M asian nonhispanic      F\n5   Gleichner915                  white nonhispanic      M\n6     Roberts511                  white nonhispanic      M\n7    Kassulke119                  white nonhispanic      F\n8      Keeling57                M white nonhispanic      M\n9         Rau926                  white    hispanic      F\n10  Jaskolski867                D white nonhispanic      M\n                         BIRTHPLACE                     ADDRESS         CITY\n1         Boston  Massachusetts  US            811 Kihn Viaduct    Braintree\n2       Chicopee  Massachusetts  US 975 Pfannerstill Throughway    Braintree\n3        Spencer  Massachusetts  US             548 Heller Lane Mattapoisett\n4       Franklin  Massachusetts  US  160 Fadel Crossroad Apt 65      Wareham\n5       Brockton  Massachusetts  US      766 Grant Loaf Unit 15    Groveland\n6       Plymouth  Massachusetts  US            866 Kulas Harbor    Cambridge\n7  East Falmouth  Massachusetts  US            578 Dickens Camp    Arlington\n8        Methuen  Massachusetts  US      848 Ebert Knoll Unit 7    Braintree\n9        Maynard  Massachusetts  US             963 Senger Fort    Haverhill\n10        Boston  Massachusetts  US    757 Lockman Annex Apt 10   Georgetown\n           STATE           COUNTY  FIPS HEALTHCARE_EXPENSES HEALTHCARE_COVERAGE\n1  Massachusetts   Norfolk County 25021            56904.96            18019.99\n2  Massachusetts   Norfolk County 25021           124024.12             1075.06\n3  Massachusetts  Plymouth County    NA            45645.06             6154.94\n4  Massachusetts  Plymouth County    NA            12895.15           659951.61\n5  Massachusetts     Essex County    NA            18500.02             5493.57\n6  Massachusetts Middlesex County 25017            14478.23              693.39\n7  Massachusetts Middlesex County 25017             9821.14            27142.51\n8  Massachusetts   Norfolk County 25021           175817.63            55473.97\n9  Massachusetts     Essex County 25009            52933.16            11941.44\n10 Massachusetts     Essex County    NA           242013.44           322768.97\n   INCOME\n1  100511\n2   49737\n3  133816\n4   17382\n5   52159\n6   75767\n7   58294\n8   49737\n9   77756\n10  35255\n```\n\n\n:::\n\n```{.r .cell-code}\n# extract month and year from date in form of date is YYYY-MM-DD HH:MM:SS\nstr (vaccination$DATE) # date is YYYY-MM-DD HH:MM:SS format.\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n chr [1:1619] \"2016-04-10T09:04:48Z\" \"2016-04-10T09:04:48Z\" ...\n```\n\n\n:::\n\n```{.r .cell-code}\nvaccination <- vaccination %>%\n  mutate(\n    vacc_date = as.Date(strptime(DATE, format = \"%Y-%m-%dT%H:%M:%SZ\")),  # First create vacc_date\n    year = format(vacc_date, \"%Y\"),         # Extract year\n    month = format(vacc_date, \"%B\")          # Extract full month name (January, February, etc.)\n  )\n\ncolnames(vaccination)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"DATE\"        \"PATIENT\"     \"ENCOUNTER\"   \"CODE\"        \"DESCRIPTION\"\n[6] \"BASE_COST\"   \"vacc_date\"   \"year\"        \"month\"      \n```\n\n\n:::\n\n```{.r .cell-code}\nhead(vaccination)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                  DATE                              PATIENT\n1 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n2 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n3 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n4 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n5 2002-10-29T19:07:21Z 34a4dcc4-35fb-6ad5-ab98-be285c586a4f\n6 2005-11-01T19:07:21Z 34a4dcc4-35fb-6ad5-ab98-be285c586a4f\n                             ENCOUNTER CODE\n1 0b03e41b-06a6-66fa-b972-acc5a83b134a  140\n2 0b03e41b-06a6-66fa-b972-acc5a83b134a  113\n3 0b03e41b-06a6-66fa-b972-acc5a83b134a   43\n4 0b03e41b-06a6-66fa-b972-acc5a83b134a  114\n5 30ab48ec-35a7-7704-86e5-113ef6a90c03  140\n6 d00bda57-b134-0654-e152-831ef486da53  140\n                                                   DESCRIPTION BASE_COST\n1           Influenza  seasonal  injectable  preservative free       136\n2 Td (adult)  5 Lf tetanus toxoid  preservative free  adsorbed       136\n3                                                 Hep B  adult       136\n4                                          meningococcal MCV4P       136\n5           Influenza  seasonal  injectable  preservative free       136\n6           Influenza  seasonal  injectable  preservative free       136\n   vacc_date year    month\n1 2016-04-10 2016    April\n2 2016-04-10 2016    April\n3 2016-04-10 2016    April\n4 2016-04-10 2016    April\n5 2002-10-29 2002  October\n6 2005-11-01 2005 November\n```\n\n\n:::\n\n```{.r .cell-code}\n# Creating a dataset keeping only new variables (transmute)\npatients_transmuted <- patients %>%\n  transmute(\n    full_name = paste(FIRST, LAST, sep = \" \"), \n    birth_year = format(as.Date(BIRTHDATE), \"%Y\")\n  )\n\nhead (patients_transmuted)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                full_name birth_year\n1      Joshua658 Kunde533       1994\n2      Bennie663 Ebert178       1968\n3    Hunter736 Gerlach374       2008\n4 Carlyn477 Williamson769       1994\n5    Robin66 Gleichner915       2019\n6    Arthur650 Roberts511       2019\n```\n\n\n:::\n\n```{.r .cell-code}\n# generate a birth_year_group variable based on birth_year values\n\npatients_transmuted <- patients_transmuted %>%\n  mutate(birth_year_group = case_when(\n    birth_year < 1940 ~ \"Before 1940\",\n    birth_year >= 1940 & birth_year <= 1959 ~ \"1940‚Äì1959\",\n    birth_year >= 1960 & birth_year <= 1979 ~ \"1960‚Äì1979\",\n    birth_year >= 1980 & birth_year <= 1999 ~ \"1980‚Äì1999\",\n    birth_year >= 2000 ~ \"2000 and later\",\n    TRUE ~ NA_character_\n  ))\n\nhead(patients_transmuted)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                full_name birth_year birth_year_group\n1      Joshua658 Kunde533       1994        1980‚Äì1999\n2      Bennie663 Ebert178       1968        1960‚Äì1979\n3    Hunter736 Gerlach374       2008   2000 and later\n4 Carlyn477 Williamson769       1994        1980‚Äì1999\n5    Robin66 Gleichner915       2019   2000 and later\n6    Arthur650 Roberts511       2019   2000 and later\n```\n\n\n:::\n\n```{.r .cell-code}\n# other option to achieve similar result for the above \n\npatients_transmuted <- patients_transmuted %>%\n  mutate(birth_year = as.numeric(birth_year),   # Convert to numeric\n         birth_year_group = cut(birth_year,     # Apply cut()\n                                breaks = c(0, 1939, 1959, 1979, 1999, Inf),\n                                labels = c(\"Before 1940\", \"1940‚Äì1959\", \"1960‚Äì1979\", \"1980‚Äì1999\", \"2000 and later\"),\n                                right = TRUE\n         ))\n\n\nhead(patients_transmuted)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                full_name birth_year birth_year_group\n1      Joshua658 Kunde533       1994        1980‚Äì1999\n2      Bennie663 Ebert178       1968        1960‚Äì1979\n3    Hunter736 Gerlach374       2008   2000 and later\n4 Carlyn477 Williamson769       1994        1980‚Äì1999\n5    Robin66 Gleichner915       2019   2000 and later\n6    Arthur650 Roberts511       2019   2000 and later\n```\n\n\n:::\n\n```{.r .cell-code}\n# Using case_when to assign marital status values\npatients_case_when <- patients %>%\n  mutate(marital_status_group = case_when(\n    MARITAL == \"M\" ~ \"Married\",\n    MARITAL == \"S\" ~ \"Single\",\n    MARITAL == \"D\" ~ \"Divorced\",\n    TRUE ~ \"Unknown\"\n  )) %>% \n  select(MARITAL, marital_status_group, RACE)\n\nhead(patients_case_when, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   MARITAL marital_status_group  RACE\n1        M              Married white\n2        D             Divorced white\n3                       Unknown white\n4        M              Married asian\n5                       Unknown white\n6                       Unknown white\n7                       Unknown white\n8        M              Married white\n9                       Unknown white\n10       D             Divorced white\n```\n\n\n:::\n\n```{.r .cell-code}\ntable(patients_case_when$marital_status, useNA = \"ifany\")  # Show missing values in the table\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nDivorced  Married   Single  Unknown \n      15       33       12       46 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Recode marital status while leaving unknown values as missing\npatients_case_when <- patients_case_when %>%\n  mutate(marital_2group = case_when(\n    MARITAL == \"M\" ~ \"Partnered\",\n    MARITAL == \"D\" | MARITAL == \"S\" | MARITAL == \"W\" ~ \"Not partnered\",\n    TRUE ~ NA_character_  # Replaces unknown values with missing (NA)\n  )) \n\nhead(patients_case_when)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  MARITAL marital_status_group  RACE marital_2group\n1       M              Married white      Partnered\n2       D             Divorced white  Not partnered\n3                      Unknown white           <NA>\n4       M              Married asian      Partnered\n5                      Unknown white           <NA>\n6                      Unknown white           <NA>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Recode race status while leaving unknown values as missing\npatients_case_when <- patients_case_when %>%\n  mutate(race_grouped = case_when(\n    RACE == 'white' ~ \"White\",\n    RACE == \"asian\" ~ \"Asian\",\n    RACE == \"native\" | RACE == \"other\" ~ \"Other\",\n    TRUE ~ NA_character_\n  )) %>% \n  select(RACE, race_grouped)\n\nhead(patients_case_when, n=10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    RACE race_grouped\n1  white        White\n2  white        White\n3  white        White\n4  asian        Asian\n5  white        White\n6  white        White\n7  white        White\n8  white        White\n9  white        White\n10 white        White\n```\n\n\n:::\n\n```{.r .cell-code}\n# Simple conditional assignment with if_else\npatients$PASSPORT[patients$PASSPORT == \"\"] <- NA # formatting the variable to know missing values\nprint(sum(is.na(patients$PASSPORT))) #  31 missing value\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 31\n```\n\n\n:::\n\n```{.r .cell-code}\npatients_if_else <- patients %>%\n  mutate(has_passport = if_else(!is.na(PASSPORT), \"Yes\", \"No\")) %>% \n  select(PASSPORT, has_passport)\n\nhead(patients_if_else, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     PASSPORT has_passport\n1  X47758697X          Yes\n2  X28173268X          Yes\n3        <NA>           No\n4  X83694889X          Yes\n5        <NA>           No\n6        <NA>           No\n7        <NA>           No\n8  X37637991X          Yes\n9        <NA>           No\n10 X59458953X          Yes\n```\n\n\n:::\n\n```{.r .cell-code}\n# Replace the first occurrence (e.g., fix misspelled city name)\npatients_sub <- patients %>%\n  mutate(city_fixed = sub(\"Nwe York\", \"New York\", CITY)) %>% \n  select(-Id, -DEATHDATE, -SSN, -LAT, -LON, -SUFFIX, -ZIP)\n\nhead(patients_sub, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   BIRTHDATE   DRIVERS   PASSPORT PREFIX     FIRST      MIDDLE       LAST\n1 1994-02-06 S99996852 X47758697X    Mr. Joshua658     Alvin56   Kunde533\n2 1968-08-06 S99993577 X28173268X    Mr. Bennie663               Ebert178\n3 2008-12-21                 <NA>        Hunter736 Mckinley734 Gerlach374\n  MAIDEN MARITAL  RACE   ETHNICITY GENDER                  BIRTHPLACE\n1              M white nonhispanic      M   Boston  Massachusetts  US\n2              D white nonhispanic      M Chicopee  Massachusetts  US\n3                white nonhispanic      M  Spencer  Massachusetts  US\n                      ADDRESS         CITY         STATE          COUNTY  FIPS\n1            811 Kihn Viaduct    Braintree Massachusetts  Norfolk County 25021\n2 975 Pfannerstill Throughway    Braintree Massachusetts  Norfolk County 25021\n3             548 Heller Lane Mattapoisett Massachusetts Plymouth County    NA\n  HEALTHCARE_EXPENSES HEALTHCARE_COVERAGE INCOME   city_fixed\n1            56904.96            18019.99 100511    Braintree\n2           124024.12             1075.06  49737    Braintree\n3            45645.06             6154.94 133816 Mattapoisett\n```\n\n\n:::\n\n```{.r .cell-code}\n# Replace all occurrences (e.g., replace spaces with underscores)\npatients_gsub <- patients %>%\n  mutate(birthplace_clean = gsub(\" \", \"_\", BIRTHPLACE)) %>% \n  select(BIRTHPLACE, birthplace_clean)\n\nhead(patients_gsub, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                   BIRTHPLACE            birthplace_clean\n1   Boston  Massachusetts  US   Boston__Massachusetts__US\n2 Chicopee  Massachusetts  US Chicopee__Massachusetts__US\n3  Spencer  Massachusetts  US  Spencer__Massachusetts__US\n```\n\n\n:::\n\n```{.r .cell-code}\n# Convert last names to lowercase\ntemp <- patients %>% \n  select(-Id, -DEATHDATE, -SSN, -LAT, -LON, -SUFFIX, -ZIP)\n\npatients_tolower <- temp \ncolnames(patients_tolower) <- tolower(colnames(patients_tolower)) \n\nhead(patients_tolower, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   birthdate   drivers   passport prefix     first      middle       last\n1 1994-02-06 S99996852 X47758697X    Mr. Joshua658     Alvin56   Kunde533\n2 1968-08-06 S99993577 X28173268X    Mr. Bennie663               Ebert178\n3 2008-12-21                 <NA>        Hunter736 Mckinley734 Gerlach374\n  maiden marital  race   ethnicity gender                  birthplace\n1              M white nonhispanic      M   Boston  Massachusetts  US\n2              D white nonhispanic      M Chicopee  Massachusetts  US\n3                white nonhispanic      M  Spencer  Massachusetts  US\n                      address         city         state          county  fips\n1            811 Kihn Viaduct    Braintree Massachusetts  Norfolk County 25021\n2 975 Pfannerstill Throughway    Braintree Massachusetts  Norfolk County 25021\n3             548 Heller Lane Mattapoisett Massachusetts Plymouth County    NA\n  healthcare_expenses healthcare_coverage income\n1            56904.96            18019.99 100511\n2           124024.12             1075.06  49737\n3            45645.06             6154.94 133816\n```\n\n\n:::\n\n```{.r .cell-code}\nrm(temp)\n\n#`janitor::clean_names(df)` standardizes variable names:\n\nnames(patients)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Id\"                  \"BIRTHDATE\"           \"DEATHDATE\"          \n [4] \"SSN\"                 \"DRIVERS\"             \"PASSPORT\"           \n [7] \"PREFIX\"              \"FIRST\"               \"MIDDLE\"             \n[10] \"LAST\"                \"SUFFIX\"              \"MAIDEN\"             \n[13] \"MARITAL\"             \"RACE\"                \"ETHNICITY\"          \n[16] \"GENDER\"              \"BIRTHPLACE\"          \"ADDRESS\"            \n[19] \"CITY\"                \"STATE\"               \"COUNTY\"             \n[22] \"FIPS\"                \"ZIP\"                 \"LAT\"                \n[25] \"LON\"                 \"HEALTHCARE_EXPENSES\" \"HEALTHCARE_COVERAGE\"\n[28] \"INCOME\"             \n```\n\n\n:::\n\n```{.r .cell-code}\ntemp <- janitor::clean_names(patients)\ncolnames(temp)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"id\"                  \"birthdate\"           \"deathdate\"          \n [4] \"ssn\"                 \"drivers\"             \"passport\"           \n [7] \"prefix\"              \"first\"               \"middle\"             \n[10] \"last\"                \"suffix\"              \"maiden\"             \n[13] \"marital\"             \"race\"                \"ethnicity\"          \n[16] \"gender\"              \"birthplace\"          \"address\"            \n[19] \"city\"                \"state\"               \"county\"             \n[22] \"fips\"                \"zip\"                 \"lat\"                \n[25] \"lon\"                 \"healthcare_expenses\" \"healthcare_coverage\"\n[28] \"income\"             \n```\n\n\n:::\n\n```{.r .cell-code}\n# Remove all temporary objects created in this chunk\nrm(patients_mutated, patients_transmuted, patients_case_when, patients_if_else,\n   patients_split, patients_sub, patients_gsub, patients_tolower, temp)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in rm(patients_mutated, patients_transmuted, patients_case_when, :\nobject 'patients_split' not found\n```\n\n\n:::\n:::\n\n\n#### **3.2.1 Creating variable from long text: Splitting text: Extracting words in to different variables**\n\n**Parsing Text Fields in R: Handling Multi-Word Names**\n\nIn real-world datasets, it's common to encounter text fields where multiple data elements‚Äîsuch as city, state, and country‚Äîare embedded within a single string. These entries often include inconsistent spacing, making them challenging to analyze directly.\n\n**Parsing** refers to the process of systematically breaking down these complex text fields into structured, usable components.\n\n**parsing involves**\n\n-   **Detecting patterns** in spacing‚Äîfor instance, identifying how many spaces exist between different parts of a string.\n-   **Deciding where to split** the string. For example, a single space might separate words within a single name such as city name (e.g., `\"East Falmouth\"`), while two or more spaces might indicate the boundary between city, state, and country (e.g., `\"East Falmouth  Massachusetts  US\"`).\n-   **Creating new variables or columns** such as `city`, `state`, and `country` for cleaner and more structured data representation.\n\n**parsing is important**\n\n-   Many administrative or imported datasets contain **combined or messy fields** that hinder direct analysis.\n-   Proper parsing helps to **standardize** and **clean** these fields, which is a critical step for effective **data management, visualization, and analysis**.\n-   It enables downstream tasks such as **geographic grouping**, **mapping**, and **report generation**.\n\n**Summary Table**\n\n| Step | Purpose |\n|-----------------------------|-------------------------------------------|\n| `str_view()` | Visually inspect spacing patterns between components |\n| `str_extract_all(\" +\")` | Extract all space sequences |\n| `map_int(..., length)` | Count the number of space groups per entry |\n| `str_count(\"\\\\S+\")` | Count the number of words |\n| `nchar()` with `map_chr()` | Show the length of each space between words |\n| `arrange(desc(word_count))` | Identify rows with the most words (potential outliers) |\n\n**Detecting and Understanding Space Patterns**\n\nTo begin, I used example data from the `patients$BIRTHPLACE` column to identify how different rows are structured and where inconsistencies might exist.\n\n**1. Visual Inspection of Spacing** We can use str_view() from the stringr package to highlight space sequences:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr_view(patients$BIRTHPLACE[1:15], pattern = \" +\", match = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] ‚îÇ Boston<  >Massachusetts<  >US\n [2] ‚îÇ Chicopee<  >Massachusetts<  >US\n [3] ‚îÇ Spencer<  >Massachusetts<  >US\n [4] ‚îÇ Franklin<  >Massachusetts<  >US\n [5] ‚îÇ Brockton<  >Massachusetts<  >US\n [6] ‚îÇ Plymouth<  >Massachusetts<  >US\n [7] ‚îÇ East< >Falmouth<  >Massachusetts<  >US\n [8] ‚îÇ Methuen<  >Massachusetts<  >US\n [9] ‚îÇ Maynard<  >Massachusetts<  >US\n[10] ‚îÇ Boston<  >Massachusetts<  >US\n[11] ‚îÇ Framingham<  >Massachusetts<  >US\n[12] ‚îÇ Wayland<  >Massachusetts<  >US\n[13] ‚îÇ Toulouse<  >Occitanie<  >FR\n[14] ‚îÇ Framingham<  >Massachusetts<  >US\n[15] ‚îÇ Lynn<  >Massachusetts<  >US\n```\n\n\n:::\n:::\n\n\nThis shows, for example: East\\< \\>Falmouth\\< \\>Massachusetts\\< \\>US Where: - One space connects city words (\"East Falmouth\") - Two spaces separate city, state, and country\n\n**2. Extract and Inspect Space Sequences** Each row shows the space segments between words. This helps us detect whether extra or inconsistent spacing is present.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npatients %>%\n  mutate(space_groups = str_extract_all(BIRTHPLACE, \" +\")) %>%\n  select(BIRTHPLACE, space_groups) %>%\n  head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                   BIRTHPLACE space_groups\n1   Boston  Massachusetts  US         ,   \n2 Chicopee  Massachusetts  US         ,   \n3  Spencer  Massachusetts  US         ,   \n4 Franklin  Massachusetts  US         ,   \n5 Brockton  Massachusetts  US         ,   \n6 Plymouth  Massachusetts  US         ,   \n```\n\n\n:::\n:::\n\n\n**3. Count Number of Space Groups** This gives a frequency table showing how many rows have 2, 3, 4, or more space groups. A row with more than 2 groups may have extra words or inconsistent formatting.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npatients %>%\n  mutate(\n    space_groups = str_extract_all(BIRTHPLACE, \" +\"),\n    n_spaces = map_int(space_groups, length)\n  ) %>%\n  count(n_spaces)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  n_spaces  n\n1        2 84\n2        3 15\n3        4  4\n4        5  3\n```\n\n\n:::\n:::\n\n\n**4. Count the Number of Words** This confirms how many \"word segments\" are in each row and helps identify malformed entries.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npatients %>%\n  mutate(space_count = str_count(BIRTHPLACE, \" +\")) %>%\n  count(space_count)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  space_count  n\n1           2 84\n2           3 15\n3           4  4\n4           5  3\n```\n\n\n:::\n:::\n\n\n**5. Combine Word Count and Space Width** To fully understand the complexity of each row, I extracted the number of words and the exact space widths between them:\n\nThis helps in identifying patterns like:\n\n\"East Falmouth Massachusetts US\" ‚Üí 4 words, with spacing like 1 \\| 2 \\| 1\n\n\"Boston Massachusetts US\" ‚Üí 3 words, spacing 2 \\| 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\npatients %>%\n  mutate(\n    word_count = str_count(BIRTHPLACE, \"\\\\S+\"),  # count non-space words\n    space_groups = str_extract_all(BIRTHPLACE, \" +\"),\n    space_lengths = map_chr(space_groups, ~ paste(nchar(.x), collapse = \" | \"))  # lengths of spaces\n  ) %>%\n  arrange(desc(word_count)) %>%\n  select(BIRTHPLACE, word_count, space_lengths) %>%\n  head(20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                 BIRTHPLACE word_count     space_lengths\n1  Santiago de los Caballeros  Santiago  DO          6 1 | 1 | 1 | 2 | 2\n2  Santiago de los Caballeros  Santiago  DO          6 1 | 1 | 1 | 2 | 2\n3  Santiago de los Caballeros  Santiago  DO          6 1 | 1 | 1 | 2 | 2\n4             San Salvador  El Salvador  SV          5     1 | 2 | 1 | 2\n5      Santo Domingo  National District  DO          5     1 | 2 | 1 | 2\n6         Portsmouth  Saint John Parish  DM          5     2 | 1 | 1 | 2\n7           Wesley  Saint Andrew Parish  DM          5     2 | 1 | 1 | 2\n8          East Falmouth  Massachusetts  US          4         1 | 2 | 2\n9       West Springfield  Massachusetts  US          4         1 | 2 | 2\n10        North Pembroke  Massachusetts  US          4         1 | 2 | 2\n11    North Attleborough  Massachusetts  US          4         1 | 2 | 2\n12                   Ponce  Puerto Rico  PR          4         2 | 1 | 2\n13            Fall River  Massachusetts  US          4         1 | 2 | 2\n14       South Deerfield  Massachusetts  US          4         1 | 2 | 2\n15                 Bayamon  Puerto Rico  PR          4         2 | 1 | 2\n16            Oak Bluffs  Massachusetts  US          4         1 | 2 | 2\n17       North Lakeville  Massachusetts  US          4         1 | 2 | 2\n18            Guatemala City  Guatemala  GT          4         1 | 2 | 2\n19         North Andover  Massachusetts  US          4         1 | 2 | 2\n20         North Reading  Massachusetts  US          4         1 | 2 | 2\n```\n\n\n:::\n:::\n\n\nFrom observations in the data, split BIRTHPLACE by 2+ spaces would be more appropriate. Those two words having one space are the names for a city, state or country\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Clean and split birthplace into city, state/region, and country\npatients_clean <- patients %>%\n  mutate(\n    parts = str_split(BIRTHPLACE, \" {2,}\"),             # split BIRTHPLACE by 2+ spaces\n    # %||% is a shorthand from the rlang package (used implicitly here via purrr) that returns the left-hand side if it exists, otherwise returns the right-hand side.\n    # eg If .x[2] exists, use it; otherwise, use NA (missing character).\n    city = map_chr(parts, ~ .x[1] %||% NA_character_),  # city name (first part)\n    state = map_chr(parts, ~ .x[2] %||% NA_character_), # state or region (second part)\n    country = map_chr(parts, ~ .x[3] %||% NA_character_)# country code (third part)\n  ) %>%\n  select(BIRTHPLACE, city, state, country)\nhead(patients_clean, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                         BIRTHPLACE          city         state country\n1         Boston  Massachusetts  US        Boston Massachusetts      US\n2       Chicopee  Massachusetts  US      Chicopee Massachusetts      US\n3        Spencer  Massachusetts  US       Spencer Massachusetts      US\n4       Franklin  Massachusetts  US      Franklin Massachusetts      US\n5       Brockton  Massachusetts  US      Brockton Massachusetts      US\n6       Plymouth  Massachusetts  US      Plymouth Massachusetts      US\n7  East Falmouth  Massachusetts  US East Falmouth Massachusetts      US\n8        Methuen  Massachusetts  US       Methuen Massachusetts      US\n9        Maynard  Massachusetts  US       Maynard Massachusetts      US\n10        Boston  Massachusetts  US        Boston Massachusetts      US\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(patients_clean, 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                  BIRTHPLACE                       city\n97                 Boston  Massachusetts  US                     Boston\n98     North Attleborough  Massachusetts  US         North Attleborough\n99                Taunton  Massachusetts  US                    Taunton\n100            Chelmsford  Massachusetts  US                 Chelmsford\n101                Boston  Massachusetts  US                     Boston\n102             Holliston  Massachusetts  US                  Holliston\n103 Santiago de los Caballeros  Santiago  DO Santiago de los Caballeros\n104           Springfield  Massachusetts  US                Springfield\n105             Fitchburg  Massachusetts  US                  Fitchburg\n106       Millis-Clicquot  Massachusetts  US            Millis-Clicquot\n            state country\n97  Massachusetts      US\n98  Massachusetts      US\n99  Massachusetts      US\n100 Massachusetts      US\n101 Massachusetts      US\n102 Massachusetts      US\n103      Santiago      DO\n104 Massachusetts      US\n105 Massachusetts      US\n106 Massachusetts      US\n```\n\n\n:::\n:::\n\n\n**Conclusion** From this exploration, we observe that:\n\n-   Most entries use single spaces within city names (e.g., \"East Falmouth\")\n\n-   Two or more spaces are commonly used to separate city, state, and country names\n\n-   Parsing using a split on \"{2,}\" (two or more spaces) is a reliable strategy\n\n#### **3.2.2 Text Pattern Analysis and Variable Extraction from Free/unstructured Text**\n\nFree-text fields are common in public-health, administrative, and clinical datasets. While they are rich in information, the lack of structure and consistent vocabulary can limit their usefulness. In real-world datasets, especially in health, administration, and survey data, free-text fields often contain rich information hidden in inconsistent or varied language. A single concept (e.g., \"COVID-19 vaccine\") might appear in many forms such as \"covid jab\", \"covid-19 injection\", or \"SARS-CoV-2 shot\". This presentation demonstrates how to transform unstructured text into structured, analyzable data using R. The workflow covers\n\n-   tokenization,\n-   word-frequency analysis,\n-   stop-word removal,\n-   TF‚ÄìIDF to highlight context-specific terms,\n-   word-cloud visualisation,\n-   bigram and trigram extraction, and\n-   pattern detection with regular expressions to create categorical variables.\n\n**Basic Tokenisation and Word-Frequency Table**\n\nTokenisation splits long strings of text into individual words or terms (\"tokens\"). This enables us to calculate how often each word appears, which is essential for understanding vocabulary patterns.\n\nWe begin by loading the necessary R packages. If a package is not already installed.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install packages when they are not already available\nif (!require(\"tidytext\")) install.packages(\"tidytext\", dependencies = TRUE)\nif (!require(\"wordcloud\")) install.packages(\"wordcloud\", dependencies = TRUE)\nif (!require(\"tm\"))        install.packages(\"tm\",        dependencies = TRUE)\n\nlibrary(tidytext)   # text mining utilities\nlibrary(wordcloud)  # word-cloud plots\nlibrary(tm)         # text-mining helpers used by wordcloud\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nword_freq <- vaccination %>%\n  unnest_tokens(word, DESCRIPTION) %>%\n  count(word, sort = TRUE) %>%\n  filter(!is.na(word) & word != \"\")\n\nhead(word_freq)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n          word   n\n1         free 929\n2 preservative 929\n3    influenza 859\n4   injectable 859\n5     seasonal 859\n6         dose 230\n```\n\n\n:::\n:::\n\n\n**Remove Stop Words**\n\nStop words are common terms like \"and\", \"the\", or \"in\" that typically do not contribute meaningful information in analysis. Removing these helps us focus on content-rich terms.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"stop_words\")          # built-in tidytext stop-word list\n\nword_freq_clean <- vaccination %>%\n  unnest_tokens(word, DESCRIPTION) %>%\n  anti_join(stop_words, by = \"word\") %>%\n  count(word, sort = TRUE)\n\nhead(word_freq_clean)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n          word   n\n1         free 929\n2 preservative 929\n3    influenza 859\n4   injectable 859\n5     seasonal 859\n6         dose 230\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n**Visualise Word Frequencies**\n\nThis bar chart provides a visual overview of the most common meaningful words in the dataset after stop-word removal.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nword_freq_clean %>%\n  filter(n > 20) %>%\n  ggplot(aes(x = reorder(word, n), y = n)) +\n  geom_col() +\n  coord_flip() +\n  labs(title = \"Most Frequent Words After Stop-Word Removal\",\n       x = \"Word\",\n       y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n**Create a Word Cloud**\n\nA word cloud presents word frequencies visually, with more frequent words appearing larger. It offers a quick snapshot of key terms in the dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mar = c(1, 1, 1, 1))  # reduce plot margins\nwordcloud(words = word_freq_clean$word,\n          freq = word_freq_clean$n,\n          min.freq = 1,\n          max.words = 100,\n          random.order = FALSE)\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n**TF‚ÄìIDF Analysis**\n\nTF‚ÄìIDF (Term Frequency‚ÄìInverse Document Frequency) highlights words that are common within a group but rare across groups. This helps identify terms that are contextually important for specific subgroups.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example assumes a column called 'source_id' identifies individual documents\n\ntfidf_result <- vaccination %>%\n  select(source_id, DESCRIPTION) %>%\n  unnest_tokens(word, DESCRIPTION) %>%\n  anti_join(stop_words, by = \"word\") %>%\n  count(source_id, word, sort = TRUE) %>%\n  bind_tf_idf(word, source_id, n) %>%\n  arrange(desc(tf_idf))\n\nhead(tfidf_result)\n```\n:::\n\n\n------------------------------------------------------------------------\n\n**Bigrams and Trigrams (n-grams)**\n\nSometimes the context of words matters more than individual terms. N-grams (bigrams, trigrams, etc.) allow us to capture meaningful phrases instead of isolated words.\n\n**Bigrams ‚Äì two-word phrases**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbigrams <- vaccination %>%\n  unnest_tokens(bigram, DESCRIPTION, token = \"ngrams\", n = 2) %>%\n  count(bigram, sort = TRUE)\n\nhead(bigrams)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                   bigram   n\n1       preservative free 929\n2      influenza seasonal 859\n3 injectable preservative 859\n4     seasonal injectable 859\n5                    <NA> 185\n6                covid 19 144\n```\n\n\n:::\n:::\n\n\n**Trigrams ‚Äì three-word phrases**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrigrams <- vaccination %>%\n  unnest_tokens(trigram, DESCRIPTION, token = \"ngrams\", n = 3) %>%\n  count(trigram, sort = TRUE)\n\nhead(trigrams)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                           trigram   n\n1    influenza seasonal injectable 859\n2     injectable preservative free 859\n3 seasonal injectable preservative 859\n4                             <NA> 319\n5                      19 mrna lnp 142\n6                    covid 19 mrna 142\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n**Create Categorical Variables from free and unstructured Text**\n\nWe use regular expressions to classify unstructured free-text values into consistent categories. This transformation is critical for summarising or modelling based on text. We can identify and map all words that contain a certain substring (like \"covid\" in \"COVID-19\", \"covid_19\", or \"covid\"). You can use str_detect() with a case-insensitive regular expression to filter your word frequency table.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvaccination <- vaccination %>%\n  mutate(vaccine_group = case_when(\n    str_detect(DESCRIPTION, regex(\"covid|sars-cov-2\", ignore_case = TRUE)) ~ \"COVID-19\",\n    str_detect(DESCRIPTION, regex(\"influenza\", ignore_case = TRUE)) ~ \"Influenza\",\n    str_detect(DESCRIPTION, regex(\"hepatitis|hep a|hep b\", ignore_case = TRUE)) ~ \"Hepatitis\",\n    str_detect(DESCRIPTION, regex(\"hpv\", ignore_case = TRUE)) ~ \"HPV\",\n    str_detect(DESCRIPTION, regex(\"mmr\", ignore_case = TRUE)) ~ \"MMR\",\n    str_detect(DESCRIPTION, regex(\"dtap|tdap|tetanus|td \\\\(?adult\\\\)?\", ignore_case = TRUE)) ~ \"DTP group\",\n    str_detect(DESCRIPTION, regex(\"ipv\", ignore_case = TRUE)) ~ \"IPV\",\n    str_detect(DESCRIPTION, regex(\"hib\", ignore_case = TRUE)) ~ \"Hib\",\n    str_detect(DESCRIPTION, regex(\"meningococcal|mcv4\", ignore_case = TRUE)) ~ \"Meningococcal\",\n    str_detect(DESCRIPTION, regex(\"pneumococcal.*13\", ignore_case = TRUE)) ~ \"Pneumococcal PCV13\",\n    str_detect(DESCRIPTION, regex(\"pneumococcal.*23\", ignore_case = TRUE)) ~ \"Pneumococcal PPV23\",\n    str_detect(DESCRIPTION, regex(\"rotavirus\", ignore_case = TRUE)) ~ \"Rotavirus\",\n    str_detect(DESCRIPTION, regex(\"varicella\", ignore_case = TRUE)) ~ \"Varicella\",\n    str_detect(DESCRIPTION, regex(\"zoster\", ignore_case = TRUE)) ~ \"Zoster\",\n    TRUE ~ \"Other\"\n  ))\n\n# Frequency check\n\ntable(vaccination$vaccine_group)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n          COVID-19          DTP group          Hepatitis                Hib \n               144                152                114                 32 \n               HPV          Influenza                IPV      Meningococcal \n                61                859                 51                 52 \n               MMR Pneumococcal PCV13 Pneumococcal PPV23          Rotavirus \n                26                 52                  8                 21 \n         Varicella             Zoster \n                26                 21 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Grouping Values Using %in% Inside case_when()\n\nvaccination <- vaccination %>%\n  mutate(vacc_group3 = case_when(\n    vaccine_group %in% c(\"COVID-19\", \"Influenza\") ~ \"Respiratory vaccines\",\n    vaccine_group %in% c(\"DTP group\", \"Hepatitis\", \"HPV\", \"Hib\", \"IPV\", \n                         \"Meningococcal\", \"MMR\") ~ \"Childhood vaccines\",\n    TRUE ~ \"Other\"\n  )) %>% \n  select(-ENCOUNTER, -CODE)\n\nhead (vaccination)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                  DATE                              PATIENT\n1 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n2 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n3 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n4 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46\n5 2002-10-29T19:07:21Z 34a4dcc4-35fb-6ad5-ab98-be285c586a4f\n6 2005-11-01T19:07:21Z 34a4dcc4-35fb-6ad5-ab98-be285c586a4f\n                                                   DESCRIPTION BASE_COST\n1           Influenza  seasonal  injectable  preservative free       136\n2 Td (adult)  5 Lf tetanus toxoid  preservative free  adsorbed       136\n3                                                 Hep B  adult       136\n4                                          meningococcal MCV4P       136\n5           Influenza  seasonal  injectable  preservative free       136\n6           Influenza  seasonal  injectable  preservative free       136\n   vacc_date year    month vaccine_group          vacc_group3\n1 2016-04-10 2016    April     Influenza Respiratory vaccines\n2 2016-04-10 2016    April     DTP group   Childhood vaccines\n3 2016-04-10 2016    April     Hepatitis   Childhood vaccines\n4 2016-04-10 2016    April Meningococcal   Childhood vaccines\n5 2002-10-29 2002  October     Influenza Respiratory vaccines\n6 2005-11-01 2005 November     Influenza Respiratory vaccines\n```\n\n\n:::\n:::\n\n\n**Conclusion**\n\nBy combining the `tidytext`, `stringr`, and `dplyr` packages we converted messy free-text into structured data ready for analysis. This approach supports reproducible work, clearer insights, and more robust statistical modelling.\n\n### **3.3 Factors and Labels**\n\n-   Creating factor levels and relabeling\\\n-   Applying labels with `label()` and `val_labels()`\\\n-   Descriptive summaries with `describe()`\n\nIn R, categorical variables can be represented as **factors** to support grouping, modeling, and formatting for reporting. Factor variables store both the value and its associated level label.\n\nThis section introduces key functions to:\n\n-   Convert variables into factors\\\n-   Rename or reorder levels for clarity\\\n-   Apply variable-level labels using `label()` or `var_label()`\\\n-   Assign value labels using `val_labels()` (e.g., `1 = Male`)\\\n-   Generate descriptive metadata summaries using `Hmisc::describe()`\n\n**Value labels** are especially useful when numeric codes represent categorical responses. These can be shown in summaries or retained for export and display.\n\nYou can choose to display or hide value labels:\n\noptions(labelled::val_labels_visible = TRUE) \\# Show values like \"1 = Male\" options(labelled::val_labels_visible = FALSE) \\# Show only \"Male\"\n\n**üîπ Summary of Functions for Working with Factors and Labels**\n\n| **Task** | **Function** | **Description** |\n|------------------|-----------------------|-------------------------------|\n| Convert to factor | `as.factor(x)` | Convert a character or numeric variable into a factor |\n| Reorder levels | `factor(x, levels = ...)` | Define a specific order for levels |\n| Rename factor levels | `levels(x) <- c(...)` | Manually change the displayed names of factor levels |\n| Recode with `forcats` | `fct_recode()`, `fct_relevel()` | Relabel, reorder, or collapse factor levels using tidyverse tools |\n| Apply variable label | `label(x) <- \"...\"` or `var_label(x) <- \"...\"` | Assign a description to a variable |\n| Apply value labels | `val_labels(x) <- c(\"Label\" = code)` | Define how codes map to category names (e.g., `1 = Male`) |\n| Retrieve labels | `label(x)`, `val_labels(x)` | View current labels or mappings |\n| Generate summary with labels | `Hmisc::describe(df)` | Return a summary including variable names, labels, types, and distributions |\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Select two categorical variables\nvacc_factor <- vacc_pt_merged %>%\n  select(gender, marital)\n\n# Convert character to factor\nvacc_factor <- vacc_factor %>%\n  mutate(\n    gender = factor(gender),\n    marital = factor(marital)\n  )\n\n# Relabel factor levels using fct_recode()\nvacc_factor <- vacc_factor %>%\n  mutate(\n    gender = fct_recode(gender, \"Male\" = \"M\", \"Female\" = \"F\"),\n    marital = fct_recode(marital,\n                         \"Married\" = \"M\",\n                         \"Divorced\" = \"D\",\n                         \"Single\" = \"S\",\n                         \"Widowed\" = \"W\")\n  )\n\ntail(vacc_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     gender marital\n1614 Female  Single\n1615 Female  Single\n1616 Female  Single\n1617 Female  Single\n1618 Female  Single\n1619 Female  Single\n```\n\n\n:::\n\n```{.r .cell-code}\n# Assign variable labels\nvar_label(vacc_factor$gender) <- \"Biological Sex\"\nvar_label(vacc_factor$marital) <- \"Marital Status\"\n\n# Assign value labels\nvacc_factor$gender_chr <- as.character(vacc_factor$gender) # Convert factor to character\nval_labels(vacc_factor$gender_chr) <- c(\"1\" = \"Male\", \"2\" = \"Female\")\n\n\n# View internal structure and label info\nstr(vacc_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t1619 obs. of  3 variables:\n $ gender    : Factor w/ 2 levels \"Female\",\"Male\": 2 2 2 2 2 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Biological Sex\"\n $ marital   : Factor w/ 5 levels \"\",\"Divorced\",..: 3 3 3 3 3 3 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Marital Status\"\n $ gender_chr: chr+lbl [1:1619] Male  , Male  , Male  , Male  , Male  , Male  , Male ...\n   ..@ labels: Named chr  \"Male\" \"Female\"\n   .. ..- attr(*, \"names\")= chr [1:2] \"1\" \"2\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# Remove bad labels if needed:\nvar_label(vacc_factor$gender) <- NULL\n\n# Remove temporary object\nrm(vacc_factor)\n```\n:::\n\n\n### **3.4 Grouping and Summarizing Data**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Select two categorical variables\nvacc_factor <- vacc_pt_merged %>%\n  select(gender, marital)\n\n# Convert character to factor\nvacc_factor <- vacc_factor %>%\n  mutate(\n    gender = factor(gender),\n    marital = factor(marital)\n  )\n\n# Relabel factor levels using fct_recode()\nvacc_factor <- vacc_factor %>%\n  mutate(\n    gender = fct_recode(gender, \"Male\" = \"M\", \"Female\" = \"F\"),\n    marital = fct_recode(marital,\n                         \"Married\" = \"M\",\n                         \"Divorced\" = \"D\",\n                         \"Single\" = \"S\",\n                         \"Widowed\" = \"W\")\n  )\n\ntail(vacc_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     gender marital\n1614 Female  Single\n1615 Female  Single\n1616 Female  Single\n1617 Female  Single\n1618 Female  Single\n1619 Female  Single\n```\n\n\n:::\n\n```{.r .cell-code}\n# Assign variable labels\nvar_label(vacc_factor$gender) <- \"Biological Sex\"\nvar_label(vacc_factor$marital) <- \"Marital Status\"\n\n# Assign value labels\nvacc_factor$gender_chr <- as.character(vacc_factor$gender) # Convert factor to character\nval_labels(vacc_factor$gender_chr) <- c(\"1\" = \"Male\", \"2\" = \"Female\")\n\n\n# View internal structure and label info\nstr(vacc_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t1619 obs. of  3 variables:\n $ gender    : Factor w/ 2 levels \"Female\",\"Male\": 2 2 2 2 2 2 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Biological Sex\"\n $ marital   : Factor w/ 5 levels \"\",\"Divorced\",..: 3 3 3 3 3 3 2 2 2 2 ...\n  ..- attr(*, \"label\")= chr \"Marital Status\"\n $ gender_chr: chr+lbl [1:1619] Male  , Male  , Male  , Male  , Male  , Male  , Male ...\n   ..@ labels: Named chr  \"Male\" \"Female\"\n   .. ..- attr(*, \"names\")= chr [1:2] \"1\" \"2\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# Remove bad labels if needed:\nvar_label(vacc_factor$gender) <- NULL\n\n# Remove temporary object\nrm(vacc_factor)\n```\n:::\n\n\n-   `group_by()`, `summarize()`, `ungroup()`\n-   Row and column percentages: details presented in section 7.2 below\n-   Weighted summaries with `wt =`\n\nGrouping and summarizing data is fundamental for understanding patterns, distributions, and relationships within datasets.\\\nIn `dplyr`, the functions `group_by()` and `summarize()` are used together to calculate statistics across different groups.\\\nWe can also calculate proportions (row-wise or column-wise) and perform weighted summaries when necessary. The details regarding row and column percentages are presented in section 7.2 below.\n\nThese steps are critical for aggregating information into meaningful insights, especially when working with categorical, grouped, or longitudinal data.\n\n------------------------------------------------------------------------\n\nüîπ **Summary of Functions for Grouping and Summarizing**\n\n| **Task** | **Function** | **Purpose** |\n|:--------------------|:--------------------|:-----------------------------|\n| Group data by one or more variables | `group_by()` | Define groups for aggregation |\n| Summarize grouped data | `summarize()` | Apply aggregation functions (e.g., mean, sum, count) |\n| Remove grouping structure | `ungroup()` | Return to ungrouped state after summary |\n| Calculate row-wise or column-wise proportions | Manual with `mutate()`, `prop.table()`, etc. | Understand percentage distribution within/between groups |\n| Weighted summaries | `summarize(wt = )` | Compute weighted means, sums, or percentages when different rows contribute differently |\n\n------------------------------------------------------------------------\n\n‚û°Ô∏è Grouping and summarization allow efficient exploration of key relationships and preparation of clean summary tables.\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ....................................................\n# Grouping and Summarizing Breast Cancer Data\n# ....................................................\n\n# Grouping by SA3 name, State, and Year, and summarizing participation\nbc_summary_year <- breast_cancer_data %>%\n  group_by(year) %>%\n  summarise(\n    total_participants = sum(part50_74, na.rm = TRUE),\n    total_population = sum(pop50_74, na.rm = TRUE),\n    mean_screening_rate = mean(rate50_74, na.rm = TRUE),\n    .groups = \"drop\"\n  )\nhead(bc_summary_year, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 4\n    year total_participants total_population mean_screening_rate\n   <int>              <dbl>            <dbl>               <dbl>\n1 201617            1720463          3127749                54.9\n2 201718            1748606          3187574                54.7\n3 201819            1781484          3247470                54.6\n```\n\n\n:::\n\n```{.r .cell-code}\n# --- Create Vaccination Pattern Dataset ---\ndf_vaccination_plot <- vaccination %>%\n  group_by(year, month, vaccine_group) %>%\n  summarise(\n    count = n(),  # Number of records per year-month-vaccine_group combination\n    .groups = \"drop\"\n  ) %>%\n  ungroup() %>%\n  group_by(year, month) %>%\n  mutate(\n    count_month = sum(count)  # Total vaccines in that year-month across all groups\n  ) %>%\n  ungroup() %>%\n  mutate(\n    proportion_month = round((count / count_month) * 100, 1)  # % per vaccine group within month\n  ) %>%\n  group_by(year) %>%\n  mutate(\n    total_year = sum(count)  # Total vaccines across the year\n  ) %>%\n  mutate(\n    proportion_year = round((count / total_year) * 100, 1)  # % per vaccine group within year\n  ) %>%\n  ungroup()\n\n# View first few rows\ntail(df_vaccination_plot)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 8\n  year  month     vaccine_group count count_month proportion_month total_year\n  <chr> <chr>     <chr>         <int>       <int>            <dbl>      <int>\n1 2024  October   Zoster            1          15              6.7        122\n2 2024  September COVID-19          1          15              6.7        122\n3 2024  September DTP group         2          15             13.3        122\n4 2024  September HPV               2          15             13.3        122\n5 2024  September Influenza         9          15             60          122\n6 2024  September Meningococcal     1          15              6.7        122\n# ‚Ñπ 1 more variable: proportion_year <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Enhanced summary of breast cancer screening data with SA3, State, and National Year-level proportions\n# use na.rm = TRUE to remove (ignore) missing values (NA) when calculating\n\nbc_summary <- breast_cancer_data %>%\n  # Group by SA3 area, State, and Year\n  group_by(sa3name, state, year) %>%\n  summarise(\n    total_participants = sum(part50_74, na.rm = TRUE),  # Sum of screened participants\n    total_population = sum(pop50_74, na.rm = TRUE),     # Sum of target population\n    .groups = \"drop\"\n  ) %>%\n  # Calculate SA3-level screening rate and proportion\n  mutate(\n    screening_rate = round((total_participants / total_population) * 100, 1),  # % screened in that SA3\n    proportion_area = round((total_participants / sum(total_participants)) * 100, 1)  # % contribution to national participants\n  ) %>%\n  # Add State-level aggregated summaries\n  group_by(state, year) %>%\n  mutate(\n    state_sa3 = n(),  # Number of SA3 areas within each State-Year\n    state_total_participants = sum(total_participants, na.rm = TRUE),  # State-wide participants\n    state_total_population = sum(total_population, na.rm = TRUE),      # State-wide target population\n    state_screening_rate = round((state_total_participants / state_total_population) * 100, 1),  # % screened at State level\n    state_proportion = round((state_total_participants / sum(total_participants)) * 100, 1)  # State share of total participants\n  ) %>%\n  ungroup() %>%\n  # Add National Year-level aggregated summaries\n  group_by(year) %>%\n  mutate(\n    year_sa3 = n(),  # Number of SA3 areas within each Year\n    year_total_participants = sum(total_participants, na.rm = TRUE),  # Australia-wide participants for that year\n    year_total_population = sum(total_population, na.rm = TRUE),      # Australia-wide target population for that year\n    year_screening_rate = round((year_total_participants / year_total_population) * 100, 1),  # National % screened\n    year_proportion = round((year_total_participants / sum(total_participants)) * 100, 1)  # National share\n  ) %>%\n  ungroup() %>%\n  arrange(year, state, sa3name)   # Final arrangement for neat viewing\n\n# View the last few rows\ntail(bc_summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 17\n  sa3name        state   year total_participants total_population screening_rate\n  <chr>          <chr>  <int>              <dbl>            <dbl>          <dbl>\n1 Stirling       WA    201920              13878            27265           50.9\n2 Swan           WA    201920               8513            17274           49.3\n3 Wanneroo       WA    201920              12032            24345           49.4\n4 West Pilbara   WA    201920                828             2409           34.4\n5 Wheat Belt - ‚Ä¶ WA    201920               4947             9813           50.4\n6 Wheat Belt - ‚Ä¶ WA    201920               1446             3342           43.3\n# ‚Ñπ 11 more variables: proportion_area <dbl>, state_sa3 <int>,\n#   state_total_participants <dbl>, state_total_population <dbl>,\n#   state_screening_rate <dbl>, state_proportion <dbl>, year_sa3 <int>,\n#   year_total_participants <dbl>, year_total_population <dbl>,\n#   year_screening_rate <dbl>, year_proportion <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Calculating Proportions: details presented in section 7.2 below\n# ....................................................\n\n# Adding participation proportion within each SA3-year group\nbc_summary_with_prop <- bc_summary %>%\n  mutate(\n    participation_rate = (total_participants / total_population) * 100\n  ) %>% \n  select(participation_rate)\n\nhead(bc_summary_with_prop)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 1\n  participation_rate\n               <dbl>\n1               56.1\n2              NaN  \n3               53.8\n4              NaN  \n5               54.5\n6               55.1\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Weighted Summarization (Weighted Average Screening Rate)\n# ....................................................\n\n# Calculate weighted mean screening rate by SA3\nbc_weighted_summary <- breast_cancer_data %>%\n  group_by(sa3name, state, year) %>%\n  summarise(\n    total_participants = sum(part50_74, na.rm = TRUE),\n    total_population = sum(pop50_74, na.rm = TRUE),\n    weighted_screening_rate = round(sum(rate50_74 * pop50_74, na.rm = TRUE) / sum(pop50_74, na.rm = TRUE), 1),\n    .groups = \"drop\"\n  )\n\nhead(bc_weighted_summary)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 6\n  sa3name        state   year total_participants total_population\n  <chr>          <chr>  <int>              <dbl>            <dbl>\n1 Adelaide City  SA    201617               1280             2537\n2 Adelaide City  SA    201718               1314             2608\n3 Adelaide City  SA    201819               1368             2642\n4 Adelaide City  SA    201920               1208             2707\n5 Adelaide Hills SA    201617               7010            11636\n6 Adelaide Hills SA    201718               7096            11876\n# ‚Ñπ 1 more variable: weighted_screening_rate <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Remove all temporary objects created in this chunk\n# ....................................................\nrm(bc_summary, bc_summary_with_prop, bc_weighted_summary)\n```\n:::\n\n\n### **3.5 Sorting, Reordering, Slicing, and Arranging**\n\n-   `arrange()`, `desc()`\n-   `slice_max()`, `slice_min()`, `top_n()`\n-   Ranking data and filtering top/bottom groups\n\nSorting and reordering data is important for finding trends, identifying extremes (top or bottom performers), and preparing tables for reporting or visualization.\\\nIn `dplyr`, the `arrange()` function sorts datasets by one or more variables, while `desc()` allows descending (reverse) order.\\\nFor selecting specific rows like top N or bottom N values, `slice_max()` and `slice_min()` are commonly used.\n\nThese techniques allow focusing on key records, comparing rankings across groups, and making datasets easier to review.\n\n------------------------------------------------------------------------\n\n**üîπ Summary of Functions for Sorting and Reordering**\n\n| **Task** | **Function** | **Purpose** |\n|:-----------------------|:------------------|:----------------------------|\n| Sort ascending order | `arrange()` | Sort rows by one or more variables (lowest to highest) |\n| Sort descending order | `arrange(desc())` | Sort rows highest to lowest |\n| Select top N rows by a variable | `slice_max()` | Keep top N records based on a variable |\n| Select bottom N rows by a variable | `slice_min()` | Keep bottom N records based on a variable |\n| Select top N rows (old method) | `top_n()` | Deprecated alternative to `slice_max()` (not recommended now) |\n| Rank within groups | `mutate(rank = row_number())` | Create custom ranking inside grouped data |\n\n------------------------------------------------------------------------\n\n‚û°Ô∏è Sorting and slicing help prioritize key data points and create targeted outputs for decision-making or visualization.\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ....................................................\n# Sorting, Reordering, Slicing, and Arranging (Breast Cancer Data)\n# ....................................................\n\n# Sorting by Screening Rate in Ascending Order\nbc_sorted_rate <- breast_cancer_data %>%\n  arrange(rate50_74) %>%\n  select(sa3code, sa3coden, sa3name, state, year,\n         part50_74, pop50_74, rate50_74, agen50_74, expct50_74)\n\nhead(bc_sorted_rate)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden        sa3name state   year part50_74 pop50_74 rate50_74\n1   90104    90104 Norfolk Island Other 201920        24      441   5.40000\n2   90104    90104 Norfolk Island Other 201819        31      422   7.30000\n3   90104    90104 Norfolk Island Other 201718        39      401   9.70000\n4   70205    70205      Katherine    NT 201920       412     2011  20.51335\n5   51002    51002   East Pilbara    WA 201920       562     1987  28.26220\n6   51002    51002   East Pilbara    WA 201819       567     1918  29.55425\n  agen50_74 expct50_74\n1         3        220\n2         3        231\n3         3        219\n4         3       1003\n5         3        991\n6         3       1051\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sorting by Screening Rate in Descending Order\nbc_sorted_rate_desc <- breast_cancer_data %>%\n  arrange(desc(rate50_74)) %>%\n  select(sa3code, sa3coden, sa3name, state, year,\n         part50_74, pop50_74, rate50_74, agen50_74, expct50_74)\n\nhead(bc_sorted_rate_desc)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden                        sa3name state   year part50_74\n1   90102    90102        Cocos (Keeling) Islands Other 201920        81\n2   31801    31801 Charters Towers - Ayr - Ingham   Qld 201617      4628\n3   60102    60102            Hobart - North East   Tas 201718      5856\n4   60104    60104        Hobart - South and West   Tas 201718      3643\n5   11004    11004            Tamworth - Gunnedah   NSW 201819      8426\n6   31801    31801 Charters Towers - Ayr - Ingham   Qld 201718      4612\n  pop50_74 rate50_74 agen50_74 expct50_74\n1      101  80.20000         3         50\n2     6713  68.90000         3       3692\n3     8566  68.36348         3       4694\n4     5331  68.34190         3       2921\n5    12333  68.32168         3       6758\n6     6759  68.23824         3       3703\n```\n\n\n:::\n\n```{.r .cell-code}\n# Slicing Top 10 SA3s with Highest Screening Rates\nbc_top_screening <- breast_cancer_data %>%\n  slice_max(order_by = rate50_74, n = 10) %>%\n  select(sa3code, sa3coden, sa3name, state, year,\n         part50_74, pop50_74, rate50_74, agen50_74, expct50_74)\n\nbc_top_screening\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   sa3code sa3coden                        sa3name state   year part50_74\n1    90102    90102        Cocos (Keeling) Islands Other 201920        81\n2    31801    31801 Charters Towers - Ayr - Ingham   Qld 201617      4628\n3    60102    60102            Hobart - North East   Tas 201718      5856\n4    60104    60104        Hobart - South and West   Tas 201718      3643\n5    11004    11004            Tamworth - Gunnedah   NSW 201819      8426\n6    31801    31801 Charters Towers - Ayr - Ingham   Qld 201718      4612\n7    11001    11001                       Armidale   NSW 201617      3810\n8    60102    60102            Hobart - North East   Tas 201819      5881\n9    31801    31801 Charters Towers - Ayr - Ingham   Qld 201819      4588\n10   31801    31801 Charters Towers - Ayr - Ingham   Qld 201920      4580\n   pop50_74 rate50_74 agen50_74 expct50_74\n1       101  80.20000         3         50\n2      6713  68.90000         3       3692\n3      8566  68.36348         3       4694\n4      5331  68.34190         3       2921\n5     12333  68.32168         3       6758\n6      6759  68.23824         3       3703\n7      5602  68.00000         3       3081\n8      8698  67.61016         3       4766\n9      6797  67.49974         3       3724\n10     6818  67.17431         3       3402\n```\n\n\n:::\n\n```{.r .cell-code}\n# Slicing Bottom 5 SA3s with Lowest Screening Rates\nbc_bottom_screening <- breast_cancer_data %>%\n  slice_min(order_by = rate50_74, n = 5) %>%\n  select(sa3code, sa3coden, sa3name, state, year,\n         part50_74, pop50_74, rate50_74, agen50_74, expct50_74)\n\nbc_bottom_screening\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden        sa3name state   year part50_74 pop50_74 rate50_74\n1   90104    90104 Norfolk Island Other 201920        24      441   5.40000\n2   90104    90104 Norfolk Island Other 201819        31      422   7.30000\n3   90104    90104 Norfolk Island Other 201718        39      401   9.70000\n4   70205    70205      Katherine    NT 201920       412     2011  20.51335\n5   51002    51002   East Pilbara    WA 201920       562     1987  28.26220\n  agen50_74 expct50_74\n1         3        220\n2         3        231\n3         3        219\n4         3       1003\n5         3        991\n```\n\n\n:::\n\n```{.r .cell-code}\n# Ranking Within Each State\nbc_ranked <- breast_cancer_data %>%\n  group_by(state) %>%\n  arrange(desc(rate50_74), .by_group = TRUE) %>%\n  mutate(screening_rank = row_number()) %>%\n  select(screening_rank, rate50_74, state) %>% \n  ungroup()\n\nhead(bc_ranked, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 √ó 3\n   screening_rank rate50_74 state\n            <int>     <dbl> <chr>\n 1              1      59.9 ACT  \n 2              2      58.8 ACT  \n 3              3      58.4 ACT  \n 4              4      58   ACT  \n 5              5      57.7 ACT  \n 6              6      57.4 ACT  \n 7              7      57.2 ACT  \n 8              8      57.1 ACT  \n 9              9      57.0 ACT  \n10             10      56.7 ACT  \n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Remove all temporary objects created in this chunk\n# ....................................................\nrm(bc_sorted_rate, bc_sorted_rate_desc, bc_top_screening, bc_bottom_screening, bc_ranked)\n```\n:::\n\n\n### **3.6 Reshaping and Tidy Data**\n\n-   `pivot_longer()`, `pivot_wider()`\n-   Wide-to-long and long-to-wide transformations\n-   Separating and uniting columns with `separate()` and `unite()`\\\n\nIn data analysis, datasets often need to be reorganized ‚Äî from wide format to long format, or vice versa ‚Äî to suit different types of analysis or visualization.\\\nThe goal is to follow **Tidy Data principles** where: - Each variable forms a column - Each observation forms a row - Each type of observational unit forms a table\n\n`dplyr` and `tidyr` provide key functions for reshaping: - `pivot_longer()` turns many columns into two columns (variable name and value). - `pivot_wider()` spreads one column into multiple columns. - `separate()` splits one column into multiple columns based on a separator. - `unite()` combines multiple columns into one.\n\nThese tools help create clean, organized datasets ready for efficient analysis and plotting.\n\n------------------------------------------------------------------------\n\n**üîπ Summary of Functions for Reshaping and Tidy Data**\n\n| **Task** | **Function** | **Purpose** |\n|:-----------------------|:-----------------|:-----------------------------|\n| Reshape wide to long | `pivot_longer()` | Collapse multiple columns into key-value pairs |\n| Reshape long to wide | `pivot_wider()` | Spread key-value pairs across multiple columns |\n| Split a column into multiple parts | `separate()` | Separate one column into several columns by a delimiter |\n| Combine multiple columns into one | `unite()` | Merge several columns into a single column |\n\n------------------------------------------------------------------------\n\n‚û°Ô∏è These reshaping techniques make it easy to transform datasets into a tidy structure for summaries, modeling, or visualization.\n\n> \\*\\* üîé Regular Expression Tip for `names_pattern`\\*\\*\n\n> In `pivot_longer()`, we use a regular expression to split the column names into two components: - `part`, `pop`, `rate`, or `expct` ‚Üí **measure** - `50_54`, `55_59`, etc. ‚Üí **age group** The pattern `([0-9]{2}_[0-9]{2})` works as follows:\n\n> | **Component** | **Meaning**           |\n> |:--------------|:----------------------|\n> | `[0-9]`       | Match any digit (0‚Äì9) |\n> | `{2}`         | Exactly two digits    |\n> | `_`           | An underscore         |\n> | `[0-9]{2}`    | Another two digits    |\n>\n> ‚û°Ô∏è This captures typical age formats like `50_54`, `60_64`, etc.\n\nOriginal Column Name: rate50_54\n\nComponents: ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îê ....\\> ‚îÇrate ‚îÇ ‚îÇ50_54 ‚îÇ \\> ‚îî‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îò\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ....................................................\n# Reshaping, Separate and Unite Columns: Breast Cancer Data\n# ....................................................\n\n# Pivot longer by extracting measure type and age group separately\nbreast_cancer_long <- breast_cancer_data %>%\n  pivot_longer(\n    cols = starts_with(\"part\") | starts_with(\"pop\") | starts_with(\"rate\") | starts_with(\"expct\"),\n    names_to = c(\"measure\", \"age_group\"),\n    names_pattern = \"(part|pop|rate|expct)([0-9]{2}_[0-9]{2})\",\n    values_to = \"value\"\n  ) %>%\n  relocate(measure, age_group, .before = sa3code)\n\nhead(breast_cancer_long, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 √ó 15\n   measure age_group sa3code sa3coden sa3name   state   year agen50_74 agen50_69\n   <chr>   <chr>       <int>    <int> <chr>     <chr>  <int>     <int>     <int>\n 1 part    50_74       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 2 part    50_69       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 3 part    50_54       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 4 part    55_59       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 5 part    60_64       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 6 part    65_69       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 7 part    70_74       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 8 pop     50_74       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n 9 pop     50_69       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n10 pop     50_54       10102    10102 Queanbey‚Ä¶ NSW   201617         3         2\n# ‚Ñπ 6 more variables: agen50_54 <int>, agen55_59 <int>, agen60_64 <int>,\n#   agen65_69 <int>, agen70_74 <int>, value <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Pivot wider to spread measures into separate columns\nbreast_cancer_final <- breast_cancer_long %>%\n  pivot_wider(\n    names_from = measure,\n    values_from = value\n  ) %>%\n  relocate(part, pop, rate, expct, .before = sa3code)\n\nhead(breast_cancer_final, n = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 √ó 17\n  age_group  part   pop  rate expct sa3code sa3coden sa3name    state   year\n  <chr>     <dbl> <dbl> <dbl> <dbl>   <int>    <int> <chr>      <chr>  <int>\n1 50_74      4875  8052  60.5  4428   10102    10102 Queanbeyan NSW   201617\n2 50_69      4309  7145  60.3  3929   10102    10102 Queanbeyan NSW   201617\n3 50_54      1284  2251  57    1118   10102    10102 Queanbeyan NSW   201617\n4 55_59      1188  1970  60.3  1046   10102    10102 Queanbeyan NSW   201617\n5 60_64      1012  1625  62.3   950   10102    10102 Queanbeyan NSW   201617\n# ‚Ñπ 7 more variables: agen50_74 <int>, agen50_69 <int>, agen50_54 <int>,\n#   agen55_59 <int>, agen60_64 <int>, agen65_69 <int>, agen70_74 <int>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Separate 'age_group' into two new columns: start and end age\nbreast_cancer_separated <- breast_cancer_long %>%\n  separate(\n    col = age_group,\n    into = c(\"age_start\", \"age_end\"),\n    sep = \"_\",\n    convert = TRUE\n  ) %>% \n  select(\"age_start\", \"age_end\", everything())\n\nhead(breast_cancer_separated, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 16\n  age_start age_end measure sa3code sa3coden sa3name    state   year agen50_74\n      <int>   <int> <chr>     <int>    <int> <chr>      <chr>  <int>     <int>\n1        50      74 part      10102    10102 Queanbeyan NSW   201617         3\n2        50      69 part      10102    10102 Queanbeyan NSW   201617         3\n3        50      54 part      10102    10102 Queanbeyan NSW   201617         3\n# ‚Ñπ 7 more variables: agen50_69 <int>, agen50_54 <int>, agen55_59 <int>,\n#   agen60_64 <int>, agen65_69 <int>, agen70_74 <int>, value <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Unite 'age_start' and 'age_end' into a single age group label\nbreast_cancer_united <- breast_cancer_separated %>%\n  unite(\n    col = age_group_combined,\n    age_start, age_end,\n    sep = \"-\",\n    remove = FALSE\n  )\n\nhead(breast_cancer_united, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 17\n  age_group_combined age_start age_end measure sa3code sa3coden sa3name    state\n  <chr>                  <int>   <int> <chr>     <int>    <int> <chr>      <chr>\n1 50-74                     50      74 part      10102    10102 Queanbeyan NSW  \n2 50-69                     50      69 part      10102    10102 Queanbeyan NSW  \n3 50-54                     50      54 part      10102    10102 Queanbeyan NSW  \n# ‚Ñπ 9 more variables: year <int>, agen50_74 <int>, agen50_69 <int>,\n#   agen50_54 <int>, agen55_59 <int>, agen60_64 <int>, agen65_69 <int>,\n#   agen70_74 <int>, value <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Remove temporary objects created in this chunk\n# ....................................................\nrm(breast_cancer_long, breast_cancer_separated, breast_cancer_united, breast_cancer_final)\n```\n:::\n\n\n------------------------------------------------------------------------\n\n## **PART IV: ADVANCED WRANGLING AND INTEGRATION**\n\n### **4.1 Date and Time data manipulation**\n\n-   `lubridate::ymd()`, `as_date()`, `format()`, `%p`, `weekdays()`\n-   Extracting date components: year, month, quarter\n\nWorking with dates is essential in many datasets, particularly for time-based trends, age calculations, seasonal effects, and survival analysis.\\\nWe use the `lubridate` package to parse, extract, and manipulate dates efficiently. The details about time and date data has been presented separately.\n\n‚û°Ô∏è **For full tutorials and videos:** - **YouTube (AnalyticsHub)**: [Watch Full Video](https://studio.youtube.com/video/AZjUWcakEEY/edit) - **GitHub**: [Access Here](https://github.com/HabtamuBizuayehu/Date-and-Time-Manipulation-and-Analysis_Data_insight)\n\n**Summary of Functions for Date Handling**\n\n| **Task** | **Function** | **Purpose** |\n|:---------------------|:--------------------|:----------------------------|\n| Parse ISO dates | `as.Date()`, `strptime()` | Read and convert raw string timestamps |\n| Format date output | `format()` | Customize how dates are displayed |\n| Extract components | `year()`, `month()`, `day()`, `quarter()`, `week()` | Pull year, month, day, quarter, week from dates |\n| Weekday labels | `wday(label = TRUE)` | Get day of week in text form |\n| Date arithmetic | `difftime()`, `-` | Calculate differences between dates |\n| Logical operations | `<`, `>`, `between()` | Filter by date ranges |\n| Fiscal/seasonal grouping | `case_when()` | Categorize based on seasons or financial years |\n\n------------------------------------------------------------------------\n\n**Demonstration using Vaccination Dataset**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert DATE into usable R date format\nvaccination <- vaccination %>%\n  mutate(\n    vacc_date = as.Date(strptime(date, format = \"%Y-%m-%dT%H:%M:%SZ\")),\n    vacc_year = year(vacc_date),\n    vacc_month = month(vacc_date, label = TRUE, abbr = FALSE)\n  ) %>% \n  select(-description, base_cost)\n\nhead(vaccination)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                  date                              patient base_cost\n1 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46       136\n2 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46       136\n3 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46       136\n4 2016-04-10T09:04:48Z 30a6452c-4297-a1ac-977a-6a23237c7b46       136\n5 2002-10-29T19:07:21Z 34a4dcc4-35fb-6ad5-ab98-be285c586a4f       136\n6 2005-11-01T19:07:21Z 34a4dcc4-35fb-6ad5-ab98-be285c586a4f       136\n   vacc_date year    month vaccine_group          vacc_group3 vacc_year\n1 2016-04-10 2016    April     Influenza Respiratory vaccines      2016\n2 2016-04-10 2016    April     DTP group   Childhood vaccines      2016\n3 2016-04-10 2016    April     Hepatitis   Childhood vaccines      2016\n4 2016-04-10 2016    April Meningococcal   Childhood vaccines      2016\n5 2002-10-29 2002  October     Influenza Respiratory vaccines      2002\n6 2005-11-01 2005 November     Influenza Respiratory vaccines      2005\n  vacc_month\n1      April\n2      April\n3      April\n4      April\n5    October\n6   November\n```\n\n\n:::\n:::\n\n\nCalculating Time Differences\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculating Time Differences\n\n# Convert column names to lowercase\ncolnames(patients) <- tolower(colnames(patients))\ncolnames(vaccination) <- tolower(colnames(vaccination))\n\n# vacc_pt_merged <- left_join(patients, vaccination, by = \"id\" )\nvacc_pt_merged <- left_join(patients, vaccination, by = c(\"id\" = \"patient\"))\n\nstr (vacc_pt_merged)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t1619 obs. of  37 variables:\n $ id                 : chr  \"30a6452c-4297-a1ac-977a-6a23237c7b46\" \"30a6452c-4297-a1ac-977a-6a23237c7b46\" \"30a6452c-4297-a1ac-977a-6a23237c7b46\" \"30a6452c-4297-a1ac-977a-6a23237c7b46\" ...\n $ birthdate          : chr  \"1994-02-06\" \"1994-02-06\" \"1994-02-06\" \"1994-02-06\" ...\n $ deathdate          : chr  \"\" \"\" \"\" \"\" ...\n $ ssn                : chr  \"999-52-8591\" \"999-52-8591\" \"999-52-8591\" \"999-52-8591\" ...\n $ drivers            : chr  \"S99996852\" \"S99996852\" \"S99996852\" \"S99996852\" ...\n $ passport           : chr  \"X47758697X\" \"X47758697X\" \"X47758697X\" \"X47758697X\" ...\n $ prefix             : chr  \"Mr.\" \"Mr.\" \"Mr.\" \"Mr.\" ...\n $ first              : chr  \"Joshua658\" \"Joshua658\" \"Joshua658\" \"Joshua658\" ...\n $ middle             : chr  \"Alvin56\" \"Alvin56\" \"Alvin56\" \"Alvin56\" ...\n $ last               : chr  \"Kunde533\" \"Kunde533\" \"Kunde533\" \"Kunde533\" ...\n $ suffix             : logi  NA NA NA NA NA NA ...\n $ maiden             : chr  \"\" \"\" \"\" \"\" ...\n $ marital            : chr  \"M\" \"M\" \"M\" \"M\" ...\n $ race               : chr  \"white\" \"white\" \"white\" \"white\" ...\n $ ethnicity          : chr  \"nonhispanic\" \"nonhispanic\" \"nonhispanic\" \"nonhispanic\" ...\n $ gender             : chr  \"M\" \"M\" \"M\" \"M\" ...\n $ birthplace         : chr  \"Boston  Massachusetts  US\" \"Boston  Massachusetts  US\" \"Boston  Massachusetts  US\" \"Boston  Massachusetts  US\" ...\n $ address            : chr  \"811 Kihn Viaduct\" \"811 Kihn Viaduct\" \"811 Kihn Viaduct\" \"811 Kihn Viaduct\" ...\n $ city               : chr  \"Braintree\" \"Braintree\" \"Braintree\" \"Braintree\" ...\n $ state              : chr  \"Massachusetts\" \"Massachusetts\" \"Massachusetts\" \"Massachusetts\" ...\n $ county             : chr  \"Norfolk County\" \"Norfolk County\" \"Norfolk County\" \"Norfolk County\" ...\n $ fips               : int  25021 25021 25021 25021 25021 25021 25021 25021 25021 25021 ...\n $ zip                : int  2184 2184 2184 2184 2184 2184 2184 2184 2184 2184 ...\n $ lat                : num  42.2 42.2 42.2 42.2 42.2 ...\n $ lon                : num  -71 -71 -71 -71 -71 ...\n $ healthcare_expenses: num  56905 56905 56905 56905 56905 ...\n $ healthcare_coverage: num  18020 18020 18020 18020 18020 ...\n $ income             : int  100511 100511 100511 100511 100511 100511 49737 49737 49737 49737 ...\n $ date               : chr  \"2016-04-10T09:04:48Z\" \"2016-04-10T09:04:48Z\" \"2016-04-10T09:04:48Z\" \"2016-04-10T09:04:48Z\" ...\n $ base_cost          : num  136 136 136 136 136 136 136 136 136 136 ...\n $ vacc_date          : Date, format: \"2016-04-10\" \"2016-04-10\" ...\n $ year               : chr  \"2016\" \"2016\" \"2016\" \"2016\" ...\n $ month              : chr  \"April\" \"April\" \"April\" \"April\" ...\n $ vaccine_group      : chr  \"Influenza\" \"DTP group\" \"Hepatitis\" \"Meningococcal\" ...\n $ vacc_group3        : chr  \"Respiratory vaccines\" \"Childhood vaccines\" \"Childhood vaccines\" \"Childhood vaccines\" ...\n $ vacc_year          : num  2016 2016 2016 2016 2019 ...\n $ vacc_month         : Ord.factor w/ 12 levels \"January\"<\"February\"<..: 4 4 4 4 4 4 10 11 8 8 ...\n```\n\n\n:::\n\n```{.r .cell-code}\nvacc_pt_merged %>% \n  mutate(\n    vacc_date = as.Date(strptime(date, format = \"%Y-%m-%dT%H:%M:%SZ\")),\n    birthdate = as.Date(birthdate),\n    days_to_vax = as.numeric(difftime(vacc_date, birthdate, units = \"days\")),\n    weeks_to_vax = as.numeric(difftime(vacc_date, birthdate, units = \"weeks\")),\n    months_to_vax = as.numeric(difftime(vacc_date, birthdate, units = \"days\")) / 30.44,\n    years_to_vax = floor(as.numeric(difftime(vacc_date, birthdate, units = \"days\")) / 365.25)\n  ) -> vacc_pt_merged\n\nsummary(vacc_pt_merged$days_to_vax)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n      0    2548    7742   10375   18263   36813 \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(vacc_pt_merged$years_to_vax)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.00    6.00   21.00   28.02   50.00  100.00 \n```\n\n\n:::\n:::\n\n\nExtracting Date Components\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_pt_merged <- vacc_pt_merged %>%\n  mutate(\n    vacc_day = day(vacc_date),\n    vacc_month_num = month(vacc_date),\n    vacc_month_name = month(vacc_date, label = TRUE, abbr = FALSE),\n    vacc_weekday = wday(vacc_date, label = TRUE, abbr = FALSE),\n    vacc_week = week(vacc_date),\n    vacc_quarter = quarter(vacc_date),\n    vacc_year = year(vacc_date),  # Define vacc_year first\n    vacc_fy = if_else(vacc_month_num >= 7, vacc_year, vacc_year - 1),  # FY starts 1 July in Australia\n    vacc_season = case_when(\n      vacc_month_num %in% 12:2 ~ \"Summer\",\n      vacc_month_num %in% 3:5  ~ \"Autumn\",\n      vacc_month_num %in% 6:8  ~ \"Winter\",\n      vacc_month_num %in% 9:11 ~ \"Spring\"\n    ),\n    is_weekend = wday(vacc_date) %in% c(1, 7),\n    days_since_ref = floor(as.numeric(difftime(vacc_date, as.Date(\"2020-01-01\"), units = \"days\")))\n  )\n\ntemp <- vacc_pt_merged %>%\n  select(vacc_day, vacc_month_num, vacc_month_name, vacc_weekday, vacc_week,\n         vacc_quarter, vacc_year, vacc_fy, vacc_season, is_weekend, days_since_ref)\n\nhead(temp, n = 8)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  vacc_day vacc_month_num vacc_month_name vacc_weekday vacc_week vacc_quarter\n1       10              4           April       Sunday        15            2\n2       10              4           April       Sunday        15            2\n3       10              4           April       Sunday        15            2\n4       10              4           April       Sunday        15            2\n5       14              4           April       Sunday        15            2\n6       17              4           April       Sunday        16            2\n7       29             10         October      Tuesday        44            4\n8        1             11        November      Tuesday        44            4\n  vacc_year vacc_fy vacc_season is_weekend days_since_ref\n1      2016    2015      Summer       TRUE          -1361\n2      2016    2015      Summer       TRUE          -1361\n3      2016    2015      Summer       TRUE          -1361\n4      2016    2015      Summer       TRUE          -1361\n5      2019    2018      Summer       TRUE           -262\n6      2022    2021      Summer       TRUE            837\n7      2002    2002      Summer      FALSE          -6273\n8      2005    2005      Summer      FALSE          -5174\n```\n\n\n:::\n\n```{.r .cell-code}\nrm (temp)\n```\n:::\n\n\nFiltering Between Date Ranges\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate Age as of 31 December 2024\n# str(vacc_pt_merged$birthdate) \n\nvacc_pt_merged <- vacc_pt_merged %>%\n  mutate(\n    age = floor(time_length(difftime(as.Date(\"2024-12-31\"), birthdate), unit = \"years\"))\n  )\n\ntable (vacc_pt_merged$age)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  1   2   5   6   7  10  11  12  13  14  15  16  17  18  19  20  21  23  24  25 \n 46  24  64  66  34 102  38  59  21  21  34  83  18  36  18  34  48  13  12  47 \n 27  28  29  30  33  34  36  37  38  40  41  42  43  44  45  46  47  48  49  50 \n 17  30   9  38   4   7   6   8   6  20  37  16   9  17  15  13   9  21  30  15 \n 51  52  53  55  56  58  60  61  62  63  64  65  68  69  71  73  74  76  78  80 \n 13  30  16  30  30  14  12  27  49  13  26  14  14  57  15  27  15  14  12  13 \n 85  97 110 \n 12  20   1 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Categorize into Age Groups\nvacc_pt_merged <- vacc_pt_merged %>%\n  mutate(\n    age_group = cut(\n      age,\n      breaks = c(0, 9, 19, 29, 49, 100),\n      labels = c(\"0‚Äì9\", \"10‚Äì19\", \"20‚Äì29\", \"30‚Äì49\", \"50+\"),\n      right = TRUE\n    )\n  )\n\ntable (vacc_pt_merged$age_group)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  0‚Äì9 10‚Äì19 20‚Äì29 30‚Äì49   50+ \n  234   430   210   256   488 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Vaccinations only in 2022\nvacc_2022 <- vacc_pt_merged %>%\n  filter(vacc_date >= ymd(\"2022-01-01\") & vacc_date <= ymd(\"2022-12-31\"))\n\n# Vaccinations between 2015 and 2024\nvacc_1524 <- vacc_pt_merged %>%\n  filter(vacc_year >= 2015 & vacc_year <= 2024)\n\ntable(vacc_1524$vacc_year)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 \n 153  139  137  151  161  137  263  120  170  122 \n```\n\n\n:::\n\n```{.r .cell-code}\nrm(vacc_2022)\n```\n:::\n\n\n### **4.2 Duplicate Observations and Creating ID**\n\n-   ID Creation (if missing): paste(), substr(), as.Date(), unite()\n-   Detecting Duplicates: duplicated(), distinct(), n_distinct(), row_number(), count(distinct(...))\n-   Tagging Duplicates: row_number(), duplicated(), mutate(dup = row_number())\n-   Validating Duplicates: group_by() + filter(n() \\> 1), arrange(), subset()\n-   Removing Duplicates: filter(dup == 1), distinct(), summarise()\n-   Optional Filtering Rules: Keep first/last by date, non-missing only, domain-specific logic\n\nDuplicate records in health or survey data can compromise the integrity of analyses. A critical first step is ensuring each individual has a consistent and unique identifier (ID). When explicit IDs are missing or unreliable, they can be constructed using combinations of variables such as names, dates of birth, and location (e.g., using `paste()`, `substr()`, or `unite()`). Once IDs are established, duplicates can be detected, reviewed, and resolved systematically through tagging (`row_number()`), visual inspection, and appropriate retention or removal strategies.\n\n------------------------------------------------------------------------\n\nüîπ Key Aspects of Duplicate Management\n\n| **Aspect** | **What to Address** | **Why It Matters** |\n|------------------------|------------------------|------------------------|\n| Detection Methods | Use `duplicated()`, `distinct()`, `n_distinct()`, `row_number()` by ID or keys | Helps quantify and locate potential duplicates |\n| Validation | Visual/manual review using `arrange()`, `group_by()` + `filter()` | Prevents removal of legitimate but similar entries |\n| Tagging Duplicates | Label using `row_number()` or `duplicated()` | Allows flexible filtering or analysis of repeats |\n| Deciding What to Keep | Keep first, latest (by date), or non-missing based on rules | Avoids loss of useful or most complete records |\n| Removal or Aggregation | Drop with `filter()`, or use `summarise()` to collapse duplicates | Depends on context: reporting vs. recordkeeping |\n| ID Creation / Fixing | Use `mutate()` to create or correct IDs | Enables future joins and tracking |\n\n------------------------------------------------------------------------\n\nThe following table shows the summary with some data manipulation options\n\n| **Task** | **Function / Code** | **Purpose** |\n|------------------------|------------------------|------------------------|\n| Identify blank IDs or fields | `x[x == \"\"] <- NA` | Convert empty strings to `NA` for proper detection |\n| Count missing values | `sum(is.na(x))` | Check how many values are missing |\n| Count unique observations | `count(distinct(df, id))` | Determine the number of unique records |\n| Generate row numbers per group | `group_by(id) %>% mutate(dup = row_number())` | Label duplicates within each ID |\n| Check duplication status | `table(df$dup)` or `sum(dup >= 2)` | Summarise duplication pattern |\n| Subset for review | `subset(df, dup == 2)` | View specific duplicates for manual inspection |\n| Filter duplicated individuals | `filter(n() > 1)` | Extract only duplicated IDs |\n| Remove duplicates | `filter(!(dup >= 2))` | Keep only the first instance per group (if needed) |\n| Clean temporary object | `rm()` | Remove intermediate datasets from environment |\n\nThis setup ensures duplicates are clearly identified, reviewed, and removed where appropriate.\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npatients <- patients %>%\n  mutate(\n    birthdate = as.Date(birthdate),\n    id_text = paste0(substr(first, 1, 4), \"|\", substr(last, 1, 4), \"|\", birthdate)\n  )\n# Preview new ID\nhead(patients$id_text, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Josh|Kund|1994-02-06\" \"Benn|Eber|1968-08-06\" \"Hunt|Gerl|2008-12-21\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# --- Step 2: Create random numeric ID per individual ---\nset.seed(1234)  # for reproducibility\npatients <- patients %>%\n  mutate(id_num = sample(100000:999999, n(), replace = FALSE))\n\n# Preview both ID columns\npatients %>%\n  select(first, last, birthdate, id_text, id_num) %>%\n  head(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      first          last  birthdate              id_text id_num\n1 Joshua658      Kunde533 1994-02-06 Josh|Kund|1994-02-06 861679\n2 Bennie663      Ebert178 1968-08-06 Benn|Eber|1968-08-06 730677\n3 Hunter736    Gerlach374 2008-12-21 Hunt|Gerl|2008-12-21 404107\n4 Carlyn477 Williamson769 1994-01-27 Carl|Will|1994-01-27 395845\n5   Robin66  Gleichner915 2019-07-27 Robi|Glei|2019-07-27 226054\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Clean-up if needed\n# ....................................................\n# rm(id_text, id_num) # optional if you store externally\n\ntable (patients$race)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n asian  black native  other  white \n     8      6      1      3     88 \n```\n\n\n:::\n\n```{.r .cell-code}\notherrace <- patients %>%\n  filter(race != \"white\")\n\npatients <- rbind(patients, otherrace)\n\n# Count total and unique records\nn_total <- nrow(patients)\nn_unique <- n_distinct(patients$id_text)\nmessage(glue::glue(\"Total records: {n_total}, Unique IDs: {n_unique}\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nTotal records: 124, Unique IDs: 106\n```\n\n\n:::\n\n```{.r .cell-code}\n# Tag duplicates using row_number()\npatients <- patients %>%\n  arrange(id_text) %>%\n  group_by(id_text) %>%\n  mutate(dup = row_number()) %>%\n  ungroup()\n# Count number of true duplicates\ntable(patients$dup)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  1   2 \n106  18 \n```\n\n\n:::\n\n```{.r .cell-code}\nprint(sum(patients$dup >= 2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 18\n```\n\n\n:::\n\n```{.r .cell-code}\n# Keep only records from individuals who have duplicates\nduplicates <- patients %>%\n  group_by(id_text) %>%\n  filter(n() >= 2) %>%\n  select(id_text, id_num, race, marital, gender, birthdate) %>%\n  ungroup()\n\n# Preview records from duplicated individuals\nhead(duplicates)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 6\n  id_text              id_num race  marital gender birthdate \n  <chr>                 <int> <chr> <chr>   <chr>  <date>    \n1 Alen|Gusi|1927-03-20 361202 other M       F      1927-03-20\n2 Alen|Gusi|1927-03-20 361202 other M       F      1927-03-20\n3 Bert|Alem|1983-05-07 513589 black M       F      1983-05-07\n4 Bert|Alem|1983-05-07 513589 black M       F      1983-05-07\n5 Blan|Rein|1951-11-22 465318 asian S       F      1951-11-22\n6 Blan|Rein|1951-11-22 465318 asian S       F      1951-11-22\n```\n\n\n:::\n\n```{.r .cell-code}\nrm(duplicates, n_total, n_unique)\n```\n:::\n\n\n### **4.3 Merging (Joining) and Appending Datasets**\n\n-   `left_join()`, `right_join()`, `inner_join()`, `full_join()`\n-   `semi_join()` and `anti_join()`\n-   `bind_rows()`, `rbind()` , `bind_cols()` and `cbind()`\n\nWhen analyzing real-world datasets, it‚Äôs often necessary to **merge** or **append** multiple datasets.\\\nThis could involve matching rows based on common identifiers, appending additional cases, or combining variables side-by-side.\n\nWe can **join**, **bind**, or **filter** datasets efficiently using `dplyr` and base R techniques.\n\n**Brief Descriptions**\n\n-   **left_join()**: Keep all records from the left (main) table; bring matching records from the right table.\n-   **right_join()**: Keep all records from the right table; bring matching records from the left.\n-   **inner_join()**: Keep only rows where keys match in both tables.\n-   **full_join()**: Keep all records from both tables; missing matches filled with `NA`.\n-   **semi_join()**: Keep rows from the left table where a match exists in the right.\n-   **anti_join()**: Keep only rows from the left table that **don't** match the right.\n\n‚û°Ô∏è `bind_rows()` and `rbind()` are used for **stacking** datasets.\\\n‚û°Ô∏è `bind_cols()` and `cbind()` are used for **attaching new columns** horizontally.\n\n**Summary Table: Key Functions for Joining and Appending**\n\n| **Task** | **Function** | **Purpose** |\n|:------------------|:-----------------|:----------------------------------|\n| Merge by common key | `left_join()`, `right_join()`, `inner_join()`, `full_join()` | Merge datasets using common variables |\n| Filter matching rows | `semi_join()` | Keep rows from left table that have matches in right table |\n| Filter non-matching rows | `anti_join()` | Keep rows from left table with no match in right table |\n| Row-wise append | `bind_rows()` | Stack two datasets vertically (must have same columns) |\n| Column-wise append | `bind_cols()` | Add columns side-by-side (matching by row position) |\n| Basic base R row bind | `rbind()` | Append rows (base R equivalent to `bind_rows`) |\n| Basic base R column bind | `cbind()` | Append columns (base R equivalent to `bind_cols`) |\n| Join a table to itself | Self-join | Analyze relationships within a single dataset (e.g., hierarchy) |\n\n------------------------------------------------------------------------\n\n**Important Reminders** - Joins (`left_join`, etc.) match based on a **key** (column/s). - `bind_rows()` assumes **same column names and types**. - `bind_cols()` assumes **same number of rows**. - `rbind()` and `cbind()` are **base R** methods but `dplyr::bind_*()` are more flexible. ---\n\n**Demonstrating Different Types of Joins with Brief Descriptions**\n\n**Standardizing variable Names**\n\nBefore performing joins, it is essential to ensure column names match in both datasets.\\\nThis avoids errors caused by case differences or inconsistent naming.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ......................................\n# Full Join: Keep everything from both datasets\n# ......................................\nvacc_full_join <- full_join(\n  patients,\n  vaccination,\n  by = c(\"id\" = \"patient\")\n)\n\nhead(vacc_full_join, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                    id  birthdate deathdate         ssn\n1 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n2 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n3 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n    drivers   passport prefix     first  middle     last suffix maiden marital\n1 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n2 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n3 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n   race   ethnicity gender                birthplace          address      city\n1 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n2 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n3 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n          state         county  fips  zip      lat      lon healthcare_expenses\n1 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n2 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n3 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n  healthcare_coverage income                 date\n1            18019.99 100511 2016-04-10T09:04:48Z\n2            18019.99 100511 2016-04-10T09:04:48Z\n3            18019.99 100511 2016-04-10T09:04:48Z\n                             encounter code\n1 0b03e41b-06a6-66fa-b972-acc5a83b134a  140\n2 0b03e41b-06a6-66fa-b972-acc5a83b134a  113\n3 0b03e41b-06a6-66fa-b972-acc5a83b134a   43\n                                                   description base_cost\n1           Influenza  seasonal  injectable  preservative free       136\n2 Td (adult)  5 Lf tetanus toxoid  preservative free  adsorbed       136\n3                                                 Hep B  adult       136\n```\n\n\n:::\n\n```{.r .cell-code}\n# ......................................\n# Left Join: Keep all patients, add vaccination if available\n# ......................................\nvacc_left_join <- left_join(\n  patients,\n  vaccination,\n  by = c(\"id\" = \"patient\")\n)\n\nhead(vacc_left_join, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                    id  birthdate deathdate         ssn\n1 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n2 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n3 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n    drivers   passport prefix     first  middle     last suffix maiden marital\n1 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n2 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n3 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n   race   ethnicity gender                birthplace          address      city\n1 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n2 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n3 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n          state         county  fips  zip      lat      lon healthcare_expenses\n1 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n2 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n3 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n  healthcare_coverage income                 date\n1            18019.99 100511 2016-04-10T09:04:48Z\n2            18019.99 100511 2016-04-10T09:04:48Z\n3            18019.99 100511 2016-04-10T09:04:48Z\n                             encounter code\n1 0b03e41b-06a6-66fa-b972-acc5a83b134a  140\n2 0b03e41b-06a6-66fa-b972-acc5a83b134a  113\n3 0b03e41b-06a6-66fa-b972-acc5a83b134a   43\n                                                   description base_cost\n1           Influenza  seasonal  injectable  preservative free       136\n2 Td (adult)  5 Lf tetanus toxoid  preservative free  adsorbed       136\n3                                                 Hep B  adult       136\n```\n\n\n:::\n\n```{.r .cell-code}\n# ......................................\n# Right Join: Keep all vaccinations, add patients if available\n# ......................................\nvacc_right_join <- right_join(\n  patients,\n  vaccination,\n  by = c(\"id\" = \"patient\")\n)\n\nhead(vacc_right_join, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                    id  birthdate deathdate         ssn\n1 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n2 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n3 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n    drivers   passport prefix     first  middle     last suffix maiden marital\n1 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n2 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n3 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n   race   ethnicity gender                birthplace          address      city\n1 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n2 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n3 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n          state         county  fips  zip      lat      lon healthcare_expenses\n1 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n2 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n3 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n  healthcare_coverage income                 date\n1            18019.99 100511 2016-04-10T09:04:48Z\n2            18019.99 100511 2016-04-10T09:04:48Z\n3            18019.99 100511 2016-04-10T09:04:48Z\n                             encounter code\n1 0b03e41b-06a6-66fa-b972-acc5a83b134a  140\n2 0b03e41b-06a6-66fa-b972-acc5a83b134a  113\n3 0b03e41b-06a6-66fa-b972-acc5a83b134a   43\n                                                   description base_cost\n1           Influenza  seasonal  injectable  preservative free       136\n2 Td (adult)  5 Lf tetanus toxoid  preservative free  adsorbed       136\n3                                                 Hep B  adult       136\n```\n\n\n:::\n\n```{.r .cell-code}\n# ......................................\n# Inner Join: Keep only matched patients and vaccinations\n# ......................................\nvacc_inner_join <- inner_join(\n  patients,\n  vaccination,\n  by = c(\"id\" = \"patient\"))\n\nhead(vacc_inner_join, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                    id  birthdate deathdate         ssn\n1 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n2 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n3 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06           999-52-8591\n    drivers   passport prefix     first  middle     last suffix maiden marital\n1 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n2 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n3 S99996852 X47758697X    Mr. Joshua658 Alvin56 Kunde533     NA              M\n   race   ethnicity gender                birthplace          address      city\n1 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n2 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n3 white nonhispanic      M Boston  Massachusetts  US 811 Kihn Viaduct Braintree\n          state         county  fips  zip      lat      lon healthcare_expenses\n1 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n2 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n3 Massachusetts Norfolk County 25021 2184 42.21114 -71.0458            56904.96\n  healthcare_coverage income                 date\n1            18019.99 100511 2016-04-10T09:04:48Z\n2            18019.99 100511 2016-04-10T09:04:48Z\n3            18019.99 100511 2016-04-10T09:04:48Z\n                             encounter code\n1 0b03e41b-06a6-66fa-b972-acc5a83b134a  140\n2 0b03e41b-06a6-66fa-b972-acc5a83b134a  113\n3 0b03e41b-06a6-66fa-b972-acc5a83b134a   43\n                                                   description base_cost\n1           Influenza  seasonal  injectable  preservative free       136\n2 Td (adult)  5 Lf tetanus toxoid  preservative free  adsorbed       136\n3                                                 Hep B  adult       136\n```\n\n\n:::\n\n```{.r .cell-code}\n# ......................................\n# Semi Join: Keep only patients that have a vaccination match\n# (Only patient columns are kept)\n# ......................................\n\nvacc_semi_join <- semi_join(\n  patients,\n  vaccination,\n  by = c(\"id\" = \"patient\"))\n\nhead(vacc_semi_join, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                    id  birthdate  deathdate         ssn\n1 30a6452c-4297-a1ac-977a-6a23237c7b46 1994-02-06            999-52-8591\n2 34a4dcc4-35fb-6ad5-ab98-be285c586a4f 1968-08-06 2009-12-11 999-75-3953\n3 7179458e-d6e3-c723-2530-d4acfe1c2668 2008-12-21            999-70-1925\n    drivers   passport prefix     first      middle       last suffix maiden\n1 S99996852 X47758697X    Mr. Joshua658     Alvin56   Kunde533     NA       \n2 S99993577 X28173268X    Mr. Bennie663               Ebert178     NA       \n3                             Hunter736 Mckinley734 Gerlach374     NA       \n  marital  race   ethnicity gender                  birthplace\n1       M white nonhispanic      M   Boston  Massachusetts  US\n2       D white nonhispanic      M Chicopee  Massachusetts  US\n3         white nonhispanic      M  Spencer  Massachusetts  US\n                      address         city         state          county  fips\n1            811 Kihn Viaduct    Braintree Massachusetts  Norfolk County 25021\n2 975 Pfannerstill Throughway    Braintree Massachusetts  Norfolk County 25021\n3             548 Heller Lane Mattapoisett Massachusetts Plymouth County    NA\n   zip      lat       lon healthcare_expenses healthcare_coverage income\n1 2184 42.21114 -71.04580            56904.96            18019.99 100511\n2 2184 42.25542 -70.97102           124024.12             1075.06  49737\n3    0 41.64829 -70.85062            45645.06             6154.94 133816\n```\n\n\n:::\n\n```{.r .cell-code}\n# ......................................\n# Anti Join: Keep only patients that do not have a vaccination match\n# ......................................\nvacc_anti_join <- anti_join(\n  patients,\n  vaccination,\n  by = c(\"id\" = \"patient\"))\n\nhead(vacc_anti_join, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] id                  birthdate           deathdate          \n [4] ssn                 drivers             passport           \n [7] prefix              first               middle             \n[10] last                suffix              maiden             \n[13] marital             race                ethnicity          \n[16] gender              birthplace          address            \n[19] city                state               county             \n[22] fips                zip                 lat                \n[25] lon                 healthcare_expenses healthcare_coverage\n[28] income             \n<0 rows> (or 0-length row.names)\n```\n\n\n:::\n\n```{.r .cell-code}\n# ......................................\n# Remove temporary datasets\n# ......................................\nrm(vacc_left_join, vacc_right_join, vacc_inner_join, vacc_full_join, vacc_semi_join, vacc_anti_join)\n```\n:::\n\n\n\n\n**Appending (Binding) DataFrames: Rows and Columns**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Binding Rows Together (bind_rows): Combine NSW, WA, and Others into one dataset\n\nbc_combined_rows <- bind_rows(\n  breast_cancer_NSW,\n  breast_cancer_WA,\n  breast_cancer_others\n)\n\n# Check result\nhead(bc_combined_rows, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden    sa3name state   year part50_74 pop50_74 rate50_74\n1   10102    10102 Queanbeyan   NSW 201617      4875     8052  60.50000\n2   10102    10102 Queanbeyan   NSW 201718      5048     8309  60.75961\n3   10102    10102 Queanbeyan   NSW 201819      5276     8588  61.43839\n  agen50_74 expct50_74 part50_69 pop50_69 rate50_69 agen50_69 expct50_69\n1         3       4428      4309     7145  60.30000         2       3929\n2         3       4553      4448     7338  60.62238         2       4013\n3         3       4706      4629     7548  61.33203         2       4113\n  part50_54 pop50_54 rate50_54 agen50_54 expct50_54 part55_59 pop55_59\n1      1284     2251  57.00000         1       1118      1188     1970\n2      1285     2306  55.72035         1       1143      1260     2030\n3      1375     2342  58.70977         1       1166      1252     2093\n  rate55_59 agen55_59 expct55_59 part60_64 pop60_64 rate60_64 agen60_64\n1  60.30000         4       1046      1012     1625  62.30000         5\n2  62.09035         4       1069      1048     1646  63.69947         5\n3  59.81504         4       1098      1105     1689  65.43657         5\n  expct60_64 part65_69 pop65_69 rate65_69 agen65_69 expct65_69 part70_74\n1        950       826     1300  63.50000         6        781       566\n2        953       855     1357  63.02558         6        812       600\n3        967       898     1426  63.00429         6        849       647\n  pop70_74 rate70_74 agen70_74 expct70_74\n1      907  62.40000         7        498\n2      971  61.79725         7        541\n3     1040  62.21032         7        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Confirm number of rows\nnrow(bc_combined_rows)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1364\n```\n\n\n:::\n\n```{.r .cell-code}\n# Binding Columns Together (bind_cols): Combine Participation Data with SA3 metadata\n# (needs same number of rows)\n\nbc_combined_cols <- bind_cols(\n  participation,\n  breast_cancer_SA3_info )\n# Check result\nhead(bc_combined_cols, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    year part50_74 pop50_74 rate50_74 agen50_74 expct50_74 part50_69 pop50_69\n1 201617      4875     8052  60.50000         3       4428      4309     7145\n2 201718      5048     8309  60.75961         3       4553      4448     7338\n3 201819      5276     8588  61.43839         3       4706      4629     7548\n  rate50_69 agen50_69 expct50_69 part50_54 pop50_54 rate50_54 agen50_54\n1  60.30000         2       3929      1284     2251  57.00000         1\n2  60.62238         2       4013      1285     2306  55.72035         1\n3  61.33203         2       4113      1375     2342  58.70977         1\n  expct50_54 part55_59 pop55_59 rate55_59 agen55_59 expct55_59 part60_64\n1       1118      1188     1970  60.30000         4       1046      1012\n2       1143      1260     2030  62.09035         4       1069      1048\n3       1166      1252     2093  59.81504         4       1098      1105\n  pop60_64 rate60_64 agen60_64 expct60_64 part65_69 pop65_69 rate65_69\n1     1625  62.30000         5        950       826     1300  63.50000\n2     1646  63.69947         5        953       855     1357  63.02558\n3     1689  65.43657         5        967       898     1426  63.00429\n  agen65_69 expct65_69 part70_74 pop70_74 rate70_74 agen70_74 expct70_74\n1         6        781       566      907  62.40000         7        498\n2         6        812       600      971  61.79725         7        541\n3         6        849       647     1040  62.21032         7        585\n  sa3code sa3coden    sa3name state\n1   10102    10102 Queanbeyan   NSW\n2   10102    10102 Queanbeyan   NSW\n3   10102    10102 Queanbeyan   NSW\n```\n\n\n:::\n\n```{.r .cell-code}\n# Appending Rows Using Base R rbind()\n# (Equivalent to bind_rows but simpler cases, needs identical columns)\nbc_combined_rbind <- rbind(\n  breast_cancer_NSW,\n  breast_cancer_WA\n)\n\n# Check result\nhead(bc_combined_rbind, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sa3code sa3coden    sa3name state   year part50_74 pop50_74 rate50_74\n1   10102    10102 Queanbeyan   NSW 201617      4875     8052  60.50000\n2   10102    10102 Queanbeyan   NSW 201718      5048     8309  60.75961\n3   10102    10102 Queanbeyan   NSW 201819      5276     8588  61.43839\n  agen50_74 expct50_74 part50_69 pop50_69 rate50_69 agen50_69 expct50_69\n1         3       4428      4309     7145  60.30000         2       3929\n2         3       4553      4448     7338  60.62238         2       4013\n3         3       4706      4629     7548  61.33203         2       4113\n  part50_54 pop50_54 rate50_54 agen50_54 expct50_54 part55_59 pop55_59\n1      1284     2251  57.00000         1       1118      1188     1970\n2      1285     2306  55.72035         1       1143      1260     2030\n3      1375     2342  58.70977         1       1166      1252     2093\n  rate55_59 agen55_59 expct55_59 part60_64 pop60_64 rate60_64 agen60_64\n1  60.30000         4       1046      1012     1625  62.30000         5\n2  62.09035         4       1069      1048     1646  63.69947         5\n3  59.81504         4       1098      1105     1689  65.43657         5\n  expct60_64 part65_69 pop65_69 rate65_69 agen65_69 expct65_69 part70_74\n1        950       826     1300  63.50000         6        781       566\n2        953       855     1357  63.02558         6        812       600\n3        967       898     1426  63.00429         6        849       647\n  pop70_74 rate70_74 agen70_74 expct70_74\n1      907  62.40000         7        498\n2      971  61.79725         7        541\n3     1040  62.21032         7        585\n```\n\n\n:::\n\n```{.r .cell-code}\n# Appending Columns Using Base R cbind()\n# (Simple column binding, assumes same number of rows)\n\nbc_combined_cbind <- cbind(\n  participation,\n  breast_cancer_SA3_info)\n\n# Check result\nhead(bc_combined_cbind, n = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    year part50_74 pop50_74 rate50_74 agen50_74 expct50_74 part50_69 pop50_69\n1 201617      4875     8052  60.50000         3       4428      4309     7145\n2 201718      5048     8309  60.75961         3       4553      4448     7338\n3 201819      5276     8588  61.43839         3       4706      4629     7548\n  rate50_69 agen50_69 expct50_69 part50_54 pop50_54 rate50_54 agen50_54\n1  60.30000         2       3929      1284     2251  57.00000         1\n2  60.62238         2       4013      1285     2306  55.72035         1\n3  61.33203         2       4113      1375     2342  58.70977         1\n  expct50_54 part55_59 pop55_59 rate55_59 agen55_59 expct55_59 part60_64\n1       1118      1188     1970  60.30000         4       1046      1012\n2       1143      1260     2030  62.09035         4       1069      1048\n3       1166      1252     2093  59.81504         4       1098      1105\n  pop60_64 rate60_64 agen60_64 expct60_64 part65_69 pop65_69 rate65_69\n1     1625  62.30000         5        950       826     1300  63.50000\n2     1646  63.69947         5        953       855     1357  63.02558\n3     1689  65.43657         5        967       898     1426  63.00429\n  agen65_69 expct65_69 part70_74 pop70_74 rate70_74 agen70_74 expct70_74\n1         6        781       566      907  62.40000         7        498\n2         6        812       600      971  61.79725         7        541\n3         6        849       647     1040  62.21032         7        585\n  sa3code sa3coden    sa3name state\n1   10102    10102 Queanbeyan   NSW\n2   10102    10102 Queanbeyan   NSW\n3   10102    10102 Queanbeyan   NSW\n```\n\n\n:::\n\n```{.r .cell-code}\n# Important Notes:\n# - bind_rows() can handle different column orders safely\n# - rbind() requires identical column names and order\n# - bind_cols() simply pastes side-by-side, no matching by keys\n# - cbind() assumes same number of rows\n\n# ....................................................\n# Remove all temporary objects created in this chunk\n# ....................................................\nrm(\n  breast_cancer_NSW, breast_cancer_WA, breast_cancer_others, participation, breast_cancer_SA3_info,\n  bc_combined_rows, bc_combined_cols, bc_combined_rbind, bc_combined_cbind\n)\n```\n:::\n\n\n### **4.4 Missing Value Identification and Imputations**\n\n**A. Identifying Missing Values**\n\n-   is.na(), anyNA(), sum(is.na(x)), colSums() ‚Äì detect/count missing values\n\n-   complete.cases() ‚Äì filter complete rows\n\n-   Convert blanks to NA: x\\[x == \"\"\\] \\<- NA\n\n**B. Handling Missing Values**\n\n-   Basic Removal/Replacement: na.omit(), replace_na() (tidyr), ifelse()\n\n-   Forward/Backward Fill: fill() (tidyr) with .direction = \"down\" / \"up\"\n\n-   Statistical Imputation:\n\n-Simple: mean/median imputation\n\n-Multiple: mice::mice()()\n\n\\-**Advanced**: Hmisc::aregImpute, missForest, Amelia, zoo::na.fill\n\nMissing data is a common issue in real-world datasets. In R, handling missing values properly is essential to ensure the integrity of analyses and avoid misleading results.\n\nThis section covers how to **identify**, **clean**, and **impute** missing values using base R and tidyverse tools. Techniques range from basic filtering to advanced imputation models.\n\n‚û°Ô∏è Missing values are typically represented as `NA` in R. Empty strings (e.g., `\"\"`) or special codes (e.g., `-99`, `\"missing\"`) may also indicate missingness and need conversion before analysis.\n\nüîπ Summary of Functions for Handling Missing Values\n\n| **Task** | **Function** / **Code** | **Purpose** |\n|-------------------|------------------------|-----------------------------|\n| Detect missing values | `is.na(x)`, `anyNA(x)`, `sum(is.na(x))` | Identify/count missing values |\n| Missing per column | `colSums(is.na(df))` | Count NAs per column |\n| Filter complete rows | `complete.cases(df)` | Keep only rows without any missing values |\n| Convert blanks to `NA` | `x[x == \"\"] <- NA` | Convert empty strings to missing values |\n| Remove missing rows | `na.omit(df)` | Remove rows with any missing value |\n| Replace missing values | `replace_na(df, list(...))`, `ifelse(is.na(x), ...)` | Impute or replace NA with custom logic |\n| Forward/backward fill | `fill(df, .direction = \"down\" / \"up\")` | Fill NA using nearby values |\n| Mean/median imputation | `x[is.na(x)] <- mean(x, na.rm = TRUE)` | Replace NA with summary statistic |\n| Multiple imputation | `mice::mice(df)` | Create multiple imputed datasets using chained equations |\n| Advanced imputation | `Hmisc::aregImpute`, `missForest`, `Amelia`, `zoo::na.fill()` | Specialized techniques for complex imputations |\n\nüìö **Further Learning and Resources**\n\nAdditional tutorials, demonstrations, and datasets are available on:\n\n-   **YouTube Channel ‚Äì AnalyticsHub**\\\n    <https://studio.youtube.com/channel/UCLVKP0g8GvHhOh0kn20T8eg/videos/upload?filter=%5B%5D&sort=%7B%22columnType%22%3A%22date%22%2C%22sortOrder%22%3A%22DESCENDING%22%7D>\n\n-   **GitHub Repository**\\\n    <https://github.com/HabtamuBizuayehu?tab=repositories>\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n                                    id  birthdate deathdate         ssn\n1 898a6256-7ffb-dbe2-e24d-12fda2fedcfd 1966-06-23           999-98-5513\n2 5e0a6984-38d7-c604-f55f-f1de5e933768 1986-07-04           999-58-5560\n3 e335de09-0994-4111-3c15-6edcc17ae4bc 2005-04-25           999-48-3846\n4 45b89342-dc05-8e57-8eee-9ed68ec42378 1984-08-24           999-40-3433\n5 916b1ac8-56c8-ec1b-3b9a-721336a74912 1953-05-10           999-16-3735\n6 dc323bce-e583-d903-303e-9c865bc87e67 2012-09-02           999-90-3605\n    drivers   passport prefix     first     middle          last suffix\n1 S99971131 X62454905X   Mrs.  Maris768              Lindgren255     NA\n2 S99931679 X61479569X   Mrs. Hattie299  Reatha769      Nader710     NA\n3 S99958413               Ms.  Jimmie93 Towanda270      Doyle959     NA\n4 S99985178 X27670495X    Mr. Dwight645  Marlin805      Hilll811     NA\n5 S99968840 X83646024X    Ms.  Tambra47 Brittni468 Balistreri607     NA\n6                             Carson894 Raphael767     Littel644     NA\n     maiden marital  race   ethnicity gender                       birthplace\n1   Dach178       D white nonhispanic      F        Oxford  Massachusetts  US\n2 Harber290       M white nonhispanic      F North Reading  Massachusetts  US\n3                   white nonhispanic      F        Boston  Massachusetts  US\n4                 M white nonhispanic      M    Framingham  Massachusetts  US\n5                 S white nonhispanic      F     Lexington  Massachusetts  US\n6                   white nonhispanic      M      Plymouth  Massachusetts  US\n                        address        city         state           county\n1          962 Stiedemann Vista    Aquinnah Massachusetts     Dukes County\n2            720 O'Keefe Arcade      Newton Massachusetts Middlesex County\n3       493 Cruickshank Mission   Holliston Massachusetts Middlesex County\n4              810 Wolf Pathway      Malden Massachusetts Middlesex County\n5      146 Rowe Village Suite 3 New Bedford Massachusetts   Bristol County\n6 467 Collier Stravenue Unit 12   Attleboro Massachusetts   Bristol County\n   fips  zip      lat       lon healthcare_expenses healthcare_coverage income\n1    NA    0 41.29618 -70.77458           343608.18           884243.46 178323\n2 25017 2468 42.29180 -71.14930           169293.06           801407.90  86384\n3    NA    0 42.24196 -71.46440            64178.99             5906.14 198522\n4 25017 2148 42.43610 -71.14328            36010.63           472861.90  25909\n5 25005 2743 41.69576 -71.01391           281198.90           310261.21 140772\n6 44007 2861 41.94870 -71.30420            45972.75                0.00  71169\n  visit\n1     1\n2     1\n3     1\n4     1\n5     1\n6     1\n```\n\n\n:::\n:::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Summarise missing values across all columns\nmissing_summary <- colSums(is.na(visits_all))\nprint(missing_summary[missing_summary > 0])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n          deathdate             drivers            passport              prefix \n                 40                   4                  12                   8 \n             middle              suffix              maiden             marital \n                  4                  40                  28                  16 \n               race                fips                 zip healthcare_coverage \n                 20                  12                  12                   4 \n             income \n                 20 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Total number of missing cells\ntotal_missing <- sum(is.na(visits_all))\ncat(\"Total missing values in dataset:\", total_missing, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nTotal missing values in dataset: 220 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Count of individuals with at least one missing value\nn_missing_individuals <- sum(!complete.cases(visits_all))\ncat(\"Number of individuals with at least one missing value:\", n_missing_individuals, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nNumber of individuals with at least one missing value: 40 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Sort records by patient ID and visit number\nvisits_all <- visits_all %>%\n  arrange(id_text, visit)\n\n# View rows with any missing values\nmissing_rows <- visits_all %>%\n  filter(!complete.cases(.))\nhead(missing_rows, n = 12) %>% select(id_text, race, income, passport)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                id_text  race income   passport\n1  Anit|S√°nc|1960-05-07 white  61016  X9157439X\n2  Anit|S√°nc|1960-05-07  <NA>     NA  X9157439X\n3  Anit|S√°nc|1960-05-07 white     NA  X9157439X\n4  Anit|S√°nc|1960-05-07  <NA>  60016  X9157439X\n5  Aure|Weis|2003-11-12 white   8752 X17586296X\n6  Aure|Weis|2003-11-12  <NA>     NA X17586296X\n7  Aure|Weis|2003-11-12 white     NA X17586296X\n8  Aure|Weis|2003-11-12  <NA>   7752 X17586296X\n9  Cars|Litt|2012-09-02 white  71169       <NA>\n10 Cars|Litt|2012-09-02  <NA>     NA       <NA>\n11 Cars|Litt|2012-09-02  <NA>  70169       <NA>\n12 Cars|Litt|2012-09-02 white     NA       <NA>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Impute passport with \"UNKNOWN\"\ndf_passport <- visits_all %>%\n  mutate(passport_imputed = replace_na(passport, \"UNKNOWN\")) %>%\n  filter(is.na(passport)) %>%\n  select(id, id_text, visit, passport, passport_imputed)\n\nhead(df_passport, n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                     id              id_text visit passport\n1  dc323bce-e583-d903-303e-9c865bc87e67 Cars|Litt|2012-09-02     1     <NA>\n2  dc323bce-e583-d903-303e-9c865bc87e67 Cars|Litt|2012-09-02     2     <NA>\n3  dc323bce-e583-d903-303e-9c865bc87e67 Cars|Litt|2012-09-02     3     <NA>\n4  dc323bce-e583-d903-303e-9c865bc87e67 Cars|Litt|2012-09-02     4     <NA>\n5  da7b1f55-c782-544f-ba8c-fe69d519dc85 Doll|Fran|2008-10-04     1     <NA>\n6  da7b1f55-c782-544f-ba8c-fe69d519dc85 Doll|Fran|2008-10-04     2     <NA>\n7  da7b1f55-c782-544f-ba8c-fe69d519dc85 Doll|Fran|2008-10-04     3     <NA>\n8  da7b1f55-c782-544f-ba8c-fe69d519dc85 Doll|Fran|2008-10-04     4     <NA>\n9  e335de09-0994-4111-3c15-6edcc17ae4bc Jimm|Doyl|2005-04-25     1     <NA>\n10 e335de09-0994-4111-3c15-6edcc17ae4bc Jimm|Doyl|2005-04-25     2     <NA>\n11 e335de09-0994-4111-3c15-6edcc17ae4bc Jimm|Doyl|2005-04-25     3     <NA>\n12 e335de09-0994-4111-3c15-6edcc17ae4bc Jimm|Doyl|2005-04-25     4     <NA>\n   passport_imputed\n1           UNKNOWN\n2           UNKNOWN\n3           UNKNOWN\n4           UNKNOWN\n5           UNKNOWN\n6           UNKNOWN\n7           UNKNOWN\n8           UNKNOWN\n9           UNKNOWN\n10          UNKNOWN\n11          UNKNOWN\n12          UNKNOWN\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sort records by patient ID and visit number (to prepare for forward/backward fill)\nvisits_all <- visits_all %>%\n  arrange(id_text, visit)\n\n# Preview sorted data (tail)\ntail(visits_all %>% select(id_text, visit, race, income), n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                id_text visit  race income\n29 Jimm|Doyl|2005-04-25     1 white 198522\n30 Jimm|Doyl|2005-04-25     2  <NA>     NA\n31 Jimm|Doyl|2005-04-25     3  <NA> 197522\n32 Jimm|Doyl|2005-04-25     4 white     NA\n33 Mari|Lind|1966-06-23     1 white 178323\n34 Mari|Lind|1966-06-23     2  <NA>     NA\n35 Mari|Lind|1966-06-23     3 white     NA\n36 Mari|Lind|1966-06-23     4  <NA> 177323\n37 Tamb|Bali|1953-05-10     1 white 140772\n38 Tamb|Bali|1953-05-10     2  <NA>     NA\n39 Tamb|Bali|1953-05-10     3 white     NA\n40 Tamb|Bali|1953-05-10     4  <NA> 139772\n```\n\n\n:::\n\n```{.r .cell-code}\n# Forward fill missing race values within each patient (downward)\nvisits_all <- visits_all %>%\n  group_by(id_text) %>%\n  mutate(race_forward = race) %>%\n  fill(race_forward, .direction = \"down\") %>%\n  ungroup()\n\n# Preview forward-filled race values (head)\nhead(visits_all %>% select(id_text, visit, race, race_forward), n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 4\n   id_text              visit race  race_forward\n   <chr>                <dbl> <chr> <chr>       \n 1 Anit|S√°nc|1960-05-07     1 white white       \n 2 Anit|S√°nc|1960-05-07     2 <NA>  white       \n 3 Anit|S√°nc|1960-05-07     3 white white       \n 4 Anit|S√°nc|1960-05-07     4 <NA>  white       \n 5 Aure|Weis|2003-11-12     1 white white       \n 6 Aure|Weis|2003-11-12     2 <NA>  white       \n 7 Aure|Weis|2003-11-12     3 white white       \n 8 Aure|Weis|2003-11-12     4 <NA>  white       \n 9 Cars|Litt|2012-09-02     1 white white       \n10 Cars|Litt|2012-09-02     2 <NA>  white       \n11 Cars|Litt|2012-09-02     3 <NA>  white       \n12 Cars|Litt|2012-09-02     4 white white       \n```\n\n\n:::\n\n```{.r .cell-code}\n# Backward fill missing race values within each patient (upward)\nvisits_all <- visits_all %>%\n  group_by(id_text) %>%\n  mutate(race_backward = race) %>%\n  fill(race_backward, .direction = \"up\") %>%\n  ungroup()\n\n# Preview backward-filled race values (tail)\ntail(visits_all %>% select(id_text, visit, race, race_backward), n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 4\n   id_text              visit race  race_backward\n   <chr>                <dbl> <chr> <chr>        \n 1 Jimm|Doyl|2005-04-25     1 white white        \n 2 Jimm|Doyl|2005-04-25     2 <NA>  white        \n 3 Jimm|Doyl|2005-04-25     3 <NA>  white        \n 4 Jimm|Doyl|2005-04-25     4 white white        \n 5 Mari|Lind|1966-06-23     1 white white        \n 6 Mari|Lind|1966-06-23     2 <NA>  white        \n 7 Mari|Lind|1966-06-23     3 white white        \n 8 Mari|Lind|1966-06-23     4 <NA>  <NA>         \n 9 Tamb|Bali|1953-05-10     1 white white        \n10 Tamb|Bali|1953-05-10     2 <NA>  white        \n11 Tamb|Bali|1953-05-10     3 white white        \n12 Tamb|Bali|1953-05-10     4 <NA>  <NA>         \n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate the global (overall) mean income\nglobal_mean_income <- mean(visits_all$income, na.rm = TRUE)\n\n# Use global mean to impute missing income values\nvisits_all <- visits_all %>%\n  mutate(income_global_mean = ifelse(is.na(income), global_mean_income, income))\n\n# Preview global mean-imputed income (head)\nhead(visits_all %>% select(id_text, visit, income, income_global_mean), n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 4\n   id_text              visit income income_global_mean\n   <chr>                <dbl>  <dbl>              <dbl>\n 1 Anit|S√°nc|1960-05-07     1  61016             61016 \n 2 Anit|S√°nc|1960-05-07     2     NA             96123.\n 3 Anit|S√°nc|1960-05-07     3     NA             96123.\n 4 Anit|S√°nc|1960-05-07     4  60016             60016 \n 5 Aure|Weis|2003-11-12     1   8752              8752 \n 6 Aure|Weis|2003-11-12     2     NA             96123.\n 7 Aure|Weis|2003-11-12     3     NA             96123.\n 8 Aure|Weis|2003-11-12     4   7752              7752 \n 9 Cars|Litt|2012-09-02     1  71169             71169 \n10 Cars|Litt|2012-09-02     2     NA             96123.\n11 Cars|Litt|2012-09-02     3  70169             70169 \n12 Cars|Litt|2012-09-02     4     NA             96123.\n```\n\n\n:::\n\n```{.r .cell-code}\n# Calculate mean income per participant (id_text)\nparticipant_mean_income <- visits_all %>%\n  group_by(id_text) %>%\n  summarise(mean_income_id = mean(income, na.rm = TRUE), .groups = \"drop\")\n\n# Use participant-level mean to impute missing income values\nvisits_all <- visits_all %>%\n  left_join(participant_mean_income, by = \"id_text\") %>%\n  mutate(income_participant_mean = ifelse(is.na(income), mean_income_id, income))\n\n# Preview participant mean-imputed income (tail)\ntail(visits_all %>% select(id_text, visit, income, income_participant_mean), n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 4\n   id_text              visit income income_participant_mean\n   <chr>                <dbl>  <dbl>                   <dbl>\n 1 Jimm|Doyl|2005-04-25     1 198522                  198522\n 2 Jimm|Doyl|2005-04-25     2     NA                  198022\n 3 Jimm|Doyl|2005-04-25     3 197522                  197522\n 4 Jimm|Doyl|2005-04-25     4     NA                  198022\n 5 Mari|Lind|1966-06-23     1 178323                  178323\n 6 Mari|Lind|1966-06-23     2     NA                  177823\n 7 Mari|Lind|1966-06-23     3     NA                  177823\n 8 Mari|Lind|1966-06-23     4 177323                  177323\n 9 Tamb|Bali|1953-05-10     1 140772                  140772\n10 Tamb|Bali|1953-05-10     2     NA                  140272\n11 Tamb|Bali|1953-05-10     3     NA                  140272\n12 Tamb|Bali|1953-05-10     4 139772                  139772\n```\n\n\n:::\n\n```{.r .cell-code}\n# Multiple imputation for fips, zip, healthcare_coverage, and income\npatients_mice <- visits_all %>%\n  select(id_text, fips, zip, healthcare_coverage, income)\n\n# Apply mice\nimputed <- mice(patients_mice %>% select(-id_text), method = \"pmm\", m = 1, printFlag = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Number of logged events: 1\n```\n\n\n:::\n\n```{.r .cell-code}\n# Retrieve completed dataset\nmice_result <- complete(imputed)\ncolnames(mice_result) <- paste0(colnames(mice_result), \"_imputed\")\n\n# Join ID and filter rows with original missing values\ndf_mice <- bind_cols(patients_mice, mice_result) %>%\n  filter(is.na(fips) | is.na(zip) | is.na(healthcare_coverage) | is.na(income)) %>%\n  select(id_text,\n         fips, fips_imputed,\n         zip, zip_imputed,\n         healthcare_coverage, healthcare_coverage_imputed,\n         income, income_imputed)\n\nhead(df_mice, n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 9\n   id_text               fips fips_imputed   zip zip_imputed healthcare_coverage\n   <chr>                <int>        <int> <int>       <int>               <dbl>\n 1 Anit|S√°nc|1960-05-07 25009        25009  1915        1915            1280070.\n 2 Anit|S√°nc|1960-05-07 25009        25009  1915        1915            1280070.\n 3 Aure|Weis|2003-11-12 25027        25027  1606        1606             253645.\n 4 Aure|Weis|2003-11-12 25027        25027  1606        1606             253645.\n 5 Cars|Litt|2012-09-02 44007        44007  2861        2861                 NA \n 6 Cars|Litt|2012-09-02 44007        44007  2861        2861                 NA \n 7 Cars|Litt|2012-09-02 44007        44007  2861        2861                 NA \n 8 Cars|Litt|2012-09-02 44007        44007  2861        2861                 NA \n 9 Doll|Fran|2008-10-04    NA        25013    NA        2468             422516.\n10 Doll|Fran|2008-10-04    NA        25027    NA        1030             422516.\n11 Doll|Fran|2008-10-04    NA        25017    NA        2861             422516.\n12 Doll|Fran|2008-10-04    NA        25017    NA        1606             422516.\n# ‚Ñπ 3 more variables: healthcare_coverage_imputed <dbl>, income <dbl>,\n#   income_imputed <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Optional: Inspect logged events from mice\nimputed$loggedEvents\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  it im                 dep meth\n1  3  1 healthcare_coverage  pmm\n                                                                                                                                                                                                                                                       out\n1 mice detected that your data are (nearly) multi-collinear.\\nIt applied a ridge penalty to continue calculations, but the results can be unstable.\\nDoes your dataset contain duplicates, linear transformation, or factors with unique respondent names?\n```\n\n\n:::\n\n```{.r .cell-code}\n# Final summary: compare original and imputed values for rows with missingness\n\nfinal_impute_check <- visits_all %>%\n  filter(is.na(race) | is.na(income)) %>%\n  select(id_text, visit,\n         race, race_forward, race_backward,\n         income, income_global_mean, income_participant_mean)\n\n# Preview top 12\nhead(final_impute_check, n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 8\n   id_text      visit race  race_forward race_backward income income_global_mean\n   <chr>        <dbl> <chr> <chr>        <chr>          <dbl>              <dbl>\n 1 Anit|S√°nc|1‚Ä¶     2 <NA>  white        white             NA             96123.\n 2 Anit|S√°nc|1‚Ä¶     3 white white        white             NA             96123.\n 3 Anit|S√°nc|1‚Ä¶     4 <NA>  white        <NA>           60016             60016 \n 4 Aure|Weis|2‚Ä¶     2 <NA>  white        white             NA             96123.\n 5 Aure|Weis|2‚Ä¶     3 white white        white             NA             96123.\n 6 Aure|Weis|2‚Ä¶     4 <NA>  white        <NA>            7752              7752 \n 7 Cars|Litt|2‚Ä¶     2 <NA>  white        white             NA             96123.\n 8 Cars|Litt|2‚Ä¶     3 <NA>  white        white          70169             70169 \n 9 Cars|Litt|2‚Ä¶     4 white white        white             NA             96123.\n10 Doll|Fran|2‚Ä¶     2 <NA>  white        white             NA             96123.\n11 Doll|Fran|2‚Ä¶     3 <NA>  white        white         187023            187023 \n12 Doll|Fran|2‚Ä¶     4 white white        white             NA             96123.\n# ‚Ñπ 1 more variable: income_participant_mean <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Preview bottom 12\ntail(final_impute_check, n = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 √ó 8\n   id_text      visit race  race_forward race_backward income income_global_mean\n   <chr>        <dbl> <chr> <chr>        <chr>          <dbl>              <dbl>\n 1 Home|Qui√±|1‚Ä¶     2 <NA>  white        white             NA             96123.\n 2 Home|Qui√±|1‚Ä¶     3 <NA>  white        white           6361              6361 \n 3 Home|Qui√±|1‚Ä¶     4 white white        white             NA             96123.\n 4 Jimm|Doyl|2‚Ä¶     2 <NA>  white        white             NA             96123.\n 5 Jimm|Doyl|2‚Ä¶     3 <NA>  white        white         197522            197522 \n 6 Jimm|Doyl|2‚Ä¶     4 white white        white             NA             96123.\n 7 Mari|Lind|1‚Ä¶     2 <NA>  white        white             NA             96123.\n 8 Mari|Lind|1‚Ä¶     3 white white        white             NA             96123.\n 9 Mari|Lind|1‚Ä¶     4 <NA>  white        <NA>          177323            177323 \n10 Tamb|Bali|1‚Ä¶     2 <NA>  white        white             NA             96123.\n11 Tamb|Bali|1‚Ä¶     3 white white        white             NA             96123.\n12 Tamb|Bali|1‚Ä¶     4 <NA>  white        <NA>          139772            139772 \n# ‚Ñπ 1 more variable: income_participant_mean <dbl>\n```\n\n\n:::\n\n```{.r .cell-code}\n# Clean up temporary objects \nrm( participant_mean_income, final_impute_check, global_mean_income, df_passport, df_mice,\n    patients_mice, imputed, mice_result, missing_summary, total_missing, n_missing_individuals, missing_rows\n)\n```\n:::\n\n\n------------------------------------------------------------------------\n\n## **üî¢ PART V: Descriptive Statistics and Tabulation**\n\nIn data analysis, summarising and tabulating variables is often the first step before conducting modelling or drawing conclusions. Descriptive statistics reveal the central tendency, variability, distribution shape, and frequency patterns in your dataset.\n\nThis section provides an overview of the most commonly used R functions for summarising both numeric and categorical variables. These tools help detect outliers, missing data, or skewed distributions and are essential for generating publication-ready summary tables.\n\nüìö *Further are available via:*\n\n-   YouTube: [AnalyticsHub](https://studio.youtube.com/video/5V7SPBH-8BE/edit)\\\n-   Github: [Summary Tools Repository](https://github.com/HabtamuBizuayehu)\n\n------------------------------------------------------------------------\n\nSome of the contents essential for this section are presented below.\n\n**Basic Summary Statistics**\\\nsummary(), mean(), median(), min(), max(), sd(), var(), range(), quantile(), IQR()\n\n**Distribution Shape / Skewness**: skewness(), kurtosis() **Extended Descriptive Summaries**: describe() ,stat.desc(), skim() **Tabulation (Frequencies and Proportions)**\\\ntable(), prop.table(), addmargins(), xtabs()\n\n**Tidy Summary and Tabulations**\\\ntabyl(), adorn_percentages(), adorn_totals() ‚Äì From janitor\\\ncount(), group_by() + summarise() ‚Äì From dplyr\\\npivot_wider(), pivot_longer() ‚Äì From tidyr\n\n**Cross Tabulations**: CrossTable() ‚Äì From gmodels\n\n### **üîπ 1. Basic Summary Statistics**\n\nThese functions are useful for summarising continuous variables such as age, vaccine cost, or time intervals:\n\n-   `summary()` ‚Äì 5-number summary + mean\\\n-   `mean()`, `median()` ‚Äì Measures of central tendency\\\n-   `sd()`, `var()` ‚Äì Measures of spread\\\n-   `min()`, `max()` ‚Äì Extremes\\\n-   `range()` ‚Äì Min and max in one\\\n-   `quantile()` ‚Äì Percentiles (e.g., 25th, 75th)\n-   `IQR()` ‚Äì Interquartile range\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Childhood Respiratory       Other \n        472         955         126 \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nFemale   Male \n   798    755 \n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ....................................................\n# Basic Summary Statistics Using Base R\n# ....................................................\n\n# Select key numeric variables\nsummary_vars <- vacc_1524 %>% \n  select(age, base_cost, healthcare_expenses)\n\n# View summary() for a quick five-number summary + mean\nsummary(summary_vars)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      age          base_cost   healthcare_expenses\n Min.   : 1.00   Min.   :136   Min.   :    527.5  \n 1st Qu.:12.00   1st Qu.:136   1st Qu.:  14478.2  \n Median :25.00   Median :136   Median :  56729.2  \n Mean   :32.42   Mean   :136   Mean   : 156656.2  \n 3rd Qu.:52.00   3rd Qu.:136   3rd Qu.: 195830.8  \n Max.   :97.00   Max.   :136   Max.   :1157946.9  \n```\n\n\n:::\n\n```{.r .cell-code}\n# Individual statistics for 'age'\nmean(vacc_1524$age, na.rm = TRUE)             # Mean age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 32.41661\n```\n\n\n:::\n\n```{.r .cell-code}\nmedian(vacc_1524$age, na.rm = TRUE)           # Median age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 25\n```\n\n\n:::\n\n```{.r .cell-code}\nmin(vacc_1524$age, na.rm = TRUE)              # Minimum age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n\n```{.r .cell-code}\nmax(vacc_1524$age, na.rm = TRUE)              # Maximum age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 97\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(vacc_1524$age, na.rm = TRUE)               # Standard deviation of age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 23.76926\n```\n\n\n:::\n\n```{.r .cell-code}\nvar(vacc_1524$age, na.rm = TRUE)              # Variance of age\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 564.9777\n```\n\n\n:::\n\n```{.r .cell-code}\nrange(vacc_1524$age, na.rm = TRUE)            # Range: min and max\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  1 97\n```\n\n\n:::\n\n```{.r .cell-code}\nquantile(vacc_1524$age, probs = c(0.25, 0.5, 0.75), na.rm = TRUE)  # Quartiles\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n25% 50% 75% \n 12  25  52 \n```\n\n\n:::\n\n```{.r .cell-code}\nIQR(vacc_1524$age, na.rm = TRUE)              # Interquartile range\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 40\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Clean up temporary object\n# ....................................................\nrm(summary_vars)\n```\n:::\n\n\n### **üîπ 2. Shape of Distribution (Skewness and Kurtosis)**\n\nThese indicators describe the **shape** of a numeric variable‚Äôs distribution. They help identify when a variable is:\n\n-   Skewed (not symmetric)\n-   Heavy-tailed (high kurtosis)\n\n**Distribution Shape: Skewness and Kurtosis**\n\n| Value Range | **Skewness** | **Kurtosis** (Excess) |\n|------------------------|---------------------|---------------------------|\n| ‚âà 0 | Symmetrical | Mesokurtic (normal-tailed) |\n| ¬±0.5 | Approximately symmetrical | Slight deviation |\n| ¬±0.5 ‚Äì ¬±1 | Moderate skew | Moderate peakedness or flatness |\n| \\> ¬±1 | High skew (strong asymmetry) | Substantial deviation from normality |\n| \\> 0 (kurtosis - 3 \\> 0) | ‚Äì | Leptokurtic (peaked, heavy tails) |\n| \\< 0 (kurtosis - 3 \\< 0) | ‚Äì | Platykurtic (flat, light tails) |\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ensure the 'moments' package is installed\nif (!requireNamespace(\"moments\", quietly = TRUE)) {install.packages(\"moments\")}\nlibrary(moments)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate distribution shape statistics\nskewness(vacc_1524$age, na.rm = TRUE)     # Skewness: +ve = right-skewed, -ve = left-skewed\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5301022\n```\n\n\n:::\n\n```{.r .cell-code}\nkurtosis(vacc_1524$age, na.rm = TRUE)     # Kurtosis: >3 = heavy tails, <3 = flat distribution\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2.059686\n```\n\n\n:::\n\n```{.r .cell-code}\nkurtosis(vacc_1524$age, na.rm = TRUE) - 3  # Excess kurtosis\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -0.940314\n```\n\n\n:::\n\n```{.r .cell-code}\n# ....................................................\n# Histogram to Visualize Distribution Shape\n# ....................................................\nhist(vacc_1524$age, \n     main = \"Histogram of Age\",\n     xlab = \"Age (Years)\", \n     col = \"#69b3a2\", \n     border = \"white\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-54-1.png){width=672}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n### **üîπ 3. Extended Descriptive Summaries**\n\nTo produce a comprehensive summary of all variables (especially helpful in surveys or health system datasets), use:\n\n-   `describe()` ‚Äì From `Hmisc`: includes labels, missing %, and stats\\\n-   `stat.desc()` ‚Äì From `pastecs`: full statistical description with skew/kurtosis\\\n-   `skim()` ‚Äì From `skimr`: summary with inline histograms and types\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install required packages if missing\npackages <- c(\"Hmisc\", \"pastecs\", \"skimr\")\nfor (p in packages) {if (!requireNamespace(p, quietly = TRUE)) install.packages(p)}\n\n# Explicitly load the packages\nlibrary(Hmisc)     # for describe()\nlibrary(pastecs)   # for stat.desc()\nlibrary(skimr)     # for skim()\n\nrm (packages)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ------------------------------\n# Extended Descriptive Summaries\n# ------------------------------\n\n# Hmisc::describe() ‚Äì Detailed variable summary\ndescribe(vacc_1524[, c(\"age\", \"gender\", \"race\")])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nvacc_1524[, c(\"age\", \"gender\", \"race\")] \n\n 3  Variables      1553  Observations\n--------------------------------------------------------------------------------\nage \n       n  missing distinct     Info     Mean  pMedian      Gmd      .05 \n    1553        0       62    0.999    32.42       32    26.76      5.0 \n     .10      .25      .50      .75      .90      .95 \n     6.0     12.0     25.0     52.0     68.8     73.0 \n\nlowest :  1  2  5  6  7, highest: 76 78 80 85 97\n--------------------------------------------------------------------------------\ngender \n       n  missing distinct \n    1553        0        2 \n                        \nValue      Female   Male\nFrequency     798    755\nProportion  0.514  0.486\n--------------------------------------------------------------------------------\nrace \n       n  missing distinct \n    1553        0        5 \n                                             \nValue       asian  black native  other  white\nFrequency     111     94     13     29   1306\nProportion  0.071  0.061  0.008  0.019  0.841\n--------------------------------------------------------------------------------\n```\n\n\n:::\n\n```{.r .cell-code}\n# pastecs::stat.desc() ‚Äì Full statistics with skewness/kurtosis\nstat.desc(vacc_1524$age)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     nbr.val     nbr.null       nbr.na          min          max        range \n1.553000e+03 0.000000e+00 0.000000e+00 1.000000e+00 9.700000e+01 9.600000e+01 \n         sum       median         mean      SE.mean CI.mean.0.95          var \n5.034300e+04 2.500000e+01 3.241661e+01 6.031564e-01 1.183087e+00 5.649777e+02 \n     std.dev     coef.var \n2.376926e+01 7.332432e-01 \n```\n\n\n:::\n\n```{.r .cell-code}\n# skimr::skim() ‚Äì Tidy summary with histograms and data types\nskim(vacc_1524[, c(\"age\", \"gender\", \"income\")])\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |                             |\n|:------------------------|:----------------------------|\n|Name                     |vacc_1524[, c(\"age\", \"gen... |\n|Number of rows           |1553                         |\n|Number of columns        |3                            |\n|_______________________  |                             |\n|Column type frequency:   |                             |\n|factor                   |1                            |\n|numeric                  |2                            |\n|________________________ |                             |\n|Group variables          |None                         |\n\n\n**Variable type: factor**\n\n|skim_variable | n_missing| complete_rate|ordered | n_unique|top_counts         |\n|:-------------|---------:|-------------:|:-------|--------:|:------------------|\n|gender        |         0|             1|FALSE   |        2|Fem: 798, Mal: 755 |\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|      mean|        sd|   p0|   p25|   p50|    p75|   p100|hist  |\n|:-------------|---------:|-------------:|---------:|---------:|----:|-----:|-----:|------:|------:|:-----|\n|age           |         0|             1|     32.42|     23.77|    1|    12|    25|     52|     97|‚ñá‚ñÉ‚ñÉ‚ñÉ‚ñÅ |\n|income        |         0|             1| 108887.58| 139702.07| 7361| 35860| 75767| 124775| 816851|‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ |\n\n\n:::\n:::\n\n\n### **üîπ 4. Tabulation (Frequencies and Proportions)**\n\nUsed for categorical variables like gender, race, or vaccine group:\n\n-   `table()` ‚Äì Basic frequency counts\\\n-   `prop.table()` ‚Äì Row/column proportions\\\n-   `addmargins()` ‚Äì Adds totals to tables\\\n-   `xtabs()` ‚Äì Cross-tabulation formula interface\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# --------------------------------------------\n# üîπ Categorical Variable Summary \n# --------------------------------------------\n\n# Basic frequency counts for individual vaccine types\ntable(vacc_1524$vaccine_group)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n          COVID-19          DTP group          Hepatitis                Hib \n               144                147                111                 32 \n               HPV          Influenza                IPV      Meningococcal \n                59                811                 47                 50 \n               MMR Pneumococcal PCV13 Pneumococcal PPV23          Rotavirus \n                26                 52                  8                 21 \n         Varicella             Zoster \n                26                 19 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Frequency counts for grouped vaccine categories\ntable(vacc_1524$vacc_group3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Childhood Respiratory       Other \n        472         955         126 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Proportion of grouped vaccine categories\nprop.table(table(vacc_1524$vacc_group3))  # Overall proportions\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Childhood Respiratory       Other \n 0.30392788  0.61493883  0.08113329 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Frequency table with row/column totals added\naddmargins(table(vacc_1524$vacc_group3))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Childhood Respiratory       Other         Sum \n        472         955         126        1553 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Cross-tabulation between vaccine group and gender\nxtabs(~ vacc_group3 + gender, data = vacc_1524)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n             gender\nvacc_group3   Female Male\n  Childhood      233  239\n  Respiratory    511  444\n  Other           54   72\n```\n\n\n:::\n:::\n\n\n### **üîπ 5. Tidy Summary and Tabulations**\n\nModern workflows prefer tidy-format summaries using:\n\n-   `tabyl()` ‚Äì From `janitor`: clean frequency tables\\\n-   `adorn_totals()`, `adorn_percentages()` ‚Äì Add percentages and totals\\\n-   `count()` ‚Äì From `dplyr`: group-level counts\\\n-   `group_by()` + `summarise()` ‚Äì Group-wise summary\n-   `pivot_wider()`, `pivot_longer()` ‚Äì Reshape tables\n\nThe section below demonstrates tabulations using `janitor::tabyl()` and tidyverse functions for grouped summaries and table reshaping.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# --------------------------------------------\n# üîπ Tabulation and Table Reshaping \n# --------------------------------------------\n\n# 1. Basic clean frequency table with janitor::tabyl()\nvacc_1524 %>%\n  tabyl(vacc_group3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n vacc_group3   n    percent\n   Childhood 472 0.30392788\n Respiratory 955 0.61493883\n       Other 126 0.08113329\n```\n\n\n:::\n\n```{.r .cell-code}\n# 2. Add column percentages and total row\nvacc_1524 %>%\n  tabyl(vacc_group3, gender) %>%\n  adorn_percentages(\"col\") %>%\n  adorn_totals(\"row\") %>%\n  adorn_title(\"combined\")  # Cleaner column names\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n vacc_group3/gender     Female       Male\n          Childhood 0.29197995 0.31655629\n        Respiratory 0.64035088 0.58807947\n              Other 0.06766917 0.09536424\n              Total 1.00000000 1.00000000\n```\n\n\n:::\n\n```{.r .cell-code}\n# 3. Group-level count using dplyr::count()\nvacc_1524 %>%\n  count(vacc_group3, gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  vacc_group3 gender   n\n1   Childhood Female 233\n2   Childhood   Male 239\n3 Respiratory Female 511\n4 Respiratory   Male 444\n5       Other Female  54\n6       Other   Male  72\n```\n\n\n:::\n\n```{.r .cell-code}\n# 4. Group-wise summary using group_by + summarise\nvacc_1524 %>%\n  group_by(vacc_group3) %>%\n  summarise(n = n(), .groups = \"drop\") %>%\n  mutate(prop = n / sum(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 3\n  vacc_group3     n   prop\n  <fct>       <int>  <dbl>\n1 Childhood     472 0.304 \n2 Respiratory   955 0.615 \n3 Other         126 0.0811\n```\n\n\n:::\n\n```{.r .cell-code}\n# 5. Pivot table to wide format (e.g., for display or reporting)\nvacc_1524 %>%\n  count(vacc_group3, gender) %>%\n  pivot_wider(names_from = gender, values_from = n, values_fill = 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 3\n  vacc_group3 Female  Male\n  <fct>        <int> <int>\n1 Childhood      233   239\n2 Respiratory    511   444\n3 Other           54    72\n```\n\n\n:::\n\n```{.r .cell-code}\n# 6. Optional: Pivot longer to return to tidy format\nvacc_1524 %>%\n  count(vacc_group3, gender) %>%\n  pivot_wider(names_from = gender, values_from = n, values_fill = 0) %>%\n  pivot_longer(-vacc_group3, names_to = \"gender\", values_to = \"count\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 3\n  vacc_group3 gender count\n  <fct>       <chr>  <int>\n1 Childhood   Female   233\n2 Childhood   Male     239\n3 Respiratory Female   511\n4 Respiratory Male     444\n5 Other       Female    54\n6 Other       Male      72\n```\n\n\n:::\n:::\n\n\n### **üîπ 6. Cross Tabulations**\n\nUsed to explore the relationship between two or more categorical variables.\n\n-   `CrossTable()` ‚Äì From `gmodels`: produces detailed cross-tabs with row %, column %, and counts\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install and load the gmodels package for cross-tabulation\nif (!requireNamespace(\"gmodels\", quietly = TRUE)) {\n  install.packages(\"gmodels\")\n}\nlibrary(gmodels)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ------------------------------\n# Cross Tabulation Example\n# ------------------------------\n\n# Generate a contingency table between gender and vaccine group\nCrossTable(vacc_1524$vacc_group3, vacc_1524$gender,\n           prop.r = FALSE,     # Row proportions\n           prop.c = TRUE,     # Column proportions\n           prop.t = FALSE,    # Overall proportion (optional)\n           chisq = TRUE)      # Include chi-square test for independence\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n \n   Cell Contents\n|-------------------------|\n|                       N |\n| Chi-square contribution |\n|           N / Col Total |\n|-------------------------|\n\n \nTotal Observations in Table:  1553 \n\n \n                      | vacc_1524$gender \nvacc_1524$vacc_group3 |    Female |      Male | Row Total | \n----------------------|-----------|-----------|-----------|\n            Childhood |       233 |       239 |       472 | \n                      |     0.375 |     0.396 |           | \n                      |     0.292 |     0.317 |           | \n----------------------|-----------|-----------|-----------|\n          Respiratory |       511 |       444 |       955 | \n                      |     0.838 |     0.886 |           | \n                      |     0.640 |     0.588 |           | \n----------------------|-----------|-----------|-----------|\n                Other |        54 |        72 |       126 | \n                      |     1.783 |     1.885 |           | \n                      |     0.068 |     0.095 |           | \n----------------------|-----------|-----------|-----------|\n         Column Total |       798 |       755 |      1553 | \n                      |     0.514 |     0.486 |           | \n----------------------|-----------|-----------|-----------|\n\n \nStatistics for All Table Factors\n\n\nPearson's Chi-squared test \n------------------------------------------------------------\nChi^2 =  6.162349     d.f. =  2     p =  0.04590531 \n\n\n \n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n**üîπ Summary Table: Descriptive Statistics and Tabulation Functions**\n\n| **Task** | **Function** | **Package** |\n|------------------------|------------------------|------------------------|\n| Basic numeric summaries | `summary()`, `mean()`, `sd()`, `IQR()` | base |\n| Percentiles and range | `quantile()`, `range()` | base |\n| Skewness / Kurtosis | `skewness()`, `kurtosis()` | e1071, moments |\n| Extended profiling | `describe()`, `stat.desc()`, `skim()` | Hmisc, pastecs, skimr |\n| Frequency tables | `table()`, `xtabs()`, `prop.table()` | base |\n| Clean tables (tidy) | `tabyl()`, `adorn_*()`, `count()` | janitor, dplyr |\n| Group summaries | `group_by()` + `summarise()` | dplyr |\n| Reshape for tables | `pivot_wider()`, `pivot_longer()` | tidyr |\n| Rich cross-tabulation | `CrossTable()` | gmodels |\n\n------------------------------------------------------------------------\n\n### **7.2 Saving and Writing Data**\n\n-   `write.csv()`, `write_xlsx()`, `saveRDS()`, `write_tsv()`\n-   Exporting interactive tables with `DT::datatable()`\n-   Saving and loading the entire R workspace (save.image(), load())\n\n------------------------------------------------------------------------\n\n## **PART VI: DATA VISUALIZATION WITH `ggplot2`**\n\n**Visualization Contents and Types Overview**\n\n-   **Layers**: Theme, Coordinates, Facets, Statistics, Geometries, Aesthetics, Data\n-   **Chart Types**: line, histogram, boxplot, bar, area, density, violin, dotplot, ECDF, scatter, bubble, QQ plot\n-   **Comparative & Multivariate**: faceted plot, pair plot, heatmap, treemap, radar chart, ridgeline plot, forest plot\n-   **Geospatial Visualization**: choropleth map, point map, heatmap overlay\n-   **Statistical Overlays**: error bars, confidence intervals, regression lines, smoothers\n-   **Interactive Visualization**: scatter/line/bar (Plotly), interactive tables (DT), interactive maps (Leaflet), dashboards (Shiny, flexdashboard)\n\nEffective visualizations help uncover patterns, trends, and insights in data. In R, we commonly use the `ggplot2` package for static plots and tools like `plotly`, `DT`, and `leaflet` for interactive dashboards and graphics.\n\nThe sections below summarize different types of visualizations and how they fit into analysis workflows.\n\n------------------------------------------------------------------------\n\n### **üîπ Visualization Layer Components**\n\nEvery ggplot chart is built using multiple composable layers: - **Data**: The dataset to visualize. - **Aesthetics (`aes()`)**: Mappings between variables and visual elements (e.g., x, y, color). - **Geometries (`geom_*`)**: Plot types (e.g., `geom_line()`, `geom_bar()`). - **Statistics (`stat_*`)**: Summaries or transformations (e.g., `stat_smooth()`). - **Facets**: Create multiple plots by group (`facet_wrap()`, `facet_grid()`). - **Coordinates**: Set axis and aspect ratio (`coord_cartesian()`, `coord_flip()`). - **Themes**: Control overall appearance (e.g., `theme_minimal()`, `theme_bw()`).\n\n### **üîπ Common Chart Types**\n\n| **Chart Type** | **Function** | **Used For** |\n|------------------|------------------------|------------------------------|\n| Line Chart | `geom_line()` | Trends over time |\n| Histogram | `geom_histogram()` | Distribution of continuous variables |\n| Boxplot | `geom_boxplot()` | Distribution & outliers |\n| Bar Plot | `geom_bar()` | Counts or categorical comparison |\n| Area Plot | `geom_area()` | Cumulative trends |\n| Density Plot | `geom_density()` | Smoothed distribution |\n| Violin Plot | `geom_violin()` | Combination of boxplot + density |\n| Dot Plot | `geom_dotplot()` | Count-based plots |\n| ECDF Plot | `stat_ecdf()` | Cumulative distribution |\n| Scatter Plot | `geom_point()` | Bivariate relationships |\n| Bubble Plot | `geom_point(aes(size = ...))` | 3-variable comparison using size |\n\n------------------------------------------------------------------------\n\n### **üîπ Comparative & Multivariate Visuals**\n\n| **Visual Type** | **Purpose** |\n|------------------------------------|------------------------------------|\n| **Faceted Plot** (`facet_wrap`) | Compare subgroups in separate panels |\n| **Pair Plot** (`GGally::ggpairs`) | Explore all pairwise relationships |\n| **Heatmap** (`geom_tile`, `heatmap()`) | Show intensity using color |\n| **Treemap** (`treemapify`) | Hierarchical categories and values |\n| **Radar Chart** (`fmsb`) | Compare multivariate profiles |\n| **Ridgeline Plot** (`ggridges`) | Distribution comparison across groups |\n| **Forest Plot** (`forestplot`, `ggforestplot`) | Confidence intervals and effect sizes |\n\n------------------------------------------------------------------------\n\n### **üîπ Geospatial Visualizations**\n\n| **Map Type** | **Function/Use** |\n|--------------------------|----------------------------------------------|\n| Choropleth Map | Show values by region (e.g., `geom_sf()`, `tmap`) |\n| Point Map | Locations with coordinates (e.g., `geom_point()`, `leaflet::addMarkers`) |\n| Heatmap Overlay | Density of spatial events (e.g., `leaflet::addHeatmap()`) |\n\n------------------------------------------------------------------------\n\n### **üîπ Statistical Enhancements (Overlays)**\n\n-   **Error bars**: `geom_errorbar()` for confidence or SD intervals\n-   **Regression lines**: `geom_smooth(method = \"lm\")`\n-   **Trend smoothing**: `geom_smooth()` with `method = \"loess\"`\n-   **Labeling**: `geom_text()`, `geom_label()` to annotate plots\n\n------------------------------------------------------------------------\n\nThis section demonstrates how to visualize breast cancer screening and vaccination data. We'll walk through common chart types such as line plots, bar charts, boxplots, and faceted views. Each example is designed with annotations and descriptions to aid understanding.\n\n------------------------------------------------------------------------\n\n### **üîπ Visualization Layer Components with Examples**\n\nEach chart demonstrates how different `ggplot2` components come together using real health datasets.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install if not already installed\nif (!requireNamespace(\"treemapify\", quietly = TRUE)) {install.packages(\"treemapify\")}\nif (!requireNamespace(\"ggridges\", quietly = TRUE)) {install.packages(\"ggridges\")}\nif (!requireNamespace(\"gganimate\", quietly = TRUE)) install.packages(\"gganimate\")\nif (!requireNamespace(\"gifski\", quietly = TRUE)) install.packages(\"gifski\")\n\nlibrary(gganimate)\nlibrary(gifski)\nlibrary(ggridges)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(treemapify)\nlibrary(stringr)  # for str_to_title()\nlibrary(tidyr)\n```\n:::\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n Date[1:1553], format: \"1994-02-06\" \"1994-02-06\" \"1994-02-06\" \"1994-02-06\" \"1994-02-06\" ...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  1   2   5   6   7  10  11  12  13  14  15  16  17  18  19  20  21  23  24  25 \n 46  24  64  66  34 100  38  59  21  21  34  81  18  36  18  34  40  13  12  47 \n 27  28  29  30  33  34  36  37  38  40  41  42  43  44  45  46  47  48  49  50 \n 17  30   9  35   4   7   6   8   6  20  37  16   9  17  15  13   9  21  30  15 \n 51  52  53  55  56  58  60  61  62  63  64  65  68  69  71  73  74  76  78  80 \n 13  30  16  30  26  14  12  24  36  13  25  14  14  47  14  19  15  14  12  13 \n 85  97 \n 12  10 \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  0‚Äì9 10‚Äì19 20‚Äì29 30‚Äì49   50+ \n  234   426   202   253   438 \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n2016 2017 2018 2019 \n 341  341  341  341 \n```\n\n\n:::\n:::\n\n\n**Line Chart ‚Äì Breast Cancer Screening Trends by Region in Australia**\n\nThe example below shows a **line chart** illustrating trends in **breast cancer screening rates** across Australian states from 2016 to 2019.\n\n-   Breast cancer screening rates across most Australian states appeared relatively consistent from 2016 to 2018, with minor year-to-year variations.\n\n-   A notable decline in screening rates is evident after 2018 and particularly in 2019, coinciding with the early stages of the COVID-19 pandemic\n\n**State-specific Observations:**\n\n-   **Tasmania (Tas)** consistently had the highest screening rate, around 60%, but showed a clear decline post-2018.\n\n-   The **Northern Territory (NT)** had the lowest rates, around 40%, also experiencing a slight decline during this period.\n\n-   Other states (**ACT, NSW, Qld, SA, Vic, WA**) maintained relatively stable rates (around 55%) until 2018, after which a distinct downturn is noticeable, particularly in Western Australia (WA) and Victoria (Vic).\n\n**Impact of COVID-19:**\n\n-   The observed decline in breast cancer screening from 2019 onwards aligns with the emergence of the COVID-19 pandemic, which disrupted routine healthcare services globally.\n\nThis analysis underscores the importance of maintaining consistent access to healthcare services, particularly preventive screenings, even during periods of significant healthcare disruption.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Visualizing changes in screening rates (50‚Äì74 years) over time by state\n\nbreast_cancer_data %>%\n  group_by(state, year_4digit) %>%  # group by state and year\n  summarise(mean_rate = mean(rate50_74, na.rm = TRUE), .groups = \"drop\") %>%\n  ggplot(aes(x = year_4digit, y = mean_rate, color = state)) +  # map axes and color\n  geom_line(size = 1.2) +  # trend lines\n  geom_point(size = 2) +   # points for each year\n  labs(\n    title = \"Breast Cancer Screening Rates (50‚Äì74 yrs)\",  \n    subtitle = \"Aggregated by State and Year\",           \n    x = \"Year\", y = \"Screening Rate (%)\",  # Axis labels\n    color = \"State\"   # Legend title\n  ) +\n  \n  theme_minimal()  \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\n‚Ñπ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 4 rows containing missing values or values outside the scale range\n(`geom_line()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 4 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-63-1.png){width=672}\n:::\n:::\n\n\n**Histogram ‚Äì Distribution of Age**\\\nDisplays the frequency of vaccinated individuals by age, with a density line overlay to visualize the distribution shape.\n\nThe example below shows a histogram illustrating the **age distribution** within our studied population. The distribution highlights a clear **bimodal pattern**, indicating two main age groups. The largest group comprises younger adults, predominantly around 20‚Äì30 years old, suggesting a significant representation of young adults. A smaller secondary group emerges around 55‚Äì65 years old, reflecting a noticeable segment of older adults. This pattern may indicate specific target groups or demographic characteristics relevant to the population from which the data was collected. Understanding these age clusters can help tailor appropriate health strategies, services, or interventions accordingly.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = age)) +\n  geom_histogram(aes(y = ..density..), binwidth = 5, fill = \"darkblue\", color = \"white\", alpha = 0.7) +\n  geom_density(color = \"red\", size = 1.2) +\n  labs(title = \"Age Distribution with Density Curve\", x = \"Age\", y = \"Density\") +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The dot-dot notation (`..density..`) was deprecated in ggplot2 3.4.0.\n‚Ñπ Please use `after_stat(density)` instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-64-1.png){width=672}\n:::\n:::\n\n\n**Pie Chart ‚Äì Proportion by Vaccine Group**\\\nShows how vaccine groups are proportionally represented in the dataset. Useful for visualizing categorical outcomes.\n\nIn the example below, the pie chart represents the proportion of vaccinations grouped into three categories:\n\n-   **Respiratory vaccines** account for the largest proportion, comprising **61%** of all vaccines administered.\n\n-   **Childhood vaccines** represent a significant portion as well, making up **30%**.\n\n-   The category labeled **Other** includes **8%** of vaccines administered, indicating a smaller but notable group of vaccinations outside the respiratory and childhood classifications.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  count(vacc_group3) %>%\n  mutate(perc = n / sum(n), label = scales::percent(perc)) %>%\n  ggplot(aes(x = \"\", y = perc, fill = vacc_group3)) +\n  geom_col(width = 1) +\n  coord_polar(theta = \"y\") +\n  geom_text(aes(label = label), position = position_stack(vjust = 0.5)) +\n  labs(title = \"Vaccine Group Proportions\", fill = \"Vaccine Group\") +\n  theme_void()\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-65-1.png){width=672}\n:::\n:::\n\n\n**Bar Plot ‚Äì Vaccination Count by Vaccine Group**\\\nThis plot compares the absolute count of vaccinations across groups, with horizontal bars for better readability of long labels.\n\nThe example below shows a **horizontal bar chart** illustrating the total number of vaccinations administered, grouped into three distinct categories:\n\n-   **Respiratory vaccines** clearly represent the largest group, indicating that these vaccines were administered most frequently within the population.\n\n-   The **Other** category accounts for the smallest number of vaccinations, suggesting a relatively minor proportion of miscellaneous or specialized vaccines.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  count(vacc_group3) %>%\n  ggplot(aes(x = reorder(vacc_group3, n), y = n, fill = vacc_group3)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(title = \"Vaccination Count by Group\", x = NULL, y = \"Count\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-66-1.png){width=672}\n:::\n:::\n\n\n**Grouped Bar Plot ‚Äì Vaccination by Race and Vaccine Group**\\\nThe example below shows a **stacked bar chart** presenting the distribution of vaccinations by race and vaccine category.\n\n-   **Respiratory vaccines** (represented in blue) dominate across all racial groups, consistently making up the largest proportion of administered vaccines, especially noticeable among **Black** and **White** groups.\n\n-   **Childhood vaccines** (represented in red) form a significant proportion of vaccinations among the **Asian** and **Native** groups, highlighting targeted or population-specific vaccination programs for younger age groups within these communities.\n\n-   The **Other vaccines** category (represented in green) comprises a relatively minor proportion and appears more prominent among the **Asian** and **White** populations.\n\n```         \n**Implications:**\n\nThese patterns may suggest varying public health strategies, demographic factors, or differing healthcare access across racial groups. Understanding these variations can guide targeted healthcare interventions and improve vaccine coverage equity.\n```\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Prepare data: count vaccinations by race and vaccine group\n\nvacc_1524$race <- tools::toTitleCase(vacc_1524$race)\n\nvacc_summary <- vacc_1524 %>%\n  count(race, vacc_group3) %>%\n  group_by(race) %>%\n  mutate(prop = n / sum(n)) %>%\n  ungroup()\n\nggplot(vacc_summary, aes(x = race, y = prop, fill = vacc_group3)) +\n  geom_col(position = \"dodge\") +\n  labs(\n    title = \"Vaccination Distribution by Race and Vaccine Group\",\n    x = \"Race\", y = \"Proportion\",\n    fill = \"Vaccine Group\"\n  ) +\n  scale_y_continuous(labels = scales::percent_format()) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-67-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrm(vacc_summary)\n```\n:::\n\n\n**Stacked Bar Chart ‚Äì Race by Vaccine Group**\n\nThe example below shows a **stacked bar chart** illustrating the number of vaccinations administered, grouped by vaccine type and categorized by racial groups.\n\n-   The **White** population received the highest number of vaccinations across all vaccine categories (**Childhood, Other, and Respiratory vaccines**).\n\n-   Other racial groups (**Asian, Black, Native, and Other**) also received vaccinations, though in smaller numbers across each vaccine type, indicating ongoing efforts to reach diverse communities.\n\n-   **Respiratory vaccines** had the highest total number of vaccinations administered, suggesting these vaccines were a primary focus within the vaccination program.\n\n```         \nThis data helps to illustrate which groups have higher vaccine coverage and highlights the importance of ensuring equitable access and distribution across all communities.\n```\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  mutate(race = stringr::str_to_title(race)) %>%\n  count(vacc_group3, race) %>%\n  ggplot(aes(x = vacc_group3, y = n, fill = race)) +\n  geom_bar(stat = \"identity\") +\n  labs(title = \"Stacked Bar Chart: Race by Vaccine Group\", x = \"Vaccine Group\", y = \"Count\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-68-1.png){width=672}\n:::\n:::\n\n\n**Boxplot ‚Äì Age Distribution by Vaccine Group**\\\nVisualizes how age varies across vaccine groups using standard boxplots.\n\nThe example below shows a **box plot** depicting age distribution for three vaccine categories (**Childhood vaccines, Other vaccines, and Respiratory vaccines**):\n\n**Key Observations:**\n\n-   **Childhood vaccines** primarily cover younger ages, with most recipients under 25 years old. Some individuals beyond this age range appear as outliers, suggesting occasional vaccinations in older groups.\n\n-   **Respiratory vaccines** generally target an older age group, with the median age around 50 years, and a broad range from younger adults to elderly populations.\n\n-   The **Other vaccines** category has a wider age distribution overall, suggesting these vaccines serve diverse age groups, though with fewer individuals compared to the other two groups.\n\n**Implications:**\n\nThis visualization highlights clear age-based targeting for different vaccine categories. Childhood vaccines are expectedly administered primarily to younger populations, while respiratory vaccines predominantly reach older adults. Understanding these age patterns helps to plan targeted public health campaigns and resource allocation effectively.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = vacc_group3, y = age, fill = vacc_group3)) +\n  geom_boxplot() +\n  labs(title = \"Age Distribution by Vaccine Group\",\n       x = \"Vaccine Group\", y = \"Age (Years)\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-69-1.png){width=672}\n:::\n:::\n\n\n**Boxplot with Jittered (Individual Data) Points**\\\nCombines summary and raw data by overlaying individual age points on the boxplot.\n\nThe example below shows a **boxplot with individual data points (jittered)**, displaying the **age distribution** of individuals across three vaccine groups: **Childhood vaccines, Other vaccines, and Respiratory vaccines**.\n\n-   **Childhood vaccines**:\n\n-   Most individuals who received childhood vaccines are young, with a median age around 10 years.\n\n-   The distribution is tightly concentrated, though some older individuals (outliers) also received these vaccines.\n\n-   The data points clearly cluster in younger age ranges, which is expected for this vaccine group.\n\n    -   **Respiratory vaccines**:\n\n        -   This group has the highest median age, around 40‚Äì50 years.\n\n        -   The data points are more evenly spread out across a wide age range, with many individuals above 60 years, indicating respiratory vaccines are frequently administered to older populations.\n\n    **Other vaccines**:\n\n    -   This group shows a wide range of ages, from infants to older adults.\n\n    -   While the median age is still relatively low, the spread is broader compared to childhood vaccines, suggesting this category includes various vaccines administered across different age groups.\n\n    **Implications:**\n\n    By combining summary statistics (boxplot) with individual-level data (dots), this chart offers a clear view of both overall trends and variation in vaccination by age. It confirms that vaccine distribution aligns with age-specific health needs‚Äîyoung children for childhood vaccines, and older adults for respiratory vaccines‚Äîwhile also showing the diversity within each group.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = vacc_group3, y = age, fill = vacc_group3)) +\n  geom_boxplot(outlier.shape = NA, alpha = 0.6) +\n  geom_point(position = position_jitter(width = 0.2),\n             alpha = 0.3, color = \"black\", size = 1.2) +\n  labs(title = \"Boxplot with Individual Data Points\",\n       x = \"Vaccine Group\", y = \"Age\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-70-1.png){width=672}\n:::\n:::\n\n\n**Boxplot with Violin Overlay**\\\nAdds a violin plot to visualize the full distribution of ages while preserving boxplot summary stats.\n\nThe plot below combines a **boxplot** and **violin plot** to display the age distribution across different vaccine groups: **Childhood vaccines**, **Other vaccines**, and **Respiratory vaccines**.\n\n-   **Childhood vaccines**:\\\n    The age distribution is heavily concentrated among younger individuals, with most recipients under 25 years. The violin shape is widest near the lower ages, tapering quickly, which indicates that childhood vaccines are rarely given to older individuals.\n\n-   **Respiratory vaccines**:\\\n    The distribution leans toward older age groups, with the median age higher than in other categories. The violin is widest in the 40‚Äì70 age range, suggesting respiratory vaccines are more commonly administered to older adults.\n\n<!-- -->\n\n-   **Other vaccines**:\\\n    This group shows a broader age range. The shape suggests two areas of concentration: one among younger children and another around age 60‚Äì70, indicating this group includes vaccine types used across diverse age groups.\n\n    **Overall**, this combined plot provides both statistical summaries (via boxplot) and full distribution shapes (via violin plot), helping to clearly distinguish the age-related usage patterns across vaccine types.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = vacc_group3, y = age, fill = vacc_group3)) +\n  geom_violin(alpha = 0.4, color = NA) +\n  geom_boxplot(width = 0.2, outlier.shape = NA) +\n  labs(title = \"Boxplot with Violin Overlay\", x = NULL, y = \"Age\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-71-1.png){width=672}\n:::\n:::\n\n\n**Notched Boxplot ‚Äì Median Comparison**\\\nNotches allow a rough comparison of medians across groups. Non-overlapping notches suggest a significant difference.\n\nThe plot below presents a **notched boxplot** showing the age distribution for each vaccine group‚Äî**Childhood vaccines**, **Other vaccines**, and **Respiratory vaccines**.\n\n-   The **notches** around the medians provide a visual guide for comparing the central values (medians) across groups. If the notches do not overlap, it suggests that the medians are likely different in a statistically meaningful way.\n\n**Key insights:**\n\n-   **Childhood vaccines** show a younger age distribution, with a median age around 10 years and a narrow spread. Outliers indicate a few older individuals also received these vaccines.\n\n-   **Respiratory vaccines** are mainly administered to older age groups, with the highest median age among the three categories.\n\n-   **Other vaccines** span a wider range of ages, but the median remains lower than that of respiratory vaccines.\n\n**Median Comparison:**\n\n-   The **non-overlapping notches** between childhood and respiratory vaccines suggest a clear difference in median ages.\n\n-   The **other vaccines** group overlaps slightly with both, indicating a more mixed age distribution and less pronounced difference.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = vacc_group3, y = age, fill = vacc_group3)) +\n  geom_boxplot(notch = TRUE) +\n  labs(title = \"Notched Boxplot: Vaccine Group vs Age\", x = \"Group\", y = \"Age\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNotch went outside hinges\n‚Ñπ Do you want `notch = FALSE`?\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-72-1.png){width=672}\n:::\n:::\n\n\n**Faceted Boxplot by Gender**\\\nBreaks down the age distribution by vaccine group and gender to compare across subgroups.\n\nThe plot below shows **boxplots of age distribution** by **vaccine group** (**Childhood**, **Respiratory**, and **Other vaccines**), separated into two panels by **gender** (**Female** and **Male**).\n\n**Key Observations:**\n\n-   **Childhood vaccines**:\n\n```         \n-    Age distributions are similar for both females and males, with most recipients being under 25 years.\n\n-    A few older outliers are present, especially among females, but the bulk of vaccine recipients are children and adolescents.\n```\n\n-   **Respiratory vaccines**:\n\n```         \n-    This group shows a wide age range in both genders, with median ages around 40‚Äì45 years.\n\n-    The distribution is slightly more spread out among males, but the overall trend remains consistent across genders.\n```\n\n-   **Other vaccines**:\n\n```         \n-    A notable gender difference is visible here:\n\n    -   Among **females**, recipients span a broad age range, including many older adults.\n\n    -    Among **males**, the age distribution is narrower and skewed toward younger adults.\n```\n\n**Summary:**\n\nThis faceted view helps highlight how **age patterns differ by both vaccine group and gender**. While childhood and respiratory vaccine distributions are generally similar across genders, the **\"Other\" vaccine group shows more variation**, possibly reflecting differences in vaccine eligibility, access, or health needs.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = vacc_group3, y = age, fill = vacc_group3)) +\n  geom_boxplot() +\n  facet_wrap(~ gender) +\n  labs(title = \"Age by Vaccine Group, Faceted by Gender\", x = NULL, y = \"Age\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-73-1.png){width=672}\n:::\n:::\n\n\n**Ordered Boxplot ‚Äì by Median Age**\\\nReorders vaccine groups by median age to emphasize differences in distribution centrality.\n\nThe plot below shows **age distributions by vaccine group**, with the groups reordered by **median age** to highlight differences in central tendency.\n\n**Key Observations:**\n\n-   **Childhood vaccines** have the **lowest median age**, with most recipients being under 20 years. A small number of older individuals appear as outliers.\n\n-   **Other vaccines** show a **moderate median age**, but with a wide spread across age groups‚Äîranging from infants to older adults. This suggests these vaccines are used in more varied contexts.\n\n-   **Respiratory vaccines** have the **highest median age**, with recipients typically ranging from their 30s to older adulthood, reflecting their common use among older populations.\n\n**Conclusion:**\n\nBy ordering the boxplots by median age, this visual emphasizes the different age profiles targeted by each vaccine group. This approach helps communicate age-related trends in vaccine administration more clearly .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  mutate(vacc_group3 = fct_reorder(vacc_group3, age, median, na.rm = TRUE)) %>%\n  ggplot(aes(x = vacc_group3, y = age, fill = vacc_group3)) +\n  geom_boxplot() +\n  labs(title = \"Boxplot Ordered by Median Age\", x = NULL, y = \"Age\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-74-1.png){width=672}\n:::\n:::\n\n\n**Area Plot ‚Äì Monthly Vaccination Trends Over Years**\\\nUses an area chart to show monthly vaccination volumes over multiple years, stacked by year.\n\nThe area chart below displays **monthly vaccination counts** over multiple years (2015‚Äì2024), helping visualize seasonal and annual trends in vaccine uptake.\n\n**Key Observations:**\n\n-   **2020** stands out with the highest overall vaccination counts, especially between **April and June**, likely reflecting a surge due to public health responses such as the COVID-19 pandemic.\n\n-   In other years, vaccination numbers are more evenly distributed, with moderate peaks around **March‚ÄìApril** or **August‚ÄìSeptember**, possibly aligning with seasonal vaccination programs (e.g., flu campaigns).\n\n-   **2023 and 2024** show a relatively steady pattern throughout the year, with less fluctuation month-to-month.\n\n-   **Earlier years** (2015‚Äì2017) have lower and more variable volumes compared to recent years.\n\n**Conclusion:**\n\nThis chart highlights both **seasonal vaccination patterns** and the **impact of specific public health events**, such as the elevated activity in 2020. Monitoring these trends over time supports planning for future vaccination campaigns and resource allocation.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  count(vacc_year, vacc_month_name) %>%\n  ggplot(aes(x = vacc_month_name, y = n, group = vacc_year, fill = factor(vacc_year))) +\n  geom_area(alpha = 0.7, position = \"identity\") +\n  labs(title = \"Monthly Vaccination Trends by Year\",\n       x = \"Month\", y = \"Number of Vaccinations\", fill = \"Year\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-75-1.png){width=672}\n:::\n:::\n\n\n**Faceted Plot ‚Äì Proportional Vaccination Trends by Group and Race**\\\nDisplays how the proportion of vaccinations among different races changed across years, separately for each vaccine group.\n\nThe faceted line plot below shows how the **proportion of vaccinations** among different **racial groups** has changed over time (**2015‚Äì2024**), presented separately for each **vaccine group**: **Childhood**, **Respiratory**, and **Other**.\n\n**Key Observations:**\n\n-   **Childhood vaccines**:\n\n```         \n-   Proportions vary notably year to year, especially for **Asian**, **Black**, and **Native** groups.\n\n-   The **\"Other\"** and **White** groups show a more consistent presence but with modest fluctuations.\n\n-    Some groups (e.g., Native) show a steady rise in recent years.\n\n**Respiratory vaccines**:\n\n-    Several racial groups (notably **Native**, **Black**, and **Other**) show periods of very high proportions, including years where proportions reached **100%**, likely due to small subgroup sample sizes or data dominance.\n\n-    The **White** and **Asian** groups tend to remain stable, though proportions fluctuate in certain years (e.g., 2020‚Äì2022).\n```\n\n-   **Other vaccines**:\n\n```         \n-   Representation is generally lower and more variable across all racial groups.\n\n-    The **White** group maintains a small but steady share throughout most years.\n\n**Interpretation:**\n```\n\nThis faceted view enables comparisons within and between vaccine types, highlighting potential shifts in **vaccine access**, **uptake**, or **data coverage** by racial group over time. It also suggests where disparities or changes in focus may have occurred, helping to inform more equitable vaccination strategies.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Prepare data: floor year, count by group, compute proportions within each group\n\n# Clean and count total per race/year (for denominator)\ntotal_by_race_year <- vacc_1524 %>%\n  mutate(\n    age = as.integer(round(age)),\n    vacc_year = as.integer(floor(vacc_year)),\n    race = str_to_title(as.character(race))\n  ) %>%\n  count(vacc_year, race, name = \"total_race_year\")\n\n#  Count per vaccine group (for numerator), then join\nvacc_plot_data <- vacc_1524 %>%\n  mutate(\n    age = as.integer(round(age)),\n    vacc_year = as.integer(floor(vacc_year)),\n    race = str_to_title(as.character(race))\n  ) %>%\n  count(vacc_year, race, vacc_group3, name = \"n\") %>%\n  left_join(total_by_race_year, by = c(\"vacc_year\", \"race\")) %>%\n  mutate(prop = n / total_race_year)\n\n# Plot proportion by race within group\nggplot(vacc_plot_data, aes(x = vacc_year, y = prop, color = race)) +\n  geom_line(size = 1) +\n  facet_wrap(~ vacc_group3) +\n  scale_y_continuous(labels = percent_format()) +\n  scale_x_continuous(breaks = pretty(unique(vacc_plot_data$vacc_year))) +\n  labs(\n    title = \"Proportion of Race Within Vaccine Groups by Year\",\n    x = \"Year\", y = \"Proportion\", color = \"Race\"\n  ) +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-76-1.png){width=672}\n:::\n\n```{.r .cell-code}\nrm(vacc_plot_data, total_by_race_year)\n```\n:::\n\n\n**Statistical Overlay ‚Äì Regression Line on Vaccination Age**\\\nAdds a linear regression to examine the relationship between income and age at vaccination.\n\nThe scatterplot below visualizes the relationship between **income** (horizontal axis) and **age at vaccination** (vertical axis), with a **linear regression line** and confidence band overlaid to summarize the trend.\n\n**Key Observations:**\n\n-   The fitted **regression line** shows a **slight negative slope**, suggesting that as income increases, the age at which individuals receive vaccination tends to **decrease modestly**.\n\n-   The **confidence band** (shaded region) around the line is relatively narrow, indicating a fair level of certainty in the trend across the central range of income.\n\n-   The majority of data points are concentrated in the lower income ranges, while higher income values are more sparsely populated and show greater variability.\n\n```         \n**Interpretation:**\n```\n\nThis trend suggests a **possible inverse relationship** between income and vaccination age‚Äîindividuals with higher income may be more likely to receive vaccines at younger ages. This could reflect differences in healthcare access, awareness, or proactive health behaviors associated with income level.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  ggplot(aes(x = income, y = age)) +\n  geom_point(alpha = 0.3, color = \"gray50\") +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"blue\") +\n  labs(\n    title = \"Association Between Income and Age at Vaccination\",\n    x = \"Income\", y = \"Age\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-77-1.png){width=672}\n:::\n:::\n\n\n**Regression Plot ‚Äì Age vs Income by Vaccine Group (Log Scale)**\\\nAdds linear regression and facets by vaccine group. The x-axis is log-scaled to handle skewed income data.\n\nThe plot below shows **scatterplots with linear regression lines**, examining the relationship between **income** and **age at vaccination**. The plots are faceted by **vaccine group**: **Childhood**, **Other**, and **Respiratory**. The x-axis uses a **logarithmic scale** to better handle the skewed distribution of income.\n\n**Key Observations:**\n\n-   **Childhood vaccines**:\n\n```         \n-    A **slight negative trend** is observed, indicating that as income increases, age at vaccination tends to decrease slightly.\n\n-    This may reflect earlier or more timely vaccinations among higher-income individuals for childhood vaccines.\n```\n\n-   **Other vaccines**:\n\n```         \n-   The regression line is nearly flat with a wide confidence interval, suggesting **no strong or consistent relationship** between income and age at vaccination in this group.\n\n-    This likely reflects diverse vaccine purposes and use across a broad age and income range.\n```\n\n-   **Respiratory vaccines**:\n\n```         \n-   A **mild negative trend** is also seen here, where higher-income individuals may receive respiratory vaccines at slightly younger ages.\n\n-    However, the relationship is subtle and the confidence interval overlaps considerably with the regression line.\n\n**Interpretation:**\n```\n\nWhile the strength of association varies across groups, both the childhood and respiratory vaccine panels suggest a small trend where **higher income is associated with younger age at vaccination**. This may be related to differences in **access**, **preventive health behaviors**, or **healthcare utilization** by income level.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  mutate(vacc_group3 = str_to_title(vacc_group3)) %>%\n  ggplot(aes(x = income, y = age)) +\n  geom_point(alpha = 0.3, color = \"gray50\") +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"blue\") +\n  scale_x_log10(labels = scales::comma_format()) +\n  facet_wrap(~ vacc_group3) +\n  labs(\n    title = \"Association Between Income and Age at Vaccination\",\n    x = \"Income (log scale)\", y = \"Age\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-78-1.png){width=672}\n:::\n:::\n\n\n**ECDF ‚Äì Age at Vaccination**\n\nThe empirical cumulative distribution function (ECDF) shows the proportion of individuals vaccinated at or below each age. This helps visualize the age distribution in a cumulative way.\n\nThe plot below presents shows the **cumulative proportion** of individuals who received a vaccination at or below each age.\n\n**Key Observations:**\n\n-   The curve rises steeply in the early age range, indicating that a large proportion of individuals were vaccinated at younger ages (e.g., before 30).\n\n-   By around **age 50**, approximately **80%** of individuals had been vaccinated.\n\n-   The curve flattens out after age 75, suggesting fewer vaccinations occur at older ages.\n\n**Interpretation:**\n\nThe ECDF provides an intuitive way to understand the **distribution of vaccination ages**. It highlights that most vaccinations occur in **childhood and early adulthood**, with fewer individuals vaccinated later in life. This cumulative view complements histograms and boxplots by showing the proportion of individuals affected up to each age.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 <- vacc_1524 %>% filter(income > 0, !is.na(age))\n\nvacc_1524 %>%\n  ggplot(aes(x = age)) +\n  stat_ecdf(geom = \"step\", color = \"steelblue\") +\n  labs(title = \"ECDF of Age at Vaccination\", x = \"Age\", y = \"Cumulative Proportion\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-79-1.png){width=672}\n:::\n:::\n\n\n**Treemap ‚Äì Vaccination by Race and Vaccine Group**\n\nThis treemap visualizes the distribution of vaccinations by race and vaccine group. Larger areas indicate more individuals within each combination.\n\nThe treemap below displays the **distribution of vaccinations** across **racial groups**, further categorized by **vaccine group** (Childhood, Respiratory, and Other). Each rectangle represents a combination of race and vaccine type, with **area size corresponding to the number of individuals** vaccinated.\n\n**Key Observations:**\n\n-   The **White** population accounts for the **largest share overall**, with:\n\n```         \n-    **788 individuals (50.7%)** in the **Respiratory** vaccine group.\n\n-    **404 individuals (26.0%)** in the **Childhood** vaccine group.\n\n-    **114 individuals (7.3%)** in the **Other** vaccine group.\n```\n\n-   Other racial groups have smaller shares:\n\n```         \n-    **Black** individuals make up a modest proportion across groups, particularly **4.5%** in the Respiratory group and **1.4%** in Childhood vaccines.\n\n-    **Asian** individuals represent **4.4%** of Respiratory vaccines and **2.1%** of Childhood vaccines.\n\n-    **Native** and **Other** groups have minimal representation overall.\n\n**Interpretation:**\n```\n\nThis treemap visually emphasizes the dominant contribution of the White population across all vaccine types, especially for respiratory vaccines. It also illustrates disparities in representation among racial groups, which can be important for assessing **equity in vaccine access**, **uptake**, and **program targeting**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cross-platform ‚Äúnew device‚Äù:\ndev.new(width = 8, height = 6)  \n\np <- vacc_1524 %>%\n  count(race, vacc_group3) %>%\n  mutate(race = str_to_title(race)) %>%\n  ggplot(aes(area = n, fill = vacc_group3, label = race)) +\n  geom_treemap() +\n  geom_treemap_text(colour = \"white\", place = \"centre\", grow = TRUE) +\n  labs(\n    title = \"Treemap: Vaccination by Race and Vaccine Group\",\n    fill  = \"Vaccine Group\"\n  ) +\n  theme_minimal()\n\nprint(p)\n\nrm (p)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#  Treemap - with Labels Showing Counts and Proportions by Race and vaccine Group\nvacc_1524 %>%\n  count(race, vacc_group3) %>%\n  mutate(\n    race = str_to_title(race),\n    total = sum(n),\n    proportion = n / total,\n    label_text = paste0(race, \"\\n\", n, \" (\", percent(proportion, accuracy = 0.1), \")\")\n  ) %>%\n  ggplot(aes(area = n, fill = vacc_group3, label = label_text)) +\n  geom_treemap() +\n  geom_treemap_text(colour = \"white\", place = \"centre\", grow = TRUE, reflow = TRUE) +\n  labs(\n    title = \"Treemap: Vaccination by Race and Vaccine Group\",\n    fill = \"Vaccine Group\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-81-1.png){width=672}\n:::\n:::\n\n\n**Correlation Heatmap ‚Äì Numeric Variables**\n\nThis heatmap displays Pearson correlation coefficients between selected numeric variables. Strong positive or negative values help identify relationships worth further analysis.\n\nThe heatmap below displays **Pearson correlation coefficients** between selected numeric variables: **age**, **income**, **healthcare expenses**, and **healthcare coverage**. Correlation values range from **-1 to 1**, where values closer to ¬±1 indicate stronger relationships.\n\n**Key Observations:**\n\n-   **Age and healthcare coverage** show a **strong positive correlation** (**0.65**), suggesting that as individuals age, they are more likely to have greater healthcare coverage.\n\n-   **Age and healthcare expenses** are also **positively correlated** (**0.66**), indicating that older individuals tend to incur higher healthcare costs.\n\n-   **Healthcare coverage and healthcare expenses** show a **moderate positive correlation** (**0.44**), which may reflect that those with more coverage also utilize healthcare services more frequently or thoroughly.\n\n-   **Income** is **not strongly correlated** with any other variable in this set, with the highest being a negligible **0.02** with healthcare coverage and a slightly negative value with age (**-0.04**) and expenses (**-0.05**).\n\n```         \n**Interpretation:**\n```\n\nThis heatmap highlights potential relationships that may inform further analysis‚Äîespecially the connections between **age, coverage, and expenses**. In contrast, **income appears relatively independent** of the other variables in this dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnumeric_vars <- vacc_1524 %>%\n  select(age, income, healthcare_expenses, healthcare_coverage) %>%\n  na.omit()\n\ncor_matrix <- round(cor(numeric_vars), 2)\n\nas.data.frame(as.table(cor_matrix)) %>%\n  rename(Var1 = Var1, Var2 = Var2, Correlation = Freq) %>%\n  ggplot(aes(x = Var1, y = Var2, fill = Correlation)) +\n  geom_tile(color = \"white\") +\n  geom_text(aes(label = Correlation), color = \"black\") +\n  scale_fill_gradient2(low = \"red\", high = \"blue\", mid = \"white\", midpoint = 0) +\n  labs(title = \"Correlation Heatmap of Numeric Variables\", x = NULL, y = NULL) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-82-1.png){width=672}\n:::\n:::\n\n\n**Ridgeline Plot ‚Äì Age by Vaccine Group**\n\nThis ridgeline plot shows the age distribution for each vaccine group. It highlights where age densities differ across categories.\n\nThe ridgeline plot below shows **age distributions** for three vaccine groups: **Childhood**, **Other**, and **Respiratory**. Each layer represents the **density of ages** within a vaccine category, allowing for visual comparison of where individuals are most commonly vaccinated within each group.\n\n**Key Observations:**\n\n-   **Childhood vaccines** show a clear peak at very young ages, as expected. The density drops rapidly as age increases, with a small secondary bump around middle age, possibly reflecting catch-up vaccinations or data irregularities.\n\n-   **Other vaccines** have a **bimodal distribution** with one peak in younger adults and another in older adults (around 70+ years), suggesting they are used across multiple life stages.\n\n-   **Respiratory vaccines** have a **broad distribution**, with a peak density around **60‚Äì70 years**, consistent with routine respiratory vaccinations for older adults (e.g., influenza or pneumococcal vaccines).\n\n```         \n**Interpretation:**\n```\n\nThis visualization effectively highlights **differences in age targeting** across vaccine groups. It shows that:\n\n-   Childhood vaccines are concentrated in early life,\n\n-   Other vaccines are used more broadly across age ranges, and\n\n-   Respiratory vaccines are predominantly administered to older populations.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvacc_1524 %>%\n  mutate(vacc_group3 = stringr::str_to_title(vacc_group3)) %>%\n  ggplot(aes(x = age, y = vacc_group3, fill = vacc_group3)) +\n  geom_density_ridges(scale = 1.5, alpha = 0.6, color = \"white\") +\n  labs(title = \"Ridgeline Plot: Age Distribution by Vaccine Group\", x = \"Age\", y = \"Vaccine Group\") +\n  theme_minimal() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nPicking joint bandwidth of 5.93\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-83-1.png){width=672}\n:::\n:::\n\n\n**Interactive Plot ‚Äì Income vs Age by Race**\n\nThis interactive scatter plot shows the relationship between income and age, colored by race. Hovering reveals more details including group and income.\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- vacc_1524 %>%\n  mutate(race = stringr::str_to_title(race)) %>%\n  ggplot(aes(x = income, y = age, color = race,\n             text = paste(\"Race:\", race,\n                          \"<br>Group:\", vacc_group3,\n                          \"<br>Income:\", income,\n                          \"<br>Age:\", age))) +\n  geom_point(alpha = 0.6) +\n  geom_smooth(method = \"loess\", se = FALSE, color = \"gray30\") +\n  labs(title = \"Interactive: Income vs Age by Race\",\n       x = \"Income\", y = \"Age\", color = \"Race\") +\n  theme_minimal() +\n  theme(legend.position = \"bottom\")\n\nggplotly(p, tooltip = \"text\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-e05b37273efa6b47cf09\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e05b37273efa6b47cf09\">{\"x\":{\"data\":[{\"x\":[17382,17382,17382,17382,17382,17382,17382,17382,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,7873,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,127881,92007,92007,92007,92007,92007,92007,92007,92007,92007,33949,33949,33949,33949,33949,33949,33949,33949,33949,33949,33949,33949,33949,72413,72413,72413,72413,72413,72413,72413,72413,72413,72413,72413,72413,72413,72413,72413,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537,92537],\"y\":[30,30,30,30,30,30,30,30,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,43,43,43,43,43,43,43,43,43,28,28,28,28,28,28,28,28,28,28,28,28,28,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,73,73,73,73,73,73,73,73,73,73,73,73,73,73,73,73,73,73,73],\"text\":[\"Race: Asian <br>Group: Respiratory <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Childhood <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Childhood <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Childhood <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Respiratory <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Respiratory <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Respiratory <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Respiratory <br>Income: 17382 <br>Age: 30\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Childhood <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Childhood <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Childhood <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Childhood <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Childhood <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Respiratory <br>Income: 7873 <br>Age: 15\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Other <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Other <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Other <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Other <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Other <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Other <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Childhood <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 127881 <br>Age: 10\",\"Race: Asian <br>Group: Respiratory <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Respiratory <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Respiratory <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Respiratory <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Respiratory <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Childhood <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Respiratory <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Childhood <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Childhood <br>Income: 92007 <br>Age: 43\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Childhood <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Childhood <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Childhood <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Childhood <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Respiratory <br>Income: 33949 <br>Age: 28\",\"Race: Asian <br>Group: Childhood <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Childhood <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Childhood <br>Income: 72413 <br>Age: 41\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Other <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Other <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Other <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Childhood <br>Income: 92537 <br>Age: 73\",\"Race: Asian <br>Group: Respiratory <br>Income: 92537 <br>Age: 73\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(248,118,109,1)\",\"opacity\":0.59999999999999998,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(248,118,109,1)\"}},\"hoveron\":\"points\",\"name\":\"Asian\",\"legendgroup\":\"Asian\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[28551,28551,28551,28551,28551,28551,28551,28551,28551,28551,28551,28551,28551,28551,28551,816851,816851,816851,816851,816851,816851,816851,816851,816851,816851,816851,816851,816851,816851,816851,198442,198442,198442,198442,198442,198442,198442,198442,198442,198442,198442,198442,198442,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,20158,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,163299,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795,119795],\"y\":[41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,61,61,61,61,61,61,61,61,61,61,61,61,61,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25],\"text\":[\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Childhood <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Childhood <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Childhood <br>Income: 28551 <br>Age: 41\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Childhood <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Other <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Other <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 816851 <br>Age: 69\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Childhood <br>Income: 198442 <br>Age: 61\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Childhood <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Childhood <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Childhood <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Childhood <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Childhood <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 20158 <br>Age: 27\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Childhood <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Childhood <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Childhood <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Childhood <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Childhood <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Childhood <br>Income: 163299 <br>Age: 16\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Childhood <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Childhood <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Childhood <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Childhood <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Childhood <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Childhood <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\",\"Race: Black <br>Group: Respiratory <br>Income: 119795 <br>Age: 25\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(163,165,0,1)\",\"opacity\":0.59999999999999998,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(163,165,0,1)\"}},\"hoveron\":\"points\",\"name\":\"Black\",\"legendgroup\":\"Black\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[36480,36480,36480,36480,36480,36480,36480,36480,36480,36480,36480,36480,36480],\"y\":[23,23,23,23,23,23,23,23,23,23,23,23,23],\"text\":[\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Childhood <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Respiratory <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Childhood <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Childhood <br>Income: 36480 <br>Age: 23\",\"Race: Native <br>Group: Childhood <br>Income: 36480 <br>Age: 23\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,191,125,1)\",\"opacity\":0.59999999999999998,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,191,125,1)\"}},\"hoveron\":\"points\",\"name\":\"Native\",\"legendgroup\":\"Native\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,61926,90297,90297,90297,90297,90297,90297,90297,90297,90297,90297],\"y\":[12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,97,97,97,97,97,97,97,97,97,97],\"text\":[\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Other <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Childhood <br>Income: 61926 <br>Age: 12\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Childhood <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\",\"Race: Other <br>Group: Respiratory <br>Income: 90297 <br>Age: 97\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(0,176,246,1)\",\"opacity\":0.59999999999999998,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(0,176,246,1)\"}},\"hoveron\":\"points\",\"name\":\"Other\",\"legendgroup\":\"Other\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[100511,100511,100511,100511,100511,100511,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,133816,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,52159,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,75767,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,58294,49737,49737,49737,49737,49737,49737,49737,49737,49737,49737,49737,49737,49737,49737,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,77756,35255,35255,35255,35255,35255,35255,35255,35255,35255,35255,35255,35255,35255,35255,24026,24026,24026,24026,24026,24026,24026,24026,127119,127119,127119,127119,127119,127119,127119,127119,127119,127119,127119,127119,127119,127119,127119,30550,30550,30550,30550,30550,30550,30550,30550,30550,30550,30550,30550,30550,30550,30550,25909,25909,25909,25909,25909,25909,25909,25909,25887,25887,25887,25887,25887,25887,25887,25887,25887,25887,25887,25887,29192,29192,29192,29192,75521,75521,75521,75521,75521,75521,75521,75521,75521,75521,75521,75521,75521,75521,75521,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,80475,135334,135334,135334,135334,135334,135334,135334,135334,82840,82840,82840,82840,82840,82840,82840,82840,82840,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,68873,83045,83045,83045,83045,83045,83045,83045,83045,83045,83045,83045,83045,83045,83045,83045,188023,188023,188023,188023,188023,188023,188023,188023,188023,188023,188023,188023,188023,188023,26516,26516,26516,26516,26516,26516,26516,26516,26516,26516,26516,26516,26516,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,86024,10682,10682,10682,10682,10682,10682,10682,10682,10682,10682,10682,10682,56444,56444,56444,56444,56444,56444,56444,56444,56444,56444,56444,56444,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,12128,178323,178323,178323,178323,178323,178323,178323,178323,178323,178323,178323,178323,178323,178323,118047,118047,118047,118047,118047,118047,118047,118047,118047,118047,118047,118047,118047,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,136997,35860,35860,35860,35860,35860,35860,35860,35860,35860,35860,35860,35860,35860,7361,7361,7361,742063,742063,742063,742063,742063,742063,742063,18374,18374,18374,18374,18374,18374,18374,18374,18374,18374,18374,18374,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,71169,7361,7361,7361,7361,7361,7361,7361,7361,7361,7361,7361,7361,7361,7361,38286,38286,38286,38286,38286,38286,38286,38286,38286,38286,38286,38286,38286,38286,38286,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,110733,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,95075,92411,92411,92411,92411,92411,92411,37098,37098,37098,37098,37098,37098,37098,37098,37098,37098,37098,37098,37098,37098,124361,124361,124361,124361,124361,124361,124361,124361,124361,8752,8752,8752,8752,8752,8752,8752,8752,8752,8752,8752,8752,8752,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,198522,179090,179090,179090,179090,179090,179090,179090,179090,179090,179090,179090,179090,179090,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,10135,44636,44636,44636,44636,44636,44636,44636,44636,44636,44636,44636,44636,44636,44636,44636,67906,67906,67906,67906,67906,67906,67906,67906,67906,67906,67906,67906,67906,67906,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,116503,69926,69926,69926,69926,69926,69926,69926,69926,69926,69926,69926,69926,69926,69926,82922,82922,82922,82922,82922,82922,82922,82922,82922,82922,82922,82922,16969,16969,16969,16969,16969,16969,16969,16969,16969,16969,16969,16969,16969,16969,16969,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,138174,58212,58212,58212,58212,58212,58212,58212,58212,58212,58212,140772,140772,140772,140772,140772,140772,140772,140772,140772,140772,140772,140772,140772,140772,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,71078,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,124698,39370,39370,39370,39370,39370,39370,39370,39370,39370,39370,39370,39370,39370,39370,39370,18258,18258,18258,18258,18258,18258,18258,18258,18258,18258,18258,83325,83325,83325,83325,83325,83325,83325,83325,83325,83325,83325,83325,83325,83325,83325,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,550030,64743,64743,64743,64743,64743,64743,64743,64743,64743,64743,64743,64743,64743,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,33617,62332,62332,62332,62332,62332,62332,62332,62332,62332,62332,62332,62332,62332,110873,110873,110873,110873,110873,110873,110873,110873,110873,110873,110873,110873,86384,86384,86384,86384,86384,86384,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,170535,36061,36061,36061,36061,36061,36061,36061,36061,36061,36061,36061,36061,36061,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,762068,95344,95344,95344,95344,95344,95344,95344,95344,95344,95344,95344,95344,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,148206,95344,95344,95344,95344,95344,95344,95344,95344,95344,148000,148000,148000,148000,148000,148000,148000,148000,148000,148000,148000,148000,148000,112954,112954,112954,112954,112954,112954,112954,112954,112954,189277,189277,189277,189277,189277,189277,189277,189277,189277,189277,189277,189277,189277,189277,189277,92885,92885,92885,92885,92885,92885,92885,96411,96411,96411,96411,96411,96411,96411,96411,96411,29352,29352,29352,29352,29352,29352,29352,29352,29352,29352,29352,29352,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,8615,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,94205,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,24218,124775,124775,124775,124775,124775,124775,124775,124775,124775,124775,124775,124775,124775,124775,124775,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,545255,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,35486,61016,61016,61016,61016,61016,61016,61016,61016,61016,61016,61016,61016,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727,63727],\"y\":[30,30,30,30,30,30,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,56,56,56,56,56,56,56,56,56,56,56,56,56,56,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,76,76,76,76,76,76,76,76,76,76,76,76,76,76,44,44,44,44,44,44,44,44,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,40,40,40,40,40,40,40,40,60,60,60,60,60,60,60,60,60,60,60,60,33,33,33,33,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,37,37,37,37,37,37,37,37,29,29,29,29,29,29,29,29,29,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,16,16,16,16,16,16,16,16,16,16,16,16,16,16,64,64,64,64,64,64,64,64,64,64,64,64,64,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,53,85,85,85,85,85,85,85,85,85,85,85,85,24,24,24,24,24,24,24,24,24,24,24,24,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,58,58,58,58,58,58,58,58,58,58,58,58,58,58,63,63,63,63,63,63,63,63,63,63,63,63,63,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,46,46,46,46,46,46,46,46,46,46,46,46,46,69,69,69,41,41,41,41,41,41,41,40,40,40,40,40,40,40,40,40,40,40,40,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,69,69,69,69,69,69,69,69,69,69,69,69,69,69,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,36,36,36,36,36,36,65,65,65,65,65,65,65,65,65,65,65,65,65,65,44,44,44,44,44,44,44,44,44,21,21,21,21,21,21,21,21,21,21,21,21,21,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,80,80,80,80,80,80,80,80,80,80,80,80,80,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,21,21,21,21,21,21,21,21,21,21,21,21,21,21,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,68,68,68,68,68,68,68,68,68,68,68,68,68,68,78,78,78,78,78,78,78,78,78,78,78,78,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,62,62,62,62,62,62,62,62,62,62,71,71,71,71,71,71,71,71,71,71,71,71,71,71,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,55,55,55,55,55,55,55,55,55,55,55,55,55,55,55,61,61,61,61,61,61,61,61,61,61,61,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,62,62,62,62,62,62,62,62,62,62,62,62,62,56,56,56,56,56,56,56,56,56,56,56,56,38,38,38,38,38,38,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,62,62,62,62,62,62,62,62,62,62,62,62,62,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,30,30,30,30,30,30,30,30,30,30,30,30,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,30,30,30,30,30,30,30,30,30,51,51,51,51,51,51,51,51,51,51,51,51,51,48,48,48,48,48,48,48,48,48,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,34,34,34,34,34,34,34,47,47,47,47,47,47,47,47,47,48,48,48,48,48,48,48,48,48,48,48,48,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,52,52,52,52,52,52,52,52,52,52,52,52,52,52,52,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,64,64,64,64,64,64,64,64,64,64,64,64,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42],\"text\":[\"Race: White <br>Group: Respiratory <br>Income: 100511 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 100511 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 100511 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 100511 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 100511 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 100511 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 133816 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 52159 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Other <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Respiratory <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 75767 <br>Age: 5\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Other <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 58294 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Other <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Other <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Childhood <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 49737 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 77756 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Other <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Childhood <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 35255 <br>Age: 76\",\"Race: White <br>Group: Respiratory <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Childhood <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Childhood <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Childhood <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 24026 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Childhood <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Childhood <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Childhood <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 127119 <br>Age: 50\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 30550 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Childhood <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Childhood <br>Income: 25909 <br>Age: 40\",\"Race: White <br>Group: Other <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Childhood <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 25887 <br>Age: 60\",\"Race: White <br>Group: Respiratory <br>Income: 29192 <br>Age: 33\",\"Race: White <br>Group: Respiratory <br>Income: 29192 <br>Age: 33\",\"Race: White <br>Group: Respiratory <br>Income: 29192 <br>Age: 33\",\"Race: White <br>Group: Childhood <br>Income: 29192 <br>Age: 33\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Childhood <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Childhood <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Childhood <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Respiratory <br>Income: 75521 <br>Age: 45\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Other <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Childhood <br>Income: 80475 <br>Age: 11\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Childhood <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 135334 <br>Age: 37\",\"Race: White <br>Group: Respiratory <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Childhood <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Childhood <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Childhood <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Respiratory <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Respiratory <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Respiratory <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Respiratory <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Respiratory <br>Income: 82840 <br>Age: 29\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 68873 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Childhood <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Other <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Other <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 83045 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 188023 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Childhood <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 26516 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Other <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Other <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Childhood <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 86024 <br>Age: 53\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Childhood <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 10682 <br>Age: 85\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Childhood <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Childhood <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Childhood <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Childhood <br>Income: 56444 <br>Age: 24\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Childhood <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Respiratory <br>Income: 12128 <br>Age: 18\",\"Race: White <br>Group: Other <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Other <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Childhood <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 178323 <br>Age: 58\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Childhood <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Respiratory <br>Income: 118047 <br>Age: 63\",\"Race: White <br>Group: Other <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Childhood <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 136997 <br>Age: 14\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Childhood <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Childhood <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Childhood <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 35860 <br>Age: 46\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Childhood <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Childhood <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Respiratory <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Respiratory <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Respiratory <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Respiratory <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Childhood <br>Income: 742063 <br>Age: 41\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Childhood <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Respiratory <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Childhood <br>Income: 18374 <br>Age: 40\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Other <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 71169 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Childhood <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Other <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Other <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 7361 <br>Age: 69\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Other <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Other <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Childhood <br>Income: 38286 <br>Age: 52\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Other <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Respiratory <br>Income: 110733 <br>Age: 10\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Other <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Childhood <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 95075 <br>Age: 12\",\"Race: White <br>Group: Respiratory <br>Income: 92411 <br>Age: 36\",\"Race: White <br>Group: Respiratory <br>Income: 92411 <br>Age: 36\",\"Race: White <br>Group: Childhood <br>Income: 92411 <br>Age: 36\",\"Race: White <br>Group: Respiratory <br>Income: 92411 <br>Age: 36\",\"Race: White <br>Group: Respiratory <br>Income: 92411 <br>Age: 36\",\"Race: White <br>Group: Respiratory <br>Income: 92411 <br>Age: 36\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Childhood <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Other <br>Income: 37098 <br>Age: 65\",\"Race: White <br>Group: Respiratory <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Childhood <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Childhood <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Childhood <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 124361 <br>Age: 44\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 8752 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Childhood <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Childhood <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Childhood <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Childhood <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Childhood <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Childhood <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 198522 <br>Age: 19\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Childhood <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Respiratory <br>Income: 179090 <br>Age: 80\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Respiratory <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 10135 <br>Age: 1\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Other <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Other <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Childhood <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 44636 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 67906 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 116503 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Childhood <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Other <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Other <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 69926 <br>Age: 68\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Childhood <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 82922 <br>Age: 78\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Respiratory <br>Income: 16969 <br>Age: 49\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 138174 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Childhood <br>Income: 58212 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Other <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Other <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Respiratory <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Childhood <br>Income: 140772 <br>Age: 71\",\"Race: White <br>Group: Childhood <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 71078 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Childhood <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Childhood <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Childhood <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Childhood <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Childhood <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 124698 <br>Age: 28\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Other <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Other <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Childhood <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 39370 <br>Age: 55\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 18258 <br>Age: 61\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Respiratory <br>Income: 83325 <br>Age: 25\",\"Race: White <br>Group: Childhood <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Childhood <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 550030 <br>Age: 20\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Respiratory <br>Income: 64743 <br>Age: 21\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Other <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Childhood <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 33617 <br>Age: 7\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Childhood <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 62332 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Other <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Other <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Childhood <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 110873 <br>Age: 56\",\"Race: White <br>Group: Respiratory <br>Income: 86384 <br>Age: 38\",\"Race: White <br>Group: Childhood <br>Income: 86384 <br>Age: 38\",\"Race: White <br>Group: Respiratory <br>Income: 86384 <br>Age: 38\",\"Race: White <br>Group: Respiratory <br>Income: 86384 <br>Age: 38\",\"Race: White <br>Group: Respiratory <br>Income: 86384 <br>Age: 38\",\"Race: White <br>Group: Respiratory <br>Income: 86384 <br>Age: 38\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Respiratory <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Other <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Childhood <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Respiratory <br>Income: 170535 <br>Age: 2\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Childhood <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 36061 <br>Age: 62\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 762068 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Childhood <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Childhood <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Childhood <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Childhood <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Childhood <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Childhood <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 148206 <br>Age: 17\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Childhood <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 95344 <br>Age: 30\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Childhood <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Childhood <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Other <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Other <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Childhood <br>Income: 148000 <br>Age: 51\",\"Race: White <br>Group: Respiratory <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Childhood <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Childhood <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Childhood <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 112954 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Other <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Other <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Childhood <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 189277 <br>Age: 74\",\"Race: White <br>Group: Respiratory <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Respiratory <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Respiratory <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Respiratory <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Respiratory <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Respiratory <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Childhood <br>Income: 92885 <br>Age: 34\",\"Race: White <br>Group: Respiratory <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Childhood <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Respiratory <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Childhood <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Childhood <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Respiratory <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Respiratory <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Respiratory <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Respiratory <br>Income: 96411 <br>Age: 47\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Childhood <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Childhood <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Childhood <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 29352 <br>Age: 48\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Other <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Childhood <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 8615 <br>Age: 13\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Childhood <br>Income: 94205 <br>Age: 16\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Childhood <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Childhood <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Childhood <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Childhood <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Childhood <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 24218 <br>Age: 15\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Other <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Other <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Childhood <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Respiratory <br>Income: 124775 <br>Age: 52\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Respiratory <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Other <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 545255 <br>Age: 1\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Other <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Childhood <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 35486 <br>Age: 6\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Childhood <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 61016 <br>Age: 64\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Childhood <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Childhood <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Childhood <br>Income: 63727 <br>Age: 42\",\"Race: White <br>Group: Respiratory <br>Income: 63727 <br>Age: 42\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(231,107,243,1)\",\"opacity\":0.59999999999999998,\"size\":5.6692913385826778,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(231,107,243,1)\"}},\"hoveron\":\"points\",\"name\":\"White\",\"legendgroup\":\"White\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"visible\":false,\"showlegend\":false,\"xaxis\":null,\"yaxis\":null,\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.762557077625573,\"r\":7.3059360730593621,\"b\":40.182648401826491,\"l\":43.105022831050235},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724},\"title\":{\"text\":\"Interactive: Income vs Age by Race\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.534246575342465},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-33113.5,857325.5],\"tickmode\":\"array\",\"ticktext\":[\"0e+00\",\"2e+05\",\"4e+05\",\"6e+05\",\"8e+05\"],\"tickvals\":[0,200000,400000,600000,800000],\"categoryorder\":\"array\",\"categoryarray\":[\"0e+00\",\"2e+05\",\"4e+05\",\"6e+05\",\"8e+05\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Income\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-3.8000000000000007,101.8],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"25\",\"50\",\"75\",\"100\"],\"tickvals\":[0,25,50,75,100],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"25\",\"50\",\"75\",\"100\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.6529680365296811,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.68949771689498},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176002,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Age\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.68949771689498},\"title\":{\"text\":\"Race\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.611872146118724}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"1e4c798f371e\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{},\"type\":\"scatter\"},\"1e4c77681159\":{\"x\":{},\"y\":{},\"colour\":{},\"text\":{}}},\"cur_data\":\"1e4c798f371e\",\"visdat\":{\"1e4c798f371e\":[\"function (y) \",\"x\"],\"1e4c77681159\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n\n```{.r .cell-code}\nrm(p)\n```\n:::\n\n\n**Animation ‚Äì Vaccination Trends Over Years**\n\nThis animation shows how vaccination counts across vaccine groups change over time. It helps spot temporal trends and emerging patterns.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanim_plot <- vacc_1524 %>%\n  mutate(vacc_year = as.integer(floor(vacc_year))) %>%\n  count(vacc_year, vacc_group3) %>%\n  ggplot(aes(x = vacc_group3, y = n, fill = vacc_group3)) +\n  geom_col(show.legend = FALSE) +\n  labs(title = 'Year: {frame_time}', x = 'Vaccine Group', y = 'Count') +\n  theme_minimal() +\n  transition_time(vacc_year) +\n  ease_aes('linear')\n\nanim_file <- tempfile(fileext = \".gif\")\nanim <- animate(anim_plot, nframes = 100, fps = 10, renderer = gifski_renderer(anim_file))\nprint(anim)\n\nrm(anim_plot, anim_file, anim)\n```\n:::\n\n\n**Animation ‚Äì Breast Cancer Screening Uptake by State**\n\nThis animated bar chart shows breast cancer screening uptake over time for each Australian state. It uses faceting to compare regional trends.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbreast_anim <- breast_cancer_data %>%\n  filter(!state %in% c(\"Other\", \"Unknown\")) %>%\n  mutate(year_4digit = as.integer(year_4digit)) %>%\n  group_by(state, year_4digit) %>%\n  summarise(total_screened = sum(part50_74, na.rm = TRUE), .groups = \"drop\") %>%\n  ggplot(aes(x = year_4digit, y = total_screened, fill = state)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~ state) +\n  labs(title = 'Year: {frame_time}', x = 'Year', y = 'Women Screened (50‚Äì74 yrs)') +\n  theme_minimal() +\n  transition_time(year_4digit) +\n  ease_aes('linear')\n\nscreening_gif <- tempfile(fileext = \".gif\")\nanim_screen <- animate(breast_anim, nframes = 100, fps = 10, renderer = gifski_renderer(screening_gif))\nprint(anim_screen)\n\nrm(breast_anim, screening_gif, anim_screen)\n```\n:::\n\n\n### **üîπ Formatting, themes and fonts of figures**\n\n**Heatmap ‚Äì Number of Vaccinations by Month and Weekday** Highlights vaccination activity patterns by day of week and month. Darker tiles represent higher counts.\n\nThe heatmap below demonstrates the **number of vaccinations administered** across **each day of the week** and **each calendar month**. Color intensity indicates the relative number of vaccinations, with darker red representing higher uptake and pale yellow representing lower activity.\n\n**Key Observations:**\n\n-   **Saturday consistently shows high uptake**, particularly in **October, September, and July**, suggesting that weekends may be more accessible or preferred for vaccination appointments.\n\n-   **Tuesday in May** and **Wednesday in August** also show pronounced peaks, likely linked to specific campaign efforts or seasonal programs.\n\n-   **Thursday and Friday** generally have moderate activity, while **Sunday and Monday** tend to have lower vaccination counts across most months.\n\n-   Overall, the **summer and early fall months (July to October)** show increased uptake across several weekdays, possibly aligning with back-to-school vaccination drives or respiratory vaccine rollouts.\n\n```         \n**Interpretation:**\n```\n\nThe plot reveals both **seasonal** and **weekly rhythms** in vaccination behavior. Recognizing these patterns can guide better **scheduling of clinics**, **resource planning**, and **public messaging** to align with high-demand periods and improve overall vaccine accessibility.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ................Without  Adding the long Title ........................................................\n# ..............................................................................................\n\n# --- Order weekday and month factors for proper axis display ---\n# --- Convert original vaccination date to Eastern Time (Massachusetts local time) ---\n# Assumes vacc_date is POSIXct or character in UTC or local system time\nvacc_1524 <- vacc_1524 %>%\n  mutate(\n    vacc_datetime_et = with_tz(as.POSIXct(vacc_date, tz = \"UTC\"), tzone = \"America/New_York\"),  # Adjust timezone to Eastern Time\n    vacc_weekday = wday(vacc_datetime_et, label = TRUE, abbr = FALSE),                          # Extract weekday (e.g., Monday)\n    vacc_month_name = month(vacc_datetime_et, label = TRUE, abbr = FALSE)                       # Extract month (e.g., January)\n  )\n\n# --- Order weekday and month factors for proper axis display ---\nvacc_1524 <- vacc_1524 %>%\n  mutate(\n    vacc_month_name = factor(vacc_month_name, levels = month.name),  # Ensure months are in calendar order\n    vacc_weekday = factor(vacc_weekday, levels = c(\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"))  # Ensure weekdays are in logical order\n  )\n\n# --- Create heatmap of vaccination counts by weekday and month ---\nvacc_1524 %>%\n  count(vacc_weekday, vacc_month_name) %>%  # Count number of vaccinations by weekday and month\n  ggplot(aes(x = vacc_weekday, y = vacc_month_name, fill = n)) +     # Map weekday to x-axis, month to y-axis, and fill by count\n  geom_tile(color = \"white\") +                                       # Draw heatmap tiles with white border for readability\n  scale_fill_gradientn(                                              # Use custom yellow-to-red color scale\n    colors = c(\"#ffffcc\", \"#ffeda0\", \"#feb24c\", \"#f03b20\", \"#bd0026\"),\n    breaks = scales::pretty_breaks(n = 5),                           # Auto-select 5 good breakpoints for legend\n    name = \"Vaccinated Number\"                                       # Legend title\n  ) +\n  labs(\n    title = \"Vaccination Uptake by Weekday and Month\",               # Plot title\n    subtitle = \"Timestamps interpreted as US Eastern Time (Massachusetts)\",  # Timezone context\n    x = \"Weekday\", y = \"Month\", fill = \"Vaccinated Number\",          # Axis and legend labels\n    caption = \"Note: Original timestamps converted from UTC to America/New_York\"\n  ) +\n  theme_minimal() +\n  theme(\n    text = element_text(family = \"Times New Roman\"),                 # Font style\n    legend.position = \"bottom\",                                      # Move legend below the plot\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 10, face = \"bold\"),  # X-axis label formatting\n    axis.text.y = element_text(size = 10, face = \"bold\"),            # Y-axis label formatting\n    axis.title.x = element_text(face = \"bold\", size = 11),\n    axis.title.y = element_text(face = \"bold\", size = 11),\n    plot.title = element_text(size = 12, face = \"bold\"),\n    legend.title = element_text(size = 10),\n    legend.text = element_text(size = 8)\n  )\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-87-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Use figure title below to render in Quarto or Rmarkdown \n#\"Figure XX: Vaccination uptake by weekday and month among individuals aged 15‚Äì24, 2016‚Äì2024.\"\n```\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# ................Adding the long Title ........................................................\n# ..............................................................................................\n\n# --- Convert original vaccination date to Eastern Time (Massachusetts local time) ---\n# Assumes vacc_date is POSIXct or character in UTC or local system time\nvacc_1524 <- vacc_1524 %>%\n  mutate(\n    vacc_datetime_et = with_tz(as.POSIXct(vacc_date, tz = \"UTC\"), tzone = \"America/New_York\"),  # Adjust timezone to Eastern Time\n    vacc_weekday = wday(vacc_datetime_et, label = TRUE, abbr = FALSE),                          # Extract weekday (e.g., Monday)\n    vacc_month_name = month(vacc_datetime_et, label = TRUE, abbr = FALSE)                       # Extract month (e.g., January)\n  )\n\n# --- Order weekday and month factors for proper axis display ---\nvacc_1524 <- vacc_1524 %>%\n  mutate(\n    vacc_month_name = factor(vacc_month_name, levels = month.name),  # Ensure months are in calendar order\n    vacc_weekday = factor(vacc_weekday, levels = c(\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"))  # Ensure weekdays are in logical order\n  )\n\n# --- Create heatmap of vaccination counts by weekday and month ---\np <- vacc_1524 %>%\n  count(vacc_weekday, vacc_month_name) %>%  # Count number of vaccinations by weekday and month\n  ggplot(aes(x = vacc_weekday, y = vacc_month_name, fill = n)) +     # Map weekday to x-axis, month to y-axis, and fill by count\n  geom_tile(color = \"white\") +                                       # Draw heatmap tiles with white border for readability\n  scale_fill_gradientn(                                              # Use custom yellow-to-red color scale\n    colors = c(\"#ffffcc\", \"#ffeda0\", \"#feb24c\", \"#f03b20\", \"#bd0026\"),\n    breaks = scales::pretty_breaks(n = 5),                           # Auto-select 5 good breakpoints for legend\n    name = \"Vaccinated Number\"                                       # Legend title\n  ) +\n  labs(\n    title = \"Vaccination Uptake by Weekday and Month\",               # Plot title\n    x = \"Weekday\", y = \"Month\", fill = \"Vaccinated Number\"           # Axis and legend labels\n  ) +\n  theme_minimal() +\n  theme(\n    text = element_text(family = \"Times New Roman\"),                 # Font style\n    legend.position = \"bottom\",                                      # Move legend below the plot\n    axis.text.x = element_text(angle = 45, hjust = 1, size = 10, face = \"bold\"),  # X-axis label formatting\n    axis.text.y = element_text(size = 10, face = \"bold\"),            # Y-axis label formatting\n    axis.title.x = element_text(face = \"bold\", size = 11),\n    axis.title.y = element_text(face = \"bold\", size = 11),\n    plot.title = element_text(size = 12, face = \"bold\"),\n    legend.title = element_text(size = 10),\n    legend.text = element_text(size = 8)\n  )\n\n# --- Add descriptive figure caption using patchwork's plot_annotation() ---\nfinal_plot <- p + plot_annotation(\n  caption = \"Figure XX: Vaccination uptake by weekday and month among individuals aged 15‚Äì24, 2016‚Äì2024.\",\n  theme = theme(\n    plot.caption = element_text(\n      size = 10, family = \"Times New Roman\", hjust = 0\n    )\n  )\n)\n\n# --- Display the final plot with caption ---\nfinal_plot\n```\n\n::: {.cell-output-display}\n![](index_original_files/figure-html/unnamed-chunk-89-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# setwd (\"C:/Users/User/Desktop/Materials_ Course and proposals/VIP collection for Syntax code or project titles/R codes/Data Manipulation and Wrangling\")\n# \n# # Save plots\n# ggsave(\"Heatmap_vaccination_pattern by day and month.TIFF\", plot = last_plot(), device = \"tiff\", width = 10, height = 6, units = \"in\")\n# ggsave(\"Heatmap_vaccination_pattern by day and month.svg\", plot = last_plot(), device = \"svg\", width = 10, height = 6, units = \"in\")\n\nrm (p, final_plot)\n```\n:::\n\n\n## **PART VII: SHINY App: BUILDING WEB APPS**\n\n8.1 **UI** `fluidPage()`, `sidebarLayout()`, `sidebarPanel()`, `mainPanel()`, `tabsetPanel()`, `tags$style()`\n\n8.2 **Server** `reactive()`, `observeEvent()`, `req()`, `renderPlotly()`, `renderDT()`, `modalDialog()`, `showModal()`\n\n8.3 **App Launch** `shinyApp(ui, server)`\n\n8.4 **Inputs** `sliderInput()`, `selectInput()`, `colourInput()`, `actionButton()`, `downloadButton()`\n\n8.5 **Outputs** `plotlyOutput()`, `DTOutput()`, `datatable()`, `formatStyle()`\n\n8.6 **DT Features** `extensions = 'Buttons'`, export options: `copy`, `csv`, `excel`, `pdf`, `print`\n\n8.7 **Styling and Themes** `tags$style()`, (`shinythemes::shinytheme()` ‚Äì loaded but not applied)\n\nShiny is a web application framework for R that allows analysts to build interactive dashboards and tools using familiar syntax. It provides a structured approach to turning R scripts into accessible apps for broader audiences.\n\nA typical Shiny app includes two core components:\n\n-   **UI (User Interface)**: Defines layout, inputs, and outputs shown on the screen interface.\n-   **Server**: Contains the logic that processes data and responds to user interactions.\n\nShiny apps can include multiple views (tabs), export buttons, dynamic filtering, charts, and customized design themes.\n\n------------------------------------------------------------------------\n\n### **üîπ UI Layout and Page Structure**\n\n-   `fluidPage()`: Defines the page layout.\n-   `sidebarLayout()`, `sidebarPanel()`, `mainPanel()`: Organize inputs and outputs side-by-side.\n-   `tabsetPanel()`: Allows tab navigation for multi-page apps.\n-   `tags$style()`, `shinythemes::shinytheme()`: Add or apply custom styles/themes.\n\n------------------------------------------------------------------------\n\n### **üîπ Server Logic and Reactivity**\n\n-   `reactive()`: Creates reactive data or expressions.\n-   `observeEvent()`: Executes code when a trigger changes.\n-   `req()`: Validates necessary input before proceeding.\n-   Output functions: `renderPlotly()`, `renderDT()`, `renderText()`, `renderTable()`.\n\n------------------------------------------------------------------------\n\n### **üîπ Inputs and Outputs**\n\n| **Type** | **Function** | **Purpose** |\n|------------------|----------------------|--------------------------------|\n| Input | `sliderInput()` | Select a numeric value or range |\n| Input | `selectInput()` | Dropdown menu to choose a category |\n| Input | `colourInput()` | Select a color |\n| Input | `actionButton()` | Trigger processing on click |\n| Input | `downloadButton()` | Download output tables or data |\n| Output | `plotlyOutput()` | Render interactive plots using Plotly |\n| Output | `DTOutput()`, `datatable()` | Render interactive tables |\n| Output | `formatStyle()` | Apply styling (e.g., color, font) to tables |\n\n------------------------------------------------------------------------\n\n### **üîπ Table Export Options (DT Extension)**\n\n-   Add `extensions = 'Buttons'` to enable table exports.\n-   Export types: `\"copy\"`, `\"csv\"`, `\"excel\"`, `\"pdf\"`, `\"print\"`.\n\n------------------------------------------------------------------------\n\n### **üîπ Launching the App**\n\n-   `shinyApp(ui, server)`: Runs the Shiny app combining both UI and server logic.\n-   Apps can be hosted on ShinyApps.io, internal servers, or embedded in R Markdown dashboards.\n\n------------------------------------------------------------------------\n\nThe Shiny app code below demonstrates how interactive visualizations can be built using R to present health data in an accessible and user-friendly format. Specifically, it explores breast cancer screening uptake across states, years, and age groups in Australia. The app enhances user engagement through customizable features and immediate feedback mechanisms.\n\nKey capabilities demonstrated include: - Dynamic UI generation using `fluidPage()`, `sidebarLayout()`, and interactive widgets - State selection using a dropdown (`selectInput()`), which scales better than radio buttons - Age group filtering with a multiple selection input - Quantile-based filtering with `sliderInput()` for rate grouping - Color customization of output using `colourInput()` for personalizing table aesthetics - A modal popup (`modalDialog()`) triggered by a help button to explain data sources - Export options via `downloadButton()` and `DT` export buttons for multiple file formats - Real-time data filtering using `reactive()` expressions to tailor output to user input - An interactive line plot rendered via `plotly` and `ggplot2` for visualization - Fully styled, downloadable data table with `DT::renderDT()` and export capabilities\n\nSee the live app at the following platforms\n\n-   **AnalyticsHub YouTube**: <https://studio.youtube.com/video/5V7SPBH-8BE/edit>\n-   **Live App**: <https://j9eu4e-habtamu-mellie0bizuayehu.shinyapps.io/Breast_Cancer_Screening_Shiny_App/>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install required packages if not already installed\nrequired_packages <- c(\"shiny\", \"ggplot2\", \"plotly\", \"DT\", \"dplyr\", \"shinyjs\", \"shinyWidgets\", \"scales\", \"colourpicker\")\n\n# Install missing ones\nnew_packages <- required_packages[!(required_packages %in% installed.packages()[,\"Package\"])]\nif(length(new_packages)) install.packages(new_packages)\n\n# Load packages\nlibrary(shiny)\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(DT)\nlibrary(dplyr)\nlibrary(shinyjs)\nlibrary(shinyWidgets)\nlibrary(scales)\nlibrary(colourpicker)\n\n\n# load the data\nload(\"C:/Users/User/Desktop/Materials_ Course and proposals/VIP collection for Syntax code or project titles/R codes/Shiny App BC Screening/Breast Cancer Screening.RData\")\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# -------------------Shiny Application for Breast Cancer Screening---------------------\n\n\n# ------------------- UI and Server Definition ---------------------\n\n# Define custom CSS for styling buttons and other UI elements\nui <- fluidPage(\n  \n  # Application title displayed at the top of the app\n  h1(\"Breast Cancer Screening Uptake\"),\n\n  # Apply custom styling to the download button\n  tags$style(HTML(\"\n    #download_data {\n      background: orange;\n      font-size: 20px;\n    }\n  \")),  \n\n  # Layout structure: sidebar for inputs and main panel for outputs\n  sidebarLayout(\n    sidebarPanel(\n      \n      # Quantile-based slider to filter screening rate\n      sliderInput(\"rate_10_group\", \"Rate Group\", \n                  min = min(breast_cancer_long$rate_10_group, na.rm = TRUE), \n                  max = max(breast_cancer_long$rate_10_group, na.rm = TRUE), \n                  value = c(5, 7)),\n      \n      # Dropdown menu for state selection (simplifies and scales better than radio buttons)\n      selectInput(\"state\", \"Select State\",  \n                  choices = unique(breast_cancer_long$state), \n                  selected = \"WA\"),\n\n      # Multi-select dropdown for age groups (allows viewing multiple demographics)\n      selectInput(\"age_group\", \"Women's Age Group\", \n                  choices = unique(breast_cancer_long$age_group), \n                  multiple = TRUE,\n                  selected = unique(breast_cancer_long$age_group)[1]),\n\n      # Add colour input to allow users to control table font colour\n      colourInput(\"color\", \"Point color\", value = \"blue\"),\n\n      # Add a help button that triggers a modal popup for guidance\n      actionButton(\"show_help\", \"Help\"),\n\n      # Add a download button for exporting filtered dataset\n      downloadButton(\"download_data\", \"Download Data\")\n    ),\n\n    mainPanel(\n      # Render the interactive line chart\n      plotlyOutput(\"plot\"),\n\n      # Render the data table output\n      DTOutput(\"table\")\n    )\n  )\n)\n\n# Define server-side logic for rendering outputs and interactivity\nserver <- function(input, output, session) {\n\n  # Show Help Modal: explains data source when help button is clicked\n  observeEvent(input$show_help, {\n    showModal(modalDialog(\n      title = \"Help\",\n      \"This data was compiled from the Australian Institute of Health and Welfare.\"\n    ))\n  })\n\n  # Reactive expression to filter and summarize the dataset based on inputs\n  filtered_data <- reactive({\n    req(input$rate_10_group, input$state, input$age_group)  # Ensure all inputs are available\n\n    breast_cancer_long %>%\n      filter(rate_10_group >= input$rate_10_group[1] & \n               rate_10_group <= input$rate_10_group[2],\n             state == input$state,\n             age_group %in% input$age_group) %>%\n      group_by(year, state, age_group) %>%\n      summarise(year = as.integer(year),  # Convert year to integer for plotting\n                rate = round(mean(rate, na.rm = TRUE), 1),  # Average screening rate\n                .groups = \"drop\") \n  })\n\n  # Render Table: displays filtered data in an interactive table with export options\n  output$table <- renderDT({\n    datatable(filtered_data(), \n              options = list(\n                pageLength = 10,  # Show 10 rows per page\n                dom = 'Bfrtip',  # Include Buttons (copy, csv, pdf, etc.)\n                buttons = c('copy', 'csv', 'excel', 'pdf', 'print'),\n                class = \"display nowrap compact\"  # Responsive and compact table design\n              ),\n              extensions = 'Buttons',\n              style = \"bootstrap\", \n              class = \"table table-striped table-bordered\") %>%\n      formatStyle(columns = names(filtered_data()), color = input$color)  # Use selected color\n  })\n\n  # Download Handler: enables users to download filtered data\n  output$download_data <- downloadHandler(\n    filename = \"Breast_cancer_screening_data.csv\",\n    content = function(file) {\n      write.csv(filtered_data(), file, row.names = FALSE)\n    }\n  )\n\n  # Render Plot: displays line plot of screening rates over time by age group\n  output$plot <- renderPlotly({\n    df <- filtered_data()\n\n    p <- ggplot(df, aes(x = year, y = rate, color = age_group, group = interaction(state, age_group))) +\n      geom_line(size = 1) +  # Draw lines to show trend\n      geom_point(size = 3) +  # Add points to emphasize data values\n      labs(title = \"Breast Cancer Screening Uptake\", \n           x = \"Year\", \n           y = \"Screening Rate\",\n           color = \"Age Group\") +\n      theme_minimal()\n\n    ggplotly(p)  # Convert ggplot to interactive plotly chart\n  })\n}\n\n# Launch the app\nshinyApp(ui, server)\n```\n:::\n\n",
    "supporting": [
      "index_original_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.11.0/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}